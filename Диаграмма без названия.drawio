<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 SberBrowser/28.0.0.0" version="27.2.0">
  <diagram name="Страница — 1" id="WULPb32uHRo-QUS4CWuH">
    <mxGraphModel dx="1372" dy="743" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3300" pageHeight="4681" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <UserObject label="&quot;&quot;&quot;&#xa;Здесь можно разместить функции, не связанные с бизнес-логикой, например, нормализация ответов, обогащение данных и т.д.&#xa;&quot;&quot;&quot;&#xa;&#xa;&#xa;import uuid&#xa;from datetime import datetime&#xa;&#xa;&#xa;from fastapi import Header&#xa;&#xa;&#xa;from aigw_service.context import APP_CTX&#xa;&#xa;&#xa;&#xa;&#xa;# pylint: disable=C0103&#xa;def common_headers(&#xa;    header_Request_Id: str = Header(default=uuid.uuid4(), alias=&quot;Request-Id&quot;),&#xa;    header_Request_Time: str = Header(&#xa;        str(datetime.now(tz=APP_CTX.get_pytz_timezone()).isoformat()), alias=&quot;Request-Time&quot;&#xa;    ),&#xa;    header_System_Id: str = Header(alias=&quot;System-Id&quot;),&#xa;    header_GateWay_Session_Id: str = Header(alias=&quot;GateWay-Session-Id&quot;, default=None),&#xa;    header_Client_Id: str = Header(alias=&quot;Client-Id&quot;, default=None),&#xa;) -&gt; dict:&#xa;    return {&#xa;        &quot;Request-Id&quot;: header_Request_Id,&#xa;        &quot;Request-Time&quot;: header_Request_Time,&#xa;        &quot;System-Id&quot;: header_System_Id,&#xa;        &quot;GateWay-Session-Id&quot;: header_GateWay_Session_Id,&#xa;        &quot;Client-Id&quot;: header_Client_Id,&#xa;    }" link="&quot;&quot;&quot;&#xa;Здесь можно разместить функции, не связанные с бизнес-логикой, например, нормализация ответов, обогащение данных и т.д.&#xa;&quot;&quot;&quot;&#xa;&#xa;&#xa;import uuid&#xa;from datetime import datetime&#xa;&#xa;&#xa;from fastapi import Header&#xa;&#xa;&#xa;from aigw_service.context import APP_CTX&#xa;&#xa;&#xa;&#xa;&#xa;# pylint: disable=C0103&#xa;def common_headers(&#xa;    header_Request_Id: str = Header(default=uuid.uuid4(), alias=&quot;Request-Id&quot;),&#xa;    header_Request_Time: str = Header(&#xa;        str(datetime.now(tz=APP_CTX.get_pytz_timezone()).isoformat()), alias=&quot;Request-Time&quot;&#xa;    ),&#xa;    header_System_Id: str = Header(alias=&quot;System-Id&quot;),&#xa;    header_GateWay_Session_Id: str = Header(alias=&quot;GateWay-Session-Id&quot;, default=None),&#xa;    header_Client_Id: str = Header(alias=&quot;Client-Id&quot;, default=None),&#xa;) -&gt; dict:&#xa;    return {&#xa;        &quot;Request-Id&quot;: header_Request_Id,&#xa;        &quot;Request-Time&quot;: header_Request_Time,&#xa;        &quot;System-Id&quot;: header_System_Id,&#xa;        &quot;GateWay-Session-Id&quot;: header_GateWay_Session_Id,&#xa;        &quot;Client-Id&quot;: header_Client_Id,&#xa;    }" id="SYt-TXJ_Hw24SwqiqHZK-14">
          <mxCell style="text;whiteSpace=wrap;" vertex="1" parent="1">
            <mxGeometry x="30" y="50" width="560" height="530" as="geometry" />
          </mxCell>
        </UserObject>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
