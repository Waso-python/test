<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" version="28.1.0">
  <diagram name="Страница — 1" id="UEoj7QPsIXpe_KQzLWxL">
    <mxGraphModel dx="1426" dy="743" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="dUc_57Bg2O3dePhUninS-1" value="&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;xslData;XLSY;v2;5618;-1;-1;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&quot; style=&quot;border-collapse: collapse;font-family:Calibri;font-size:11pt;color:#000;background-color:transparent;&quot;&gt;&lt;tbody&gt;&lt;tr style=&quot;height:226.29pt&quot;&gt;&lt;td style=&quot;width:820.7142857142857pt;white-space:normal;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;Автовывод: Финансовое состояние, рассчитанное моделью &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Удовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Результативность (операционные результаты)&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Хорошее&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Увеличение выручки LTM по сравнению с АППГ 10.3%.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Выручка за квартал увеличивается хотя бы в одном из 2х кварталов подряд: относительно прошлого периода ((15.6)% и 24.4%) и АППГ (39.4% и 6.8%).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Рентабельность EBITDA LTM составила 4.5%.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Чистая прибыль 23 354 тыс. руб.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Качество активов и управление ими&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Удовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;КТЛ 5.22, выше порогового значения 1.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость ДЗ LTM 9 дней - соответствует оборачиваемости большинства компаний данного ОКК (63 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость КЗ LTM 5 дней - соответствует оборачиваемости большинства компаний данного ОКК (48 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость запасов LTM 107 дней - выше оборачиваемости большинства компаний данного ОКК (59 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Возможность исполнения обязательств&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Хорошее&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Долг(за искл. субор. займов)/EBITDA LTM 3.39, ниже порогового значения 3.5 для данного ОКК.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;ICR LTM 2.94 - выше порогового значения 1.5.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Доля ЧА в структуре баланса 57.8% (&amp;gt;=20%).&lt;br&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="10" width="560" height="380" as="geometry" />
        </mxCell>
        <mxCell id="dUc_57Bg2O3dePhUninS-2" value="&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;xslData;XLSY;v2;5678;-1;-1;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&quot; style=&quot;border-collapse: collapse;font-family:Calibri;font-size:11pt;color:#000;background-color:transparent;&quot;&gt;&lt;tbody&gt;&lt;tr style=&quot;height:226.29pt&quot;&gt;&lt;td style=&quot;width:820.7142857142857pt;white-space:normal;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;Автовывод: Финансовое состояние, рассчитанное моделью &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Неудовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Результативность (операционные результаты)&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Неудовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Снижение выручки LTM по сравнению с АППГ (31.9)%.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Выручка за квартал снижается в течение 2х кварталов подряд: относительно прошлого периода ((5.5)% и (27.5)%) и АППГ ((57.1)% и (37.6)%).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Рентабельность EBITDA LTM составила 6.3%.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Чистая прибыль 39 725 тыс. руб.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Качество активов и управление ими&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Удовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;КТЛ 3.04, выше порогового значения 1.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость ДЗ LTM 75 дней - соответствует оборачиваемости большинства компаний данного ОКК (87 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость КЗ LTM 83 дней - соответствует оборачиваемости большинства компаний данного ОКК (92 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость запасов LTM 135 дней - выше оборачиваемости большинства компаний данного ОКК (89 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Возможность исполнения обязательств&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Неудовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Долг(за искл. субор. займов)/EBITDA LTM 3.88, соответствует диапазону от 3.5 до 4 для данного ОКК.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;ICR LTM 1.48 - ниже порогового значения 1.5.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Доля ЧА в структуре баланса 29.6% (&amp;gt;=20%).&lt;br&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="580" y="540" width="560" height="380" as="geometry" />
        </mxCell>
        <mxCell id="dUc_57Bg2O3dePhUninS-3" value="&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;xslData;XLSY;v2;5822;-1;-1;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&quot; style=&quot;border-collapse: collapse;font-family:Calibri;font-size:11pt;color:#000;background-color:transparent;&quot;&gt;&lt;tbody&gt;&lt;tr style=&quot;height:240.43pt&quot;&gt;&lt;td style=&quot;width:820.7142857142857pt;white-space:normal;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;Автовывод: Финансовое состояние, рассчитанное моделью &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Неудовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Результативность (операционные результаты)&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Удовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Снижение выручки LTM по сравнению с АППГ (5.8)%.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Выручка за квартал относительно предыдущего снижается 2 квартала подряд ((18.6)% и (7.2)%), аналогично АППГ.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Выручка за квартал относительно АППГ снижается 2 квартала подряд ((6.3)% и (8)%).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Рентабельность EBITDA LTM составила 5.5%.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Чистая прибыль 8 165 тыс. руб.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Качество активов и управление ими&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Хорошее&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;КТЛ 3.36, выше порогового значения 1.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость ДЗ LTM 36 дней - соответствует оборачиваемости большинства компаний данного ОКК (44 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость КЗ LTM 48 дней - соответствует оборачиваемости большинства компаний данного ОКК (71 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость запасов LTM 118 дней - соответствует оборачиваемости большинства компаний данного ОКК (171 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Возможность исполнения обязательств&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Неудовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Долг(за искл. субор. займов)/EBITDA LTM 3.93, выше порогового значения 3.5 для данного ОКК.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;ICR LTM 2.73 - выше порогового значения 1.5.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Доля ЧА в структуре баланса 31.8% (&amp;gt;=20%).&lt;br&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="490" y="770" width="560" height="410" as="geometry" />
        </mxCell>
        <mxCell id="dUc_57Bg2O3dePhUninS-4" value="&quot;Автовывод: Финансовое состояние, рассчитанное моделью - Удовлетворительное&#xa;Результативность (операционные результаты) - Неудовлетворительное&#xa;Снижение выручки LTM по сравнению с АППГ (33.3)%.&#xa;Выручка за квартал увеличивается хотя бы в одном из 2х кварталов подряд: относительно прошлого периода ((95.8)% и 1772.9%) и АППГ ((76.5)% и 50.5%).&#xa;Рентабельность EBITDA LTM составила 22.3%.&#xa;Чистая прибыль 79 585 тыс. руб.&#xa;Качество активов и управление ими - Удовлетворительное&#xa;КТЛ 1.84, выше порогового значения 1.&#xa;Оборачиваемость ДЗ LTM 108 дней - соответствует оборачиваемости большинства компаний данного ОКК (135 дней).&#xa;Оборачиваемость КЗ LTM 183 дней - соответствует оборачиваемости большинства компаний данного ОКК (192 дней).&#xa;Оборачиваемость запасов LTM 340 дней - выше оборачиваемости большинства компаний данного ОКК (204 дней).&#xa;Возможность исполнения обязательств - Удовлетворительное&#xa;Чистый долг(за искл. субор. займов)/EBITDA LTM 3.63, соответствует диапазону от 3.5 до 4 для данного ОКК.&#xa;ICR LTM 2.1 - выше порогового значения 2.&#xa;Доля ЧА в структуре баланса 19.7% (&lt;20%).&#xa;&quot;" style="text;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="520" y="1180" width="560" height="330" as="geometry" />
        </mxCell>
        <mxCell id="dUc_57Bg2O3dePhUninS-5" value="&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;x_xslData;XLSY;v2;4053;-1;-1;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&quot; style=&quot;color: rgb(0, 0, 0); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: transparent; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; border-collapse: collapse; font-family: Calibri; font-size: 11pt;&quot;&gt;&lt;tbody&gt;&lt;tr style=&quot;height: 14pt;&quot;&gt;&lt;/tr&gt;&lt;tr style=&quot;height: 14pt;&quot;&gt;&lt;td style=&quot;width: 135pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;рейтинг (от 10 до 26)&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 89.375pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;ОКС&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 200pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;Кредитная история&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 96.875pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;вывод УФА&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height: 14pt;&quot;&gt;&lt;td style=&quot;width: 135pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;8&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 89.375pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;сокращать&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 200pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;просрочка 10 дней&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 96.875pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height: 14pt;&quot;&gt;&lt;td style=&quot;width: 135pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;10&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 89.375pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;наращивать&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 200pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;просрочка отсутствует&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 96.875pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height: 14pt;&quot;&gt;&lt;td style=&quot;width: 135pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;15&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 89.375pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;держать&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 200pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;просрочка отсутствует&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 96.875pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height: 14pt;&quot;&gt;&lt;td style=&quot;width: 135pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;17&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 89.375pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;сокращать&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 200pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;нарушены сроки возврата кредита&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 96.875pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height: 14pt;&quot;&gt;&lt;td style=&quot;width: 135pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;19&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 89.375pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;наращивать&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 200pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;просрочка 50 дней&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 96.875pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height: 14pt;&quot;&gt;&lt;td style=&quot;width: 135pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;20&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 89.375pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;держать&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 200pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;просрочка 30 дней&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 96.875pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height: 14pt;&quot;&gt;&lt;td style=&quot;width: 135pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;26&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 89.375pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;наращивать&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 200pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;vertical-align: baseline; font-family: Calibri, serif, EmojiFont;&quot;&gt;просрочка 100 дней&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width: 96.875pt; vertical-align: bottom; border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0);&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br class=&quot;Apple-interchange-newline&quot;&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="760" width="560" height="240" as="geometry" />
        </mxCell>
        <mxCell id="JJz8-9tXR7XxKiCPV7C5-1" value="№    Название критерия    Описание    Значение показателя    Примеры (какие еще примеры можно добавить в критерии?)    Из какой АС забрать примеры?    На основе примера, как считать вес критерия?    Пример из УФА    Какие положительные и отрицательные стороны примера из УФА    Комментарии" style="text;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="700" y="170" width="560" height="80" as="geometry" />
        </mxCell>
        <mxCell id="JJz8-9tXR7XxKiCPV7C5-7" value="&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;xslData;XLSY;v2;5995;-1;-1;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&quot; style=&quot;border-collapse: collapse;font-family:Calibri;font-size:11pt;color:#000;background-color:transparent;&quot;&gt;&lt;tbody&gt;&lt;tr style=&quot;height:15.43pt&quot;&gt;&lt;td style=&quot;width:820.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-family:PT Sans;font-weight:bold;vertical-align:baseline;&quot;&gt;Финансовое состояние&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:240.43pt&quot;&gt;&lt;td style=&quot;width:820.7142857142857pt;white-space:normal;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;Автовывод: Финансовое состояние, рассчитанное моделью &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Неудовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Результативность (операционные результаты)&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Удовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Снижение выручки LTM по сравнению с АППГ (5.8)%.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Выручка за квартал относительно предыдущего снижается 2 квартала подряд ((18.6)% и (7.2)%), аналогично АППГ.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Выручка за квартал относительно АППГ снижается 2 квартала подряд ((6.3)% и (8)%).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Рентабельность EBITDA LTM составила 5.5%.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Чистая прибыль 8 165 тыс. руб.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Качество активов и управление ими&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Хорошее&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;КТЛ 3.36, выше порогового значения 1.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость ДЗ LTM 36 дней - соответствует оборачиваемости большинства компаний данного ОКК (44 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость КЗ LTM 48 дней - соответствует оборачиваемости большинства компаний данного ОКК (71 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость запасов LTM 118 дней - соответствует оборачиваемости большинства компаний данного ОКК (171 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Возможность исполнения обязательств&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Неудовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Долг(за искл. субор. займов)/EBITDA LTM 3.93, выше порогового значения 3.5 для данного ОКК.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;ICR LTM 2.73 - выше порогового значения 1.5.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Доля ЧА в структуре баланса 31.8% (&amp;gt;=20%).&lt;br&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="100" y="1160" width="560" height="430" as="geometry" />
        </mxCell>
        <mxCell id="JJz8-9tXR7XxKiCPV7C5-8" value="&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;xslData;XLSY;v2;5851;-1;-1;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&quot; style=&quot;border-collapse: collapse;font-family:Calibri;font-size:11pt;color:#000;background-color:transparent;&quot;&gt;&lt;tbody&gt;&lt;tr style=&quot;height:15.43pt&quot;&gt;&lt;td style=&quot;width:820.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-family:PT Sans;font-weight:bold;vertical-align:baseline;&quot;&gt;Финансовое состояние&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:226.29pt&quot;&gt;&lt;td style=&quot;width:820.7142857142857pt;white-space:normal;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;Автовывод: Финансовое состояние, рассчитанное моделью &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Неудовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Результативность (операционные результаты)&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Неудовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Снижение выручки LTM по сравнению с АППГ (31.9)%.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Выручка за квартал снижается в течение 2х кварталов подряд: относительно прошлого периода ((5.5)% и (27.5)%) и АППГ ((57.1)% и (37.6)%).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Рентабельность EBITDA LTM составила 6.3%.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Чистая прибыль 39 725 тыс. руб.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Качество активов и управление ими&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Удовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;КТЛ 3.04, выше порогового значения 1.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость ДЗ LTM 75 дней - соответствует оборачиваемости большинства компаний данного ОКК (87 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость КЗ LTM 83 дней - соответствует оборачиваемости большинства компаний данного ОКК (92 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость запасов LTM 135 дней - выше оборачиваемости большинства компаний данного ОКК (89 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Возможность исполнения обязательств&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Неудовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Долг(за искл. субор. займов)/EBITDA LTM 3.88, соответствует диапазону от 3.5 до 4 для данного ОКК.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;ICR LTM 1.48 - ниже порогового значения 1.5.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Доля ЧА в структуре баланса 29.6% (&amp;gt;=20%).&lt;br&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="90" y="1590" width="560" height="400" as="geometry" />
        </mxCell>
        <mxCell id="JJz8-9tXR7XxKiCPV7C5-9" value="&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;xslData;XLSY;v2;5791;-1;-1;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&quot; style=&quot;border-collapse: collapse;font-family:Calibri;font-size:11pt;color:#000;background-color:transparent;&quot;&gt;&lt;tbody&gt;&lt;tr style=&quot;height:15.43pt&quot;&gt;&lt;td style=&quot;width:820.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-family:PT Sans;font-weight:bold;vertical-align:baseline;&quot;&gt;Финансовое состояние&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:226.29pt&quot;&gt;&lt;td style=&quot;width:820.7142857142857pt;white-space:normal;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;Автовывод: Финансовое состояние, рассчитанное моделью &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Удовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Результативность (операционные результаты)&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Хорошее&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Увеличение выручки LTM по сравнению с АППГ 10.3%.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Выручка за квартал увеличивается хотя бы в одном из 2х кварталов подряд: относительно прошлого периода ((15.6)% и 24.4%) и АППГ (39.4% и 6.8%).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Рентабельность EBITDA LTM составила 4.5%.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Чистая прибыль 23 354 тыс. руб.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Качество активов и управление ими&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Удовлетворительное&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;КТЛ 5.22, выше порогового значения 1.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость ДЗ LTM 9 дней - соответствует оборачиваемости большинства компаний данного ОКК (63 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость КЗ LTM 5 дней - соответствует оборачиваемости большинства компаний данного ОКК (48 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Оборачиваемость запасов LTM 107 дней - выше оборачиваемости большинства компаний данного ОКК (59 дней).&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;text-decoration:underline;vertical-align:baseline;&quot;&gt;Возможность исполнения обязательств&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family:PT Sans;font-size:9pt;font-weight:bold;vertical-align:baseline;&quot;&gt;- Хорошее&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Долг(за искл. субор. займов)/EBITDA LTM 3.39, ниже порогового значения 3.5 для данного ОКК.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;ICR LTM 2.94 - выше порогового значения 1.5.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Доля ЧА в структуре баланса 57.8% (&amp;gt;=20%).&lt;br&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="190" y="2040" width="560" height="400" as="geometry" />
        </mxCell>
        <mxCell id="JJz8-9tXR7XxKiCPV7C5-10" value="&lt;p&gt;1.Отстутствуют случаи возникновения просроченной задолженности 5 р.д. и выше в течение 180 дней до даты оценки&lt;/p&gt;&lt;p&gt;Примеры: отсутствуют случаи нарушения сроков возврата кредита, наличия текущей просрочки от 1 дня (у нас в банке этот есть в АС КЮЛ).&lt;/p&gt;&lt;p&gt;3. заемщик имеет положительную кредитную историю&lt;/p&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="180" y="2510" width="540" height="140" as="geometry" />
        </mxCell>
        <mxCell id="JJz8-9tXR7XxKiCPV7C5-11" value="&lt;p&gt;если у модели итоговый вывод по уровню риска: &quot;риск высокий (приемлемый)&quot;, &quot;риск средний&quot;, &quot;риск низкий&quot;, он же Вывод﻿, то хорошо.&lt;/p&gt;&lt;p&gt;Если у модели риск &quot;высокий (неприемлемый)&quot; он же Вывод 2 ,то плохо&lt;/p&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="180" y="2650" width="560" height="100" as="geometry" />
        </mxCell>
        <mxCell id="JJz8-9tXR7XxKiCPV7C5-12" value="&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(33, 202, 154);&quot;&gt; Вывод №1&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(33, 202, 154);&quot;&gt;«Модель ДДС утверждена. Заложенные в модель структура денежных потоков и используемые предпосылки построения модели ДДС позволяют сделать вывод о возможности Контрагента исполнять свои обязательства»:&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(33, 202, 154);&quot;&gt; риск высокий (приемлемый), риск средний, риск низкий﻿.&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(33, 202, 154);&quot;&gt;﻿&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;﻿&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(255, 113, 83);&quot;&gt;﻿Вывод №2&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(255, 113, 83);&quot;&gt;«Модель ДДС утверждена, однако заложенная в модель структура денежных потоков и используемые предпосылки построения модели ДДС позволяют сделать вывод о невозможности Контрагента исполнять свои обязательства»: риск высокий (неприемлемый). &lt;/span&gt;&lt;/p&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="2820" width="560" height="280" as="geometry" />
        </mxCell>
        <UserObject label="You are CreditDecisionAgent, a specialized AI agent for automated credit decisioning in a large bank. &#xa;You must perform two phases:&#xa;&#xa;&#xa;1. **Detailed criterion-by-criterion analysis** (Custom Chain of Thought).&#xa;2. **Return the final decision** in strict JSON format (Structured Output).&#xa;&#xa;&#xa;------&#xa;&#xa;&#xa;### ������ INPUT BLOCKS (the LLM receives exactly these 4 textual blocks, verbatim)&#xa;&#xa;&#xa;#### 1. АС УФА:&#xa;{ufa_block}&#xa;&#xa;&#xa;#### 2. Рейтинг:&#xa;{rating_block}&#xa;&#xa;&#xa;#### 3. ОКС:&#xa;{oks_block}&#xa;&#xa;&#xa;#### 4. Cashflow:&#xa;{cf_block}&#xa;&#xa;&#xa;#### 5. Кредитная история:&#xa;{history_block}&#xa;&#xa;&#xa;------&#xa;&#xa;&#xa;### ⚙️ MODULE 1: Analysis Schema&#xa;&#xa;&#xa;Each criterion must be evaluated with:&#xa;- `name`&#xa;- `value`&#xa;- `status`: &quot;ХОРОШО&quot; | &quot;ПЛОХО&quot;&#xa;- `comment`&#xa;- `weight` (default 1 unless specified)&#xa;&#xa;&#xa;Available criteria:&#xa;- Динамика бизнеса (выручка LTM, EBITDA LTM, квартальный рост)&#xa;- Оборачиваемость запасов, ДЗ, КЗ LTM&#xa;- Уровень долговой нагрузки (debt/EBITDA, ICR)&#xa;- Текущая ликвидность (КТЛ)&#xa;- Рентабельность (чистая прибыль, EBITDA-margin)&#xa;- Доля чистых активов&#xa;- Рейтинг&#xa;- Собственный оборотный капитал&#xa;- Соответствие ОКС&#xa;- Вывод модели CF (Вывод №1 vs №2)&#xa;- Кредитная история (наличие просрочек)&#xa;&#xa;&#xa;------&#xa;&#xa;&#xa;### ������ MODULE 2: Custom Chain of Thought&#xa;&#xa;&#xa;You must analyze **each criterion step-by-step**, with this structure:&#xa;&#xa;&#xa;For criterion **[NAME]**:&#xa;1. explanation: &quot;Проверяем [NAME]: значение = X, порог = Y&quot;&#xa;2. determine status: &quot;ХОРОШО&quot; or &quot;ПЛОХО&#xa;3. comment: короткое объяснение&#xa;4. record weight: default 1 (or overridden)&#xa;&#xa;&#xa;Proceed through all criteria. After each, retain reasoning in the response.&#xa;&#xa;&#xa;------&#xa;&#xa;&#xa;### ������ MODULE 3: Aggregation Rule&#xa;&#xa;&#xa;After evaluating all criteria:&#xa;- If **any** criterion.status == &quot;ПЛОХО&quot; → final_decision = &quot;ОТКАЗ&quot;&#xa;- Else → final_decision = &quot;ОДОБРЕНО&quot;&#xa;&#xa;&#xa;final_comment must list **all плохие критерии** (if отказ) или общий позитивный вывод.&#xa;&#xa;&#xa;------&#xa;&#xa;&#xa;### ������ MODULE 4: JSON Structured Output&#xa;&#xa;&#xa;Return *only* the following JSON (no extra text outside it):&#xa;&#xa;&#xa;```json&#xa;{&#xa;  &quot;criteria&quot;: [&#xa;    {&quot;name&quot;: &quot;...&quot;, &quot;value&quot;: &quot;...&quot;, &quot;status&quot;: &quot;ХОРОШО/ПЛОХО&quot;, &quot;comment&quot;: &quot;...&quot;, &quot;weight&quot;: 1},&#xa;    ... (one entry per criterion)&#xa;  ],&#xa;  &quot;final_decision&quot;: &quot;ОДОБРЕНО/ОТКАЗ&quot;,&#xa;  &quot;final_comment&quot;: &quot;...&quot;&#xa;}" link="You are CreditDecisionAgent, a specialized AI agent for automated credit decisioning in a large bank. &#xa;You must perform two phases:&#xa;&#xa;&#xa;1. **Detailed criterion-by-criterion analysis** (Custom Chain of Thought).&#xa;2. **Return the final decision** in strict JSON format (Structured Output).&#xa;&#xa;&#xa;------&#xa;&#xa;&#xa;### ������ INPUT BLOCKS (the LLM receives exactly these 4 textual blocks, verbatim)&#xa;&#xa;&#xa;#### 1. АС УФА:&#xa;{ufa_block}&#xa;&#xa;&#xa;#### 2. Рейтинг:&#xa;{rating_block}&#xa;&#xa;&#xa;#### 3. ОКС:&#xa;{oks_block}&#xa;&#xa;&#xa;#### 4. Cashflow:&#xa;{cf_block}&#xa;&#xa;&#xa;#### 5. Кредитная история:&#xa;{history_block}&#xa;&#xa;&#xa;------&#xa;&#xa;&#xa;### ⚙️ MODULE 1: Analysis Schema&#xa;&#xa;&#xa;Each criterion must be evaluated with:&#xa;- `name`&#xa;- `value`&#xa;- `status`: &quot;ХОРОШО&quot; | &quot;ПЛОХО&quot;&#xa;- `comment`&#xa;- `weight` (default 1 unless specified)&#xa;&#xa;&#xa;Available criteria:&#xa;- Динамика бизнеса (выручка LTM, EBITDA LTM, квартальный рост)&#xa;- Оборачиваемость запасов, ДЗ, КЗ LTM&#xa;- Уровень долговой нагрузки (debt/EBITDA, ICR)&#xa;- Текущая ликвидность (КТЛ)&#xa;- Рентабельность (чистая прибыль, EBITDA-margin)&#xa;- Доля чистых активов&#xa;- Рейтинг&#xa;- Собственный оборотный капитал&#xa;- Соответствие ОКС&#xa;- Вывод модели CF (Вывод №1 vs №2)&#xa;- Кредитная история (наличие просрочек)&#xa;&#xa;&#xa;------&#xa;&#xa;&#xa;### ������ MODULE 2: Custom Chain of Thought&#xa;&#xa;&#xa;You must analyze **each criterion step-by-step**, with this structure:&#xa;&#xa;&#xa;For criterion **[NAME]**:&#xa;1. explanation: &quot;Проверяем [NAME]: значение = X, порог = Y&quot;&#xa;2. determine status: &quot;ХОРОШО&quot; or &quot;ПЛОХО&#xa;3. comment: короткое объяснение&#xa;4. record weight: default 1 (or overridden)&#xa;&#xa;&#xa;Proceed through all criteria. After each, retain reasoning in the response.&#xa;&#xa;&#xa;------&#xa;&#xa;&#xa;### ������ MODULE 3: Aggregation Rule&#xa;&#xa;&#xa;After evaluating all criteria:&#xa;- If **any** criterion.status == &quot;ПЛОХО&quot; → final_decision = &quot;ОТКАЗ&quot;&#xa;- Else → final_decision = &quot;ОДОБРЕНО&quot;&#xa;&#xa;&#xa;final_comment must list **all плохие критерии** (if отказ) или общий позитивный вывод.&#xa;&#xa;&#xa;------&#xa;&#xa;&#xa;### ������ MODULE 4: JSON Structured Output&#xa;&#xa;&#xa;Return *only* the following JSON (no extra text outside it):&#xa;&#xa;&#xa;```json&#xa;{&#xa;  &quot;criteria&quot;: [&#xa;    {&quot;name&quot;: &quot;...&quot;, &quot;value&quot;: &quot;...&quot;, &quot;status&quot;: &quot;ХОРОШО/ПЛОХО&quot;, &quot;comment&quot;: &quot;...&quot;, &quot;weight&quot;: 1},&#xa;    ... (one entry per criterion)&#xa;  ],&#xa;  &quot;final_decision&quot;: &quot;ОДОБРЕНО/ОТКАЗ&quot;,&#xa;  &quot;final_comment&quot;: &quot;...&quot;&#xa;}" id="DvTzBklmQQ-uR9xNobqU-1">
          <mxCell style="text;whiteSpace=wrap;" parent="1" vertex="1">
            <mxGeometry x="200" y="3230" width="560" height="1660" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="CF2Xue_zBJq6MxR_8Y5s-1" value="&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;xslData;XLSY;v2;6012;-1;-1;BwaAAgAAB6ACAAAJLAQAAAEPCQAAAgEUAAADPAQAAAQ3BQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEbAAAA+gMAAAAADAANAA4ADwD7AAcAAAD6EgAAAAD7AocBAAD6ABAAAAAfBEAEOAQ8BDUEQARLBCAAKAAzACkALgB4AGwAcwB4AAIWAAAAMgAwADcAMwA0ADkANwA2AEAAcwBpAGcAbQBhAC4AcwBiAHIAZgAuAHIAdQADAQAAADMABBQAAAAyADAAMgA1AC0AMAA1AC0AMAA2AFQAMAA4ADoAMAA4ADoAMAA3AFoABRQAAAAyADAAMgA1AC0AMAA3AC0AMgA5AFQAMQA4ADoAMAA1ADoAMwA4AFoA+wDJAAAA+gdEAAAALwBoAG8AbQBlAC8AcwBpAGcAbQBhAC4AcwBiAHIAZgAuAHIAdQBAADIAMAA3ADMANAA5ADcANgAvACAEMAQxBD4ERwQ4BDkEIABBBEIEPgQ7BC8AGgQ+BDIENQQ9BDAEPQRCBEsELwAfBEAEOAQ8BDUEQARLBCAAKAAzACkALgB4AGwAcwB4AAkUAAAANQBiADQAZQA4AGIANgBjAGEAZAA0ADkANQAxADQAMABkADUANgBkAAsEAAAAMQAwADQAOQD7MAsAAAD6+wAEAAAAAAAAAPcAAAAAAAAAAAELAAAAAgYAAAAABAAAAAAD2AAAAARnAAAAACoAAABfAHgAbABuAG0ALgBfAEYAaQBsAHQAZQByAEQAYQB0AGEAYgBhAHMAZQABJAAAAB8EQAQ4BDwENQRABEsEIQAkAEEAJAAyADoAJABHACQANgAzAAIEAAAAAAAAAAMBAAAAAQRnAAAAACoAAABfAHgAbABuAG0ALgBfAEYAaQBsAHQAZQByAEQAYQB0AGEAYgBhAHMAZQABJAAAAB8EQAQ4BDwENQRABEsEIQAkAEEAJAAyADoAJABHACQANgAzAAIEAAAAAAAAAAMBAAAAAQ8AAAAA1AMAAADPAwAAAS0AAAAABg4AAAAfBEAEOAQ8BDUEQARLBAEEAQAAAAIBAgMGCgAAAEEAMQA6AEcAMwACGgEAAAMfAAAAAgQBAAAAAwQBAAAABAQBAAAABQUAAAAAAJMxQAYBAQMfAAAAAgQCAAAAAwQCAAAABAQBAAAABQUAAAAAgABGQAYBAQMfAAAAAgQDAAAAAwQDAAAABAQBAAAABQUAAAAAABJQQAYBAQMfAAAAAgQEAAAAAwQEAAAABAQBAAAABQUAAAAAANtJQAYBAQMcAAAAAgQFAAAAAwQFAAAABAQCAAAABQUAAAAAAEgiQAMfAAAAAgQGAAAAAwQGAAAABAQBAAAABQUAAAAAALYwQAYBAQMfAAAAAgQHAAAAAwQHAAAABAQBAAAABQUAAAAAAG0wQAYBAQMcAAAAAgQAQAAAAwQIAAAABAQBAAAABQUAAAAAAEgiQBYrAAAAFyYAAAAUIQAAAAAEAAAAQQAxAAEEAAAAAAAAAAIKAAAAQQAxADoARwAzAAsKAAAAAQXNzMzMzEwsQA48AAAAAAVH4XoUrscxQAEFzMzMzMwMM0ACBUfhehSuxzFAAwXMzMzMzAwzQAQFexSuR+F6HkAFBXsUrkfheh5ADz8AAAABAQkCAQADAQAEBAEAAAAFAQAGAQAIBAEAAAAJBAEAAAAKBFgCAAAAAQELAQAPBGQAAAAQAQARAQESBFgCAAAQBgAAAAABAAEBAAmMAQAAI4cBAABuBwAAkQEAABEAAAAAAwAAAAAAAEAAAAAAAAcOAAAAAAMAAAAAAAAAAAAHDgEAAAADAAAAAQAAAAAABw4CAAAAAwAAAAIAAAAAAAcOAwAAAAMAAAADAAAAAAABCgQAAAADAAAAAAABCgUAAAADAAAAAAABCgYAAAADAAAAAAAAEQEAAAADAAAAAAAAQAAAAAAABw4AAAAAAwAAAAQAAAAAAAcOAQAAAAMAAAAFAAAAAAAHDgIAAAADAAAABgAAAAAABw4DAAAAAwAAAAcAAAAAAAcOBAAAAAQAAAAIAAAAAAAHDgUAAAADAAAACQAAAAAABw4GAAAAAwAAAAoAAAAAAAARAgAAAAAAAABPGAAAAAAAAAAHDgAAAAABAAAACwAAAAAABw4BAAAAAQAAAAwAAAAAAAcOAgAAAAUAAAANAAAAAAAHDgMAAAAGAAAADgAAAAAABw4EAAAABwAAAA8AAAAAAAUSBQAAAAEAAAAAAAAAAAAMQAAAAQoGAAAABgAAAAAAkgEABQAAAAAHDwAAAAgKAAAARAAxADoARwAxABsAAAAA7goAAAALAAAAAwYAAAAaBD4ENAQALQAAAAMoAAAAGgRABDAEQgQ6BD4ENQQgAD0EMAQ4BDwENQQ9BD4EMgQwBD0EOAQ1BAArAAAAAyYAAAAfBD4EOwQ9BD4ENQQgAD0EMAQ4BDwENQQ9BD4EMgQwBD0EOAQ1BAAXAAAAAxIAAAAeBEIEMgQ1BEIEIABMAEwATQAAHQAAAAMYAAAAYwBvAGQAZQBGAG8AcgBQAHIAaQBuAHQAAA0AAAADCAAAAG4AYQBtAGUAAA0AAAADCAAAAHQAZQB4AHQAABsAAAADFgAAACEEPgQ6BEAEMARJBDUEPQQ9BD4ENQQADQAAAAMIAAAAFwQ9BDAEOgQAFQAAAAMQAAAAFwQ9BDAERwQ1BD0EOAQ1BAAfAAAAAxoAAAAVBDQEIAA4BDcEPAQvADIEMAQ7BE4EQgQwBAAXAAAAAxIAAABTAEYAXwAxAC4AMQBfAFYAMQAAUwAAAANOAAAAIQQ+BDEEOwROBDQENQQ9BDgENQQgAD8EPgQ6BDAENwQwBEIENQQ7BE8EIAA0BD4EOwQzBD4EMgQ+BDkEIAA9BDAEMwRABEMENwQ6BDgEAPMIAAAD7ggAAB8EQAQ1BDIESwRIBDUEPQQ4BDUEIAAyBCAAPgRCBD0EPgRIBDUEPQQ4BDgEIABDBEcEMARBBEIEPQQ4BDoEPgQyBCAAEwRABEMEPwQ/BEsELAAgAEMEOgQwBDcEMAQ9BD0EPgQ5BCAAMgQgAB8ENQRABDUERwQ9BDUEIAAxACAAHwRABDgEOwQ+BDYENQQ9BDgETwQgAKsAIQQ+BEEEQgQwBDIEIAATBEAEQwQ/BD8ESwS7ACAAOgQgABQEPgQzBD4EMgQ+BEAEQwQsACAAQQQ+BD4EQgQ9BD4ESAQ1BD0EOARPBCAAPwQ+BDoEMAQ3BDAEQgQ1BDsENQQ5BCAAFAQ+BDsEMwQvAEUAQgBJAFQARABBACwAIABDBEEEQgQwBD0EMAQyBDsEOAQyBDAENQQ8BD4EMwQ+BCAAPQQwBCAAOgQwBDYENARDBE4EIAA+BEIERwQ1BEIEPQRDBE4EIAA0BDAEQgRDBCAAKAA/BD4EIAAgBCEEEQQjBCkALAAgAEMEQAQ+BDIEPQRPBDoACgBBBCAAMQQ7BDgENgQwBDkESAQ1BDkEIAA+BEIERwQ1BEIEPQQ+BDkEIAA0BDAEQgRLBCAAKAA/BD4EIAAgBCEEEQQjBCkALAAgAEEEOwQ1BDQEQwROBEkENQQ5BCAANwQwBCAANAQwBEIEPgQ5BCAANwQwBDoEOwROBEcENQQ9BDgETwQgABQEPgQzBD4EMgQ+BEAEMAQsACAAEyAgADEEPgQ7BDUENQQgADMALAA1ACAAKAAiBEAENQRFBCAARgQ1BDsESwRFBCAAPwRPBEIEOAQgADQENQRBBE8EQgRLBEUEKQAgACgAMgQ6BDsETgRHBDgEQgQ1BDsETAQ9BD4EKQA7AAoAOAQ7BDgEIABBBD0EOAQ2BDUEPQQ4BDUEIABBBD4EPgRCBD0EPgRIBDUEPQQ4BE8EIAA/BD4EOgQwBDcEMARCBDUEOwQ1BDkEIAAUBD4EOwQzBC8ARQBCAEkAVABEAEEAIAA0BD4EIAA+BEIEQAQ4BEYEMARCBDUEOwRMBD0EPgQzBD4EIAA3BD0EMARHBDUEPQQ4BE8ELgAKABIEIABABDAEQQRHBDUEQgQgABQEPgQ7BDMEMAQgADIEOgQ7BE4ERwQwBE4EQgRBBE8EIAAwBDMENQQ9BEIEQQQ6BDgEOQQgAEQEMAQ6BEIEPgRABDgEPQQzBC4ACgASBCAAQAQwBEEERwQ1BEIEIAAUBD4EOwQzBDAEIAA9BDUEIAAyBDoEOwROBEcEMAROBEIEQQRPBCAAPwRABDUENAQ+BEEEQgQwBDIEOwQ1BD0EPQRLBDUEIABDBEcEMARBBEIEPQQ4BDoEQwQoADAEPAQpACAAEwRABEMEPwQ/BEsELAAgAEMEOgQwBDcEMAQ9BD0EPgQ5BCAAMgQgAB8ENQRABDUERwQ9BDUEIAAxACAAHwRABDgEOwQ+BDYENQQ9BDgETwQgAKsAIQQ+BEEEQgQwBDIEIAATBEAEQwQ/BD8ESwS7ACAAOgQgABQEPgQzBD4EMgQ+BEAEQwQsACAANwQwBDkEPARLBCwAIAA6BEAENQQ0BDgEQgRLBCAAOAQgADgEPQRLBDUEIAA0BDUEPQQ1BDYEPQRLBDUEIAA+BDEETwQ3BDAEQgQ1BDsETARBBEIEMgQwBCwAIABBBEMEMQQ+BEAENAQ4BD0EOARABD4EMgQwBD0EPQRLBDUEIABBBDsENQQ0BEMETgRJBDgEPAQoADgEPAQ4BCkAIABBBD8EPgRBBD4EMQQ+BDwEKAAwBDwEOAQpADoACgAxACkAIAA3BDAEOQQ8BEsELAAgADoEPgQ9BDIENQRABEIEOARABD4EMgQwBD0EPQRLBDUEIAAyBCAAMgQ1BDoEQQQ1BDsETwQgACgAPwRDBEIENQQ8BCAAMgRLBD8EQwRBBDoEMAQgAD8EQAQ+BEEEQgRLBEUEIAAyBDUEOgRBBDUEOwQ1BDkELAAgAD8EMARABDAEPAQ1BEIEQARLBCAAOgQ+BEIEPgRABEsERQQgAEEEPgQzBDsEMARBBD4EMgQwBD0ESwQgAEEEIAARBDAEPQQ6BD4EPAQpACwAIAA4BCAAPgREBD4EQAQ8BDsENQQ9BDgENQQgADcEMAQ7BD4EMwQwBCAANAQwBD0EPQRLBEUEIAAyBDUEOgRBBDUEOwQ1BDkEIAAyBCAAPwQ+BDsETAQ3BEMEIAARBDAEPQQ6BDAEIABBBCAAPwQ1BEAENQQ0BDAERwQ1BDkEIAARBDAEPQQ6BEMELgAKADIAKQAgADQENQQ9BDUENgQ9BEsENQQgAD4EMQRPBDcEMARCBDUEOwRMBEEEQgQyBDAEIABDBEcEMARBBEIEPQQ4BDoEPgQyBCAAEwRABEMEPwQ/BEsELAAgADIEIAA+BEIEPQQ+BEgENQQ9BDgEOAQgADoEPgRCBD4EQARLBEUEIAA8BDUENgQ0BEMEIABBBD4EPgRCBDIENQRCBEEEQgQyBEMETgRJBDgEPAQgAEMERwQwBEEEQgQ9BDgEOgQ+BDwEIAATBEAEQwQ/BD8ESwQsACAAEQQwBD0EOgQ+BDwEIAA4BCAANARABEMEMwQ4BDwEOAQgADoEQAQ1BDQEOARCBD4EQAQwBDwEOAQgADcEMAQ6BDsETgRHBDUEPQQ+BCgASwQpACAAQQQ+BDMEOwQwBEgENQQ9BDgENQQoADgETwQpACAAOgRABDUENAQ4BEIEPgRABD4EMgQgAD4EIAA/BD4EQARPBDQEOgQ1BCAAQwQ0BD4EMgQ7BDUEQgQyBD4EQAQ1BD0EOARPBCAAOARFBCAAQgRABDUEMQQ+BDIEMAQ9BDgEOQQgADoEIABBBD4EPgRCBDIENQRCBEEEQgQyBEMETgRJBDUEPARDBCAAQwRHBDAEQQRCBD0EOAQ6BEMEIAATBEAEQwQ/BD8ESwQgAD0EMAQgAEMEQQQ7BD4EMgQ4BE8ERQQsACAAQQQ+BDMEOwQwBEEEPgQyBDAEPQQ9BEsERQQgAEEEIAARBDAEPQQ6BD4EPAQuAAArAAAAAyYAAAAUBD4EOwQzBCAALwAgAEUAQgBJAFQARABBACAAPwQ+BCAAEwQaBAAJAAAAAwQAAAA8AD0AdwMAAAAtAAAAASgAAAAAAwAAAAEBCgEDAAAAAQEKAgMAAAABAQoEAwAAAAEBCgUDAAAAAQEKBCAAAAAFCwAAAAAGAAAAAgEAAAARBQsAAAAABgAAAAIBAAAACAatAAAAByoAAAABBgMAAAACAQEEBg4AAABDAGEAbABpAGIAcgBpAAkBAQYFAAAAAAAAJkAHLQAAAAABAQEGAwAAAAIBAQQGDgAAAEMAYQBsAGkAYgByAGkACQEBBgUAAAAAAAAmQAdHAAAAAQYDAAAAAgEBBAYuAAAAVgBhAHIAKAAtAC0AdAB5AHAAbwAtAGYAbwBuAHQALQBmAGEAbQBpAGwAeQApAAYFAAAAAAAAJkAOKQAAAAMkAAAAAQEBBgQAAAAAAgEBBwQAAAAAAwEBCAQAAAAABAEBCQQAAAAAAngBAAADHgAAAAYEAAAAAAcEAAAAAAgEAAAAAAkEAAAAAAwEAAAAAAMeAAAABgQAAAAABwQAAAAACAQAAAAACQQAAAAADAQAAAAAAy0AAAAGBAAAAAAHBAAAAAAIBAAAAAAJBAAAAAAAAQENBgYAAAAAAQAHAQQMBAAAAAADLQAAAAYEAAAAAAcEAAAAAAMBAQgEAQAAAAkEAAAAAAABAQ0GAwAAAAABAAwEAAAAAAMwAAAABgQAAAAABwQAAAAAAwEBCAQBAAAACQQAAAAAAAEBDQYGAAAAAAEABwEEDAQAAAAAAyoAAAAGBAAAAAAHBAAAAAAIBAAAAAAJBAAAAAAAAQENBgMAAAAIAQEMBAAAAAADMAAAAAYEAAAAAAcEAAAAAAMBAQgEAgAAAAkEAAAAAAABAQ0GBgAAAAABBgcBAQwEAAAAAAMwAAAABgQAAAAABwQAAAAAAwEBCAQCAAAACQQAAAAAAAEBDQYGAAAAAAEABwEEDAQAAAAADyoAAAAQJQAAAAAEAAAAAAAAAAQOAAAAHgQxBEsERwQ9BEsEOQQFBAAAAAAAAAAMTgAAAAAiAAAAVABhAGIAbABlAFMAdAB5AGwAZQBNAGUAZABpAHUAbQAyAAEiAAAAUABpAHYAbwB0AFMAdAB5AGwAZQBMAGkAZwBoAHQAMQA2ABE3AAAAADIAAAD6ABEAAABTAGwAaQBjAGUAcgBTAHQAeQBsAGUATABpAGcAaAB0ADEA+wAEAAAAAAAAAAgAAAAA&quot; style=&quot;border-collapse: collapse;font-family:Calibri;font-size:11pt;color:#000;background-color:transparent;&quot;&gt;&lt;tbody&gt;&lt;tr style=&quot;height:nullpt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;text-align:center;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-weight:bold;vertical-align:baseline;&quot;&gt;Код&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;text-align:center;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-weight:bold;vertical-align:baseline;&quot;&gt;Краткое наименование&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:nowrap;text-align:center;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-weight:bold;vertical-align:baseline;&quot;&gt;Полное наименование&lt;/span&gt;&lt;/td&gt;&lt;td colspan=&quot;4&quot; rowspan=&quot;1&quot; style=&quot;width:493.57142857142844pt;white-space:nowrap;text-align:center;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-weight:bold;vertical-align:baseline;&quot;&gt;Ответ LLM&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:nullpt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;text-align:center;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-weight:bold;vertical-align:baseline;&quot;&gt;codeForPrint&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;text-align:center;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-weight:bold;vertical-align:baseline;&quot;&gt;name&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:nowrap;text-align:center;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-weight:bold;vertical-align:baseline;&quot;&gt;text&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:center;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-weight:bold;vertical-align:baseline;&quot;&gt;Сокращенное&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-weight:bold;vertical-align:baseline;&quot;&gt;Знак&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;text-align:center;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-weight:bold;vertical-align:baseline;&quot;&gt;Значение&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:86.42857142857142pt;white-space:nowrap;text-align:center;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;font-weight:bold;vertical-align:baseline;&quot;&gt;Ед изм/валюта&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:311.15pt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;SF_1.1_V1&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Соблюдение показателя долговой нагрузки&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:normal;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Превышение в отношении участников Группы, указанной в Перечне 1 Приложения «Состав Группы» к Договору, соотношения показателей Долг/EBITDA, устанавливаемого на каждую отчетную дату (по РСБУ), уровня:&lt;br&gt;с ближайшей отчетной даты (по РСБУ), следующей за датой заключения Договора, – более 3,5 (Трех целых пяти десятых) (включительно);&lt;br&gt;или снижение соотношения показателей Долг/EBITDA до отрицательного значения.&lt;br&gt;В расчет Долга включаются агентский факторинг.&lt;br&gt;В расчет Долга не включаются предоставленные участнику(ам) Группы, указанной в Перечне 1 Приложения «Состав Группы» к Договору, займы, кредиты и иные денежные обязательства, субординированные следующим(ими) способом(ами):&lt;br&gt;1) займы, конвертированные в векселя (путем выпуска простых векселей, параметры которых согласованы с Банком), и оформление залога данных векселей в пользу Банка с передачей Банку.&lt;br&gt;2) денежные обязательства участников Группы, в отношении которых между соответствующим участником Группы, Банком и другими кредиторами заключено(ы) соглашение(ия) кредиторов о порядке удовлетворения их требований к соответствующему участнику Группы на условиях, согласованных с Банком.&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;Долг / EBITDA по ГК&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;3,5&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:86.42857142857142pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="90" y="4950" width="560" height="1310" as="geometry" />
        </mxCell>
        <mxCell id="CF2Xue_zBJq6MxR_8Y5s-2" value="&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;xslData;XLSY;v2;4583;-1;-1;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ABMgIAAxBD4EOwQ1BDUEIAA0ACwANQAgACgAJwQ1BEIESwRABDUERQQgAEYENQQ7BEsERQQgAD8ETwRCBDgEIAA0BDUEQQRPBEIESwRFBCkAIAAoADIEOgQ7BE4ERwQ4BEIENQQ7BEwEPQQ+BCkAOwAKADgEOwQ4BCAAQQQ9BDgENgQ1BD0EOAQ1BCAAQQQ+BD4EQgQ9BD4ESAQ1BD0EOARPBCAAPwQ+BDoEMAQ3BDAEQgQ1BDsENQQ5BCAAFAQ+BDsEMwQvAEUAQgBJAFQARABBACAANAQ+BCAAPgRCBEAEOARGBDAEQgQ1BDsETAQ9BD4EMwQ+BCAANwQ9BDAERwQ1BD0EOARPBC4ACgASBCAAQAQwBEEERwQ1BEIEIAAUBD4EOwQzBDAEIAA9BDUEIAAyBDoEOwROBEcEMAROBEIEQQRPBCAAPgQxBE8ENwQwBEIENQQ7BEwEQQRCBDIEMAQgAD8ENQRABDUENAQgAEEEOwQ1BDQEQwROBEkEOAQ8BDgEIAA7BDgERgQwBDwEOAQ6ACAAKAQYBBQEHgQSBCAAFwQQBCMEIAQgABwEIwQlBBAEHAQVBBQEHgQSBBgEJwQuAAAfAAAAAxoAAAAUBD4EOwQzBCAALwAgAEUAQgBJAFQARABBAAAJAAAAAwQAAAA8AD0AAH8CAAADegIAAB8EQAQ1BDIESwRIBDUEPQQ4BDUEIAAyBCAAPgRCBD0EPgRIBDUEPQQ4BDgEIAAaBDsEOAQ1BD0EQgQwBCAAQQQ+BD4EQgQ9BD4ESAQ1BD0EOARPBCAAPwQ+BDoEMAQ3BDAEQgQ1BDsENQQ5BCAAFAQ+BDsEMwQvAEUAQgBJAFQARABBACwAIABDBEEEQgQwBD0EMAQyBDsEOAQyBDAENQQ8BD4EMwQ+BCAAPQQwBCAAOgQwBDYENARDBE4EIAA+BEIERwQ1BEIEPQRDBE4EIAA0BDAEQgRDBCAAKAA/BD4EIAAgBCEEEQQjBCkALAAgAEMEQAQ+BDIEPQRPBDoACgBBBCAAMQQ7BDgENgQwBDkESAQ1BDkEIAA+BEIERwQ1BEIEPQQ+BDkEIAA0BDAEQgRLBCAAKAA/BD4EIAAgBCEEEQQjBCkALAAgAEEEOwQ1BDQEQwROBEkENQQ5BCAANwQwBCAANAQwBEIEPgQ5BCAANwQwBDoEOwROBEcENQQ9BDgETwQgABQEPgQzBD4EMgQ+BEAEMAQsACAAEyAgADEEPgQ7BDUENQQgADQAIAAoACcENQRCBEsEQAQ1BEUEKQAgACgAMgQ6BDsETgRHBDgEQgQ1BDsETAQ9BD4EKQA7AAoAOAQ7BDgEIABBBD0EOAQ2BDUEPQQ4BDUEIABBBD4EPgRCBD0EPgRIBDUEPQQ4BE8EIAA/BD4EOgQwBDcEMARCBDUEOwQ1BDkEIAAUBD4EOwQzBC8ARQBCAEkAVABEAEEAIAA0BD4EIAA+BEIEQAQ4BEYEMARCBDUEOwRMBD0EPgQzBD4EIAA3BD0EMARHBDUEPQQ4BE8ELgDeAgAAAC0AAAABKAAAAAADAAAAAQEKAQMAAAABAQoCAwAAAAEBCgQDAAAAAQEKBQMAAAABAQoEIAAAAAULAAAAAAYAAAACAQAAABEFCwAAAAAGAAAAAgEAAAAIBnsAAAAHKgAAAAEGAwAAAAIBAQQGDgAAAEMAYQBsAGkAYgByAGkACQEBBgUAAAAAAAAmQAdHAAAAAQYDAAAAAgEBBAYuAAAAVgBhAHIAKAAtAC0AdAB5AHAAbwAtAGYAbwBuAHQALQBmAGEAbQBpAGwAeQApAAYFAAAAAAAAJkAOKQAAAAMkAAAAAQEBBgQAAAAAAgEBBwQAAAAAAwEBCAQAAAAABAEBCQQAAAAAAhEBAAADHgAAAAYEAAAAAAcEAAAAAAgEAAAAAAkEAAAAAAwEAAAAAAMeAAAABgQAAAAABwQAAAAACAQAAAAACQQAAAAADAQAAAAAAy0AAAAGBAAAAAAHBAAAAAAIBAAAAAAJBAAAAAAAAQENBgYAAAAAAQAHAQQMBAAAAAADKgAAAAYEAAAAAAcEAAAAAAgEAAAAAAkEAAAAAAABAQ0GAwAAAAgBAQwEAAAAAAMwAAAABgQAAAAABwQAAAAAAwEBCAQBAAAACQQAAAAAAAEBDQYGAAAAAAEGBwEBDAQAAAAAAzAAAAAGBAAAAAAHBAAAAAADAQEIBAEAAAAJBAAAAAAAAQENBgYAAAAAAQAHAQQMBAAAAAAPKgAAABAlAAAAAAQAAAAAAAAABA4AAAAeBDEESwRHBD0ESwQ5BAUEAAAAAAAAAAxOAAAAACIAAABUAGEAYgBsAGUAUwB0AHkAbABlAE0AZQBkAGkAdQBtADIAASIAAABQAGkAdgBvAHQAUwB0AHkAbABlAEwAaQBnAGgAdAAxADYAETcAAAAAMgAAAPoAEQAAAFMAbABpAGMAZQByAFMAdAB5AGwAZQBMAGkAZwBoAHQAMQD7AAQAAAAAAAAACAAAAAA=&quot; style=&quot;border-collapse: collapse;font-family:Calibri;font-size:11pt;color:#000;background-color:transparent;&quot;&gt;&lt;tbody&gt;&lt;tr style=&quot;height:141.43pt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;SF_1.1_V1&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Соблюдение показателя долговой нагрузки&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:normal;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Превышение в отношении Клиента соотношения показателей Долг/EBITDA, устанавливаемого на каждую отчетную дату (по РСБУ), уровня:&lt;br&gt;с ближайшей отчетной даты (по РСБУ), следующей за датой заключения Договора, – более 4,5 (Четырех целых пяти десятых) (включительно);&lt;br&gt;или снижение соотношения показателей Долг/EBITDA до отрицательного значения.&lt;br&gt;В расчет Долга не включаются обязательства перед следующими лицами: ШИДОВ ЗАУР МУХАМЕДОВИЧ.&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;Долг / EBITDA&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;4,5&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:nullpt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;SF_1.1_V1&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Соблюдение показателя долговой нагрузки&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Превышение в отношении Клиента соотношения показателей Долг/EBITDA, устанавливаемого на каждую отчетную дату (по РСБУ), уровня:&lt;br&gt;с ближайшей отчетной даты (по РСБУ), следующей за датой заключения Договора, – более 4 (Четырех) (включительно);&lt;br&gt;или снижение соотношения показателей Долг/EBITDA до отрицательного значения.&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;Долг / EBITDA&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;4&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="6270" width="560" height="260" as="geometry" />
        </mxCell>
        <mxCell id="CF2Xue_zBJq6MxR_8Y5s-3" value="&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;xslData;XLSY;v2;13232;-1;-1;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eh5ABQV7FK5H4XoeQA8/AAAAAQEJAgEAAwEABAQBAAAABQEABgEACAQBAAAACQQBAAAACgRYAgAAAAEBCwEADwRkAAAAEAEAEQEBEgRYAgAAEAYAAAAAAQABAQAJ+QQAACP0BAAAcgcAAJEBAAARBQAAAAAAAAAAAAAAAAAAAAAHDgAAAAABAAAAAAAAAAAABw4BAAAAAAAAAAEAAAAAAAcOAgAAAAAAAAACAAAAAAAHDgMAAAADAAAAAwAAAAAABw4EAAAABAAAAAQAAAAAAAUSBQAAAAEAAAAAAAAAAAAQQAAAABEGAAAAAAAAAAAAAAAAAAAAAAcOAAAAAAEAAAAAAAAAAAAHDgEAAAAAAAAAAQAAAAAABw4CAAAAAAAAAAUAAAAAAAcOAwAAAAMAAAAGAAAAAAAHDgQAAAAEAAAABAAAAAAABRIFAAAAAQAAAAAAAAAAAARAAAAAEQcAAAAAAAAAAAAAAAAAAAAABw4AAAAAAQAAAAAAAAAAAAcOAQAAAAAAAAABAAAAAAAHDgIAAAAAAAAABwAAAAAABw4DAAAAAwAAAAYAAAAAAAcOBAAAAAQAAAAEAAAAAAAFEgUAAAABAAAAAAAAAAAACEAAAAARCAAAAAAAAAAAAAAAAAAAAAAHDgAAAAABAAAACAAAAAAABw4BAAAAAQAAAAEAAAAAAAcOAgAAAAEAAAAJAAAAAAAHDgMAAAADAAAACgAAAAAABw4EAAAABAAAAAQAAAAAAAUSBQAAAAEAAAAAAAAAAAAUQAAAAQoGAAAAAwAAAAAAABEJAAAAAAAAAAAAAAAAAAAAAAcOAAAAAAEAAAAIAAAAAAAHDgEAAAABAAAAAQAAAAAABw4CAAAAAQAAAAsAAAAAAAcOAwAAAAMAAAAMAAAAAAAHDgQAAAAEAAAABAAAAAAABRIFAAAAAQAAAAAAAAAAABRAAAABCgYAAAADAAAAAAAAEQoAAAAAAAAAAAAAAAAAAAAABw4AAAAAAQAAAAgAAAAAAAcOAQAAAAEAAAABAAAAAAAHDgIAAAABAAAADQAAAAAABw4DAAAAAwAAAAoAAAAAAAcOBAAAAAQAAAAEAAAAAAAFEgUAAAABAAAAAAAAAAAAEEAAAAARCwAAAAAAAAAAAAAAAAAAAAAHDgAAAAABAAAADgAAAAAABw4BAAAAAQAAAAEAAAAAAAcOAgAAAAEAAAAPAAAAAAAHDgMAAAADAAAAEAAAAAAABw4EAAAABAAAAAQAAAAAAAUSBQAAAAEAAACamZmZmZnZPwAAAQoGAAAAAwAAAAAAABEMAAAAAAAAAAAAAAAAAAAAAAcOAAAAAAEAAAAOAAAAAAAHDgEAAAAAAAAAAQAAAAAABw4CAAAAAQAAABEAAAAAAAcOAwAAAAMAAAAQAAAAAAAHDgQAAAAEAAAABAAAAAAABRIFAAAAAQAAAAAAAAAAANA/AAAAEQ0AAAAAAAAAAAAAAAAAAAAABw4AAAAAAQAAABIAAAAAAAcOAQAAAAEAAAATAAAAAAAHDgIAAAABAAAAFAAAAAAABw4DAAAAAwAAABMAAAAAAAcOBAAAAAQAAAAVAAAAAAAFEgUAAAAFAAAAAAAAANASY0EAAAcOBgAAAAMAAAAWAAAAAAAAEQ4AAAAAAAAAAAAAAAAAAAAABw4AAAAAAQAAABcAAAAAAAcOAQAAAAEAAAATAAAAAAAHDgIAAAABAAAAGAAAAAAABw4DAAAAAwAAABMAAAAAAAcOBAAAAAQAAAAVAAAAAAAFEgUAAAAFAAAAAAAAANASY0EAAAcOBgAAAAMAAAAWAAAAAACSAQAFAAAAAAcAAAAAGwAAAABQJAAAABcAAAADEgAAAFMARgBfADEALgAxAF8AVgAxAABTAAAAA04AAAAhBD4EMQQ7BE4ENAQ1BD0EOAQ1BCAAPwQ+BDoEMAQ3BDAEQgQ1BDsETwQgADQEPgQ7BDMEPgQyBD4EOQQgAD0EMAQzBEAEQwQ3BDoEOAQADwMAAAMKAwAAHwRABDUEMgRLBEgENQQ9BDgENQQgADIEIAA+BEIEPQQ+BEgENQQ9BDgEOAQgAEMERwQwBEEEQgQ9BDgEOgQ+BDIEIAATBEAEQwQ/BD8ESwQsACAAQwQ6BDAENwQwBD0EPQQ+BDkEIAAyBCAAHwQ1BEAENQRHBD0ENQQgADEAIAAfBEAEOAQ7BD4ENgQ1BD0EOARPBCAAqwAhBD4EQQRCBDAEMgQgABMEQARDBD8EPwRLBLsAIAA6BCAAFAQ+BDMEPgQyBD4EQARDBCwAIABBBD4EPgRCBD0EPgRIBDUEPQQ4BE8EIAA/BD4EOgQwBDcEMARCBDUEOwQ1BDkEIAAUBD4EOwQzBC8ARQBCAEkAVABEAEEALAAgAEMEQQRCBDAEPQQwBDIEOwQ4BDIEMAQ1BDwEPgQzBD4EIAA9BDAEIAA6BDAENgQ0BEMETgQgAD4EQgRHBDUEQgQ9BEMETgQgADQEMARCBEMEIAAoAD8EPgQgACAEIQQRBCMEKQAsACAAQwRABD4EMgQ9BE8EOgAKAEEEIAAxBDsEOAQ2BDAEOQRIBDUEOQQgAD4EQgRHBDUEQgQ9BD4EOQQgADQEMARCBEsEIAAoAD8EPgQgACAEIQQRBCMEKQAsACAAQQQ7BDUENARDBE4ESQQ1BDkEIAA3BDAEIAA0BDAEQgQ+BDkEIAA3BDAEOgQ7BE4ERwQ1BD0EOARPBCAAFAQ+BDMEPgQyBD4EQAQwBCwAIAATICAAMQQ+BDsENQQ1BCAANAAgACgAJwQ1BEIESwRABDUERQQpACAAKAAyBDoEOwROBEcEOARCBDUEOwRMBD0EPgQpADsACgA4BDsEOAQgAEEEPQQ4BDYENQQ9BDgENQQgAEEEPgQ+BEIEPQQ+BEgENQQ9BDgETwQgAD8EPgQ6BDAENwQwBEIENQQ7BDUEOQQgABQEPgQ7BDMELwBFAEIASQBUAEQAQQAgADQEPgQgAD4EQgRABDgERgQwBEIENQQ7BEwEPQQ+BDMEPgQgADcEPQQwBEcENQQ9BDgETwQuAAArAAAAAyYAAAAUBD4EOwQzBCAALwAgAEUAQgBJAFQARABBACAAPwQ+BCAAEwQaBAAJAAAAAwQAAAA8AD0AAPEGAAAD7AYAAB8EQAQ1BDIESwRIBDUEPQQ4BDUEIAAyBCAAPgRCBD0EPgRIBDUEPQQ4BDgEIAAaBDsEOAQ1BD0EQgQwBCAAQQQ+BD4EQgQ9BD4ESAQ1BD0EOARPBCAAPwQ+BDoEMAQ3BDAEQgQ1BDsENQQ5BCAAFAQ+BDsEMwQvAEUAQgBJAFQARABBACwAIABDBEEEQgQwBD0EMAQyBDsEOAQyBDAENQQ8BD4EMwQ+BCAAPQQwBCAAOgQwBDYENARDBE4EIAA+BEIERwQ1BEIEPQRDBE4EIAA0BDAEQgRDBCAAKAA/BD4EIAAgBCEEEQQjBCkALAAgAEMEQAQ+BDIEPQRPBDoACgBBBCAAMQQ7BDgENgQwBDkESAQ1BDkEIAA+BEIERwQ1BEIEPQQ+BDkEIAA0BDAEQgRLBCAAKAA/BD4EIAAgBCEEEQQjBCkALAAgAEEEOwQ1BDQEQwROBEkENQQ5BCAANwQwBCAANAQwBEIEPgQ5BCAANwQwBDoEOwROBEcENQQ9BDgETwQgABQEPgQzBD4EMgQ+BEAEMAQsACAAEyAgADEEPgQ7BDUENQQgADIALAA1ACAAKAAUBDIEQwRFBCAARgQ1BDsESwRFBCAAPwRPBEIEOAQgADQENQRBBE8EQgRLBEUEKQAgACgAMgQ6BDsETgRHBDgEQgQ1BDsETAQ9BD4EKQA7AAoAOAQ7BDgEIABBBD0EOAQ2BDUEPQQ4BDUEIABBBD4EPgRCBD0EPgRIBDUEPQQ4BE8EIAA/BD4EOgQwBDcEMARCBDUEOwQ1BDkEIAAUBD4EOwQzBC8ARQBCAEkAVABEAEEAIAA0BD4EIAA+BEIEQAQ4BEYEMARCBDUEOwRMBD0EPgQzBD4EIAA3BD0EMARHBDUEPQQ4BE8ELgAKABIEIABABDAEQQRHBDUEQgQgABQEPgQ7BDMEMAQgAD0ENQQgADIEOgQ7BE4ERwQwBE4EQgRBBE8EIAA/BEAENQQ0BD4EQQRCBDAEMgQ7BDUEPQQ9BEsENQQgABoEOwQ4BDUEPQRCBEMEIAA3BDAEOQQ8BEsELAAgADoEQAQ1BDQEOARCBEsEIAA4BCAAOAQ9BEsENQQgADQENQQ9BDUENgQ9BEsENQQgAD4EMQRPBDcEMARCBDUEOwRMBEEEQgQyBDAELAAgAEEEQwQxBD4EQAQ0BDgEPQQ4BEAEPgQyBDAEPQQ9BEsENQQgAEEEOwQ1BDQEQwROBEkEOAQ8BCgAOAQ8BDgEKQAgAEEEPwQ+BEEEPgQxBD4EPAQoADAEPAQ4BCkAOgAKADEAKQAgADcEMAQ5BDwESwQsACAAOgQ+BD0EMgQ1BEAEQgQ4BEAEPgQyBDAEPQQ9BEsENQQgADIEIAAyBDUEOgRBBDUEOwRPBCAAKAA/BEMEQgQ1BDwEIAAyBEsEPwRDBEEEOgQwBCAAPwRABD4EQQRCBEsERQQgADIENQQ6BEEENQQ7BDUEOQQsACAAPwQwBEAEMAQ8BDUEQgRABEsEIAA6BD4EQgQ+BEAESwRFBCAAQQQ+BDMEOwQwBEEEPgQyBDAEPQRLBCAAQQQgABEEMAQ9BDoEPgQ8BCkALAAgADgEIAA+BEQEPgRABDwEOwQ1BD0EOAQ1BCAANwQwBDsEPgQzBDAEIAA0BDAEPQQ9BEsERQQgADIENQQ6BEEENQQ7BDUEOQQgADIEIAA/BD4EOwRMBDcEQwQgABEEMAQ9BDoEMAQgAEEEIAA/BDUEQAQ1BDQEMARHBDUEOQQgABEEMAQ9BDoEQwQuAAoAMgApACAANAQ1BD0ENQQ2BD0ESwQ1BCAAPgQxBE8ENwQwBEIENQQ7BEwEQQRCBDIEMAQgABoEOwQ4BDUEPQRCBDAELAAgADIEIAA+BEIEPQQ+BEgENQQ9BDgEOAQgADoEPgRCBD4EQARLBEUEIAA8BDUENgQ0BEMEIAAaBDsEOAQ1BD0EQgQ+BDwELAAgABEEMAQ9BDoEPgQ8BCAAOAQgADgEPQRLBDwEOAQgADoEQAQ1BDQEOARCBD4EQAQwBDwEOAQgADcEMAQ6BDsETgRHBDUEPQQ+BCgASwQpACAAQQQ+BDMEOwQwBEgENQQ9BDgENQQoADgETwQpACAAOgRABDUENAQ4BEIEPgRABD4EMgQgAD4EIAA/BD4EQARPBDQEOgQ1BCAAQwQ0BD4EMgQ7BDUEQgQyBD4EQAQ1BD0EOARPBCAAOARFBCAAQgRABDUEMQQ+BDIEMAQ9BDgEOQQgADoEIAAaBDsEOAQ1BD0EQgRDBCAAPQQwBCAAQwRBBDsEPgQyBDgETwRFBCwAIABBBD4EMwQ7BDAEQQQ+BDIEMAQ9BD0ESwRFBCAAQQQgABEEMAQ9BDoEPgQ8BC4AAB8AAAADGgAAABQEPgQ7BDMEIAAvACAARQBCAEkAVABEAEEAAHkCAAADdAIAAB8EQAQ1BDIESwRIBDUEPQQ4BDUEIAAyBCAAPgRCBD0EPgRIBDUEPQQ4BDgEIAAaBDsEOAQ1BD0EQgQwBCAAQQQ+BD4EQgQ9BD4ESAQ1BD0EOARPBCAAPwQ+BDoEMAQ3BDAEQgQ1BDsENQQ5BCAAFAQ+BDsEMwQvAEUAQgBJAFQARABBACwAIABDBEEEQgQwBD0EMAQyBDsEOAQyBDAENQQ8BD4EMwQ+BCAAPQQwBCAAOgQwBDYENARDBE4EIAA+BEIERwQ1BEIEPQRDBE4EIAA0BDAEQgRDBCAAKAA/BD4EIAAgBCEEEQQjBCkALAAgAEMEQAQ+BDIEPQRPBDoACgBBBCAAMQQ7BDgENgQwBDkESAQ1BDkEIAA+BEIERwQ1BEIEPQQ+BDkEIAA0BDAEQgRLBCAAKAA/BD4EIAAgBCEEEQQjBCkALAAgAEEEOwQ1BDQEQwROBEkENQQ5BCAANwQwBCAANAQwBEIEPgQ5BCAANwQwBDoEOwROBEcENQQ9BDgETwQgABQEPgQzBD4EMgQ+BEAEMAQsACAAEyAgADEEPgQ7BDUENQQgADMAIAAoACIEQAQ1BEUEKQAgACgAMgQ6BDsETgRHBDgEQgQ1BDsETAQ9BD4EKQA7AAoAOAQ7BDgEIABBBD0EOAQ2BDUEPQQ4BDUEIABBBD4EPgRCBD0EPgRIBDUEPQQ4BE8EIAA/BD4EOgQwBDcEMARCBDUEOwQ1BDkEIAAUBD4EOwQzBC8ARQBCAEkAVABEAEEAIAA0BD4EIAA+BEIEQAQ4BEYEMARCBDUEOwRMBD0EPgQzBD4EIAA3BD0EMARHBDUEPQQ4BE8ELgAAFwAAAAMSAAAAUwBGAF8AMQAuADEAXwBWADIAAJUCAAADkAIAAB8EQAQ1BDIESwRIBDUEPQQ4BDUEIAAyBCAAPgRCBD0EPgRIBDUEPQQ4BDgEIAAaBDsEOAQ1BD0EQgQwBCAAQQQ+BD4EQgQ9BD4ESAQ1BD0EOARPBCAAPwQ+BDoEMAQ3BDAEQgQ1BDsENQQ5BCAAJwQ4BEEEQgRLBDkEIAA0BD4EOwQzBC8ARQBCAEkAVABEAEEALAAgAEMEQQRCBDAEPQQwBDIEOwQ4BDIEMAQ1BDwEPgQzBD4EIAA9BDAEIAA6BDAENgQ0BEMETgQgAD4EQgRHBDUEQgQ9BEMETgQgADQEMARCBEMEIAAoAD8EPgQgACAEIQQRBCMEKQAsACAAQwRABD4EMgQ9BE8EOgAKAEEEIAAxBDsEOAQ2BDAEOQRIBDUEOQQgAD4EQgRHBDUEQgQ9BD4EOQQgADQEMARCBEsEIAAoAD8EPgQgACAEIQQRBCMEKQAsACAAQQQ7BDUENARDBE4ESQQ1BDkEIAA3BDAEIAA0BDAEQgQ+BDkEIAA3BDAEOgQ7BE4ERwQ1BD0EOARPBCAAFAQ+BDMEPgQyBD4EQAQwBCwAIAATICAAMQQ+BDsENQQ1BCAANQAgACgAHwRPBEIEOAQpACAAKAAyBDoEOwROBEcEOARCBDUEOwRMBD0EPgQpADsACgA4BDsEOAQgAEEEPQQ4BDYENQQ9BDgENQQgAEEEPgQ+BEIEPQQ+BEgENQQ9BDgETwQgAD8EPgQ6BDAENwQwBEIENQQ7BDUEOQQgACcEOARBBEIESwQ5BCAANAQ+BDsEMwQvAEUAQgBJAFQARABBACAANAQ+BCAAPgRCBEAEOARGBDAEQgQ1BDsETAQ9BD4EMwQ+BCAANwQ9BDAERwQ1BD0EOARPBC4AAC0AAAADKAAAACcEOARBBEIESwQ5BCAANAQ+BDsEMwQgAC8AIABFAEIASQBUAEQAQQAATQQAAANIBAAAHwRABDUEMgRLBEgENQQ9BDgENQQgADIEIAA+BEIEPQQ+BEgENQQ9BDgEOAQgAEMERwQwBEEEQgQ9BDgEOgQ+BDIEIAATBEAEQwQ/BD8ESwQsACAAQwQ6BDAENwQwBD0EPQQ+BDkEIAAyBCAAHwQ1BEAENQRHBD0ENQQgADEAIAAfBEAEOAQ7BD4ENgQ1BD0EOARPBCAAqwAhBD4EQQRCBDAEMgQgABMEQARDBD8EPwRLBLsAIAA6BCAAFAQ+BDMEPgQyBD4EQARDBCwAIABBBD4EPgRCBD0EPgRIBDUEPQQ4BE8EIAA/BD4EOgQwBDcEMARCBDUEOwQ1BDkEIAAnBDgEQQRCBEsEOQQgADQEPgQ7BDMELwBFAEIASQBUAEQAQQAsACAAQwRBBEIEMAQ9BDAEMgQ7BDgEMgQwBDUEPAQ+BDMEPgQgAD0EMAQgADoEMAQ2BDQEQwROBCAAPgRCBEcENQRCBD0EQwROBCAANAQwBEIEQwQgADgEIAA9BDAEIAA0BDAEQgRDBCAAMgRLBDQEMARHBDgEIAA6BEAENQQ0BDgEQgQ9BEsERQQgAEEEQAQ1BDQEQQRCBDIEIAAoAD8EPgQgACAEIQQRBCMEKQAsACAAQwRABD4EMgQ9BE8EOgAKAEEEIAAxBDsEOAQ2BDAEOQRIBDUEOQQgAD4EQgRHBDUEQgQ9BD4EOQQgADQEMARCBEsEIAAoAD8EPgQgACAEIQQRBCMEKQAsACAAQQQ7BDUENARDBE4ESQQ1BDkEIAA3BDAEIAA0BDAEQgQ+BDkEIAA3BDAEOgQ7BE4ERwQ1BD0EOARPBCAAFAQ+BDMEPgQyBD4EQAQwBCwAIAA4BDsEOAQgAEEEIAA0BDAEQgRLBCAAPwQ1BEAEMgQ+BDkEIAAyBEsENAQwBEcEOAQgADoEQAQ1BDQEOARCBDAEIAAoADIEOgQ7BE4ERwQ4BEIENQQ7BEwEPQQ+BCkAIAAoADIEIAA3BDAEMgQ4BEEEOAQ8BD4EQQRCBDgEIAA+BEIEIABCBD4EMwQ+BCwAIAA6BDAEOgQ+BDUEKAAwBE8EKQAgAEEEPgQxBEsEQgQ4BDUEIAAoADQEMARCBDAEKQAgAD0EMARBBEIEQwQ/BDgEQgQgAEAEMAQ9BDUENQQpACAAEyAgADEEPgQ7BDUENQQgADUAIAAoAB8ETwRCBDgEKQAgACgAMgQ6BDsETgRHBDgEQgQ1BDsETAQ9BD4EKQA7AAoAOAQ7BDgEIABBBD0EOAQ2BDUEPQQ4BDUEIABBBD4EPgRCBD0EPgRIBDUEPQQ4BE8EIAA/BD4EOgQwBDcEMARCBDUEOwQ1BDkEIAAnBDgEQQRCBEsEOQQgADQEPgQ7BDMELwBFAEIASQBUAEQAQQAgADQEPgQgAD4EQgRABDgERgQwBEIENQQ7BEwEPQQ+BDMEPgQgADcEPQQwBEcENQQ9BDgETwQuAAA5AAAAAzQAAAAnBDgEQQRCBEsEOQQgADQEPgQ7BDMEIAAvACAARQBCAEkAVABEAEEAIAA/BD4EIAATBBoEAA8DAAADCgMAAB8EQAQ1BDIESwRIBDUEPQQ4BDUEIAAyBCAAPgRCBD0EPgRIBDUEPQQ4BDgEIAAaBDsEOAQ1BD0EQgQwBCAAQQQ+BD4EQgQ9BD4ESAQ1BD0EOARPBCAAPwQ+BDoEMAQ3BDAEQgQ1BDsENQQ5BCAAJwQ4BEEEQgRLBDkEIAA0BD4EOwQzBC8ARQBCAEkAVABEAEEALAAgAEMEQQRCBDAEPQQwBDIEOwQ4BDIEMAQ1BDwEPgQzBD4EIAA9BDAEIAA6BDAENgQ0BEMETgQgAD4EQgRHBDUEQgQ9BEMETgQgADQEMARCBEMEIAAoAD8EPgQgACAEIQQRBCMEKQAsACAAQwRABD4EMgQ9BE8EOgAKAEEEIAAxBDsEOAQ2BDAEOQRIBDUEOQQgAD4EQgRHBDUEQgQ9BD4EOQQgADQEMARCBEsEIAAoAD8EPgQgACAEIQQRBCMEKQAsACAAQQQ7BDUENARDBE4ESQQ1BDkEIAA3BDAEIAA0BDAEQgQ+BDkEIAA3BDAEOgQ7BE4ERwQ1BD0EOARPBCAAFAQ+BDMEPgQyBD4EQAQwBCwAIAATICAAMQQ+BDsENQQ1BCAANAAgACgAJwQ1BEIESwRABDUERQQpACAAKAAyBDoEOwROBEcEOARCBDUEOwRMBD0EPgQpADsACgA4BDsEOAQgAEEEPQQ4BDYENQQ9BDgENQQgAEEEPgQ+BEIEPQQ+BEgENQQ9BDgETwQgAD8EPgQ6BDAENwQwBEIENQQ7BDUEOQQgACcEOARBBEIESwQ5BCAANAQ+BDsEMwQvAEUAQgBJAFQARABBACAANAQ+BCAAPgRCBEAEOARGBDAEQgQ1BDsETAQ9BD4EMwQ+BCAANwQ9BDAERwQ1BD0EOARPBC4ACgASBCAAQAQwBEEERwQ1BEIEIAAnBDgEQQRCBD4EMwQ+BCAAFAQ+BDsEMwQwBCAAMgQ6BDsETgRHBDAETgRCBEEETwQgAD0ENQQ/BD4EOgRABEsEQgRLBDUEIAAwBDoEOgRABDUENAQ4BEIEOAQyBEsELgAAFwAAAAMSAAAAUwBGAF8AMQAuADEAXwBWADMAAK0CAAADqAIAAB8EQAQ1BDIESwRIBDUEPQQ4BDUEIAAyBCAAPgRCBD0EPgRIBDUEPQQ4BDgEIAAaBDsEOAQ1BD0EQgQwBCAAQQQ+BD4EQgQ9BD4ESAQ1BD0EOARPBCAAPwQ+BDoEMAQ3BDAEQgQ1BDsENQQ5BCAAFAQ+BDsEMwQvABIESwRABEMERwQ6BDAELAAgAEMEQQRCBDAEPQQwBDIEOwQ4BDIEMAQ1BDwEPgQzBD4EIAA9BDAEIAA6BDAENgQ0BEMETgQgAD4EQgRHBDUEQgQ9BEMETgQgADQEMARCBEMEIAAoAD8EPgQgACAEIQQRBCMEKQAsACAAQwRABD4EMgQ9BE8EOgAKAEEEIAAxBDsEOAQ2BDAEOQRIBDUEOQQgAD4EQgRHBDUEQgQ9BD4EOQQgADQEMARCBEsEIAAoAD8EPgQgACAEIQQRBCMEKQAsACAAQQQ7BDUENARDBE4ESQQ1BDkEIAA3BDAEIAA0BDAEQgQ+BDkEIAA3BDAEOgQ7BE4ERwQ1BD0EOARPBCAAFAQ+BDMEPgQyBD4EQAQwBCwAIAATICAAMQQ+BDsENQQ1BCAAMAAsADQAIAAoAB0EPgQ7BE8EIABGBDUEOwRLBEUEIABHBDUEQgRLBEAENQRFBCAANAQ1BEEETwRCBEsERQQpACAAKAAyBDoEOwROBEcEOARCBDUEOwRMBD0EPgQpADsACgA4BDsEOAQgAEEEPQQ4BDYENQQ9BDgENQQgAEEEPgQ+BEIEPQQ+BEgENQQ9BDgETwQgAD8EPgQ6BDAENwQwBEIENQQ7BDUEOQQgABQEPgQ7BDMELwASBEsEQARDBEcEOgQwBCAANAQ+BCAAPgRCBEAEOARGBDAEQgQ1BDsETAQ9BD4EMwQ+BCAANwQ9BDAERwQ1BD0EOARPBC4AACEAAAADHAAAABQEPgQ7BDMEIAAvACAAEgRLBEAEQwRHBDoEMAQAdwMAAANyAwAAHwRABDUEMgRLBEgENQQ9BDgENQQgADIEIAA+BEIEPQQ+BEgENQQ9BDgEOAQgABoEOwQ4BDUEPQRCBDAEIABBBD4EPgRCBD0EPgRIBDUEPQQ4BE8EIAA/BD4EOgQwBDcEMARCBDUEOwQ1BDkEIAAUBNAAvgA7BDMELwASBEsEQARDBEcEOgQwBCwAIABDBEEEQgQwBD0EMAQyBDsEOAQyBDAENQQ8BD4EMwQ+BCAAPQQwBCAAOgQwBDYENARDBE4EIAA+BEIERwQ1BEIEPQRDBE4EIAA0BDAEQgRDBCAAKAA/BD4EIAAgBCEEEQQjBCkALAAgAEMEQAQ+BDIEPQRPBDoACgAKAEEEIAAxBDsEOAQ2BDAEOQRIBDUEOQQgAD4EQgRHBDUEQgQ9BD4EOQQgADQEMARCBEsEIAAoAD8EPgQgACAEIQQRBCMEKQAsACAAQQQ7BDUENARDBE4ESQQ1BDkEIAA3BDAEIAA0BDAEQgQ+BDkEIAA3BDAEOgQ7BE4ERwQ1BD0EOARPBCAAFAQ+BDMEPgQyBD4EQAQwBCwAIAATICAAMQQ+BDsENQQ1BCAAMAAsADIANQAgACgAHQQ+BDsETwQgAEYENQQ7BEsERQQgADQEMgQwBDQERgQwBEIEOAQgAD8ETwRCBDgEIABBBD4EQgRLBEUEKQAgACgAMgQ6BDsETgRHBDgEQgQ1BDsETAQ9BD4EKQA7AAoACgA4BDsEOAQgAEEEPQQ4BDYENQQ9BDgENQQgAEEEPgQ+BEIEPQQ+BEgENQQ9BDgETwQgAD8EPgQ6BDAENwQwBEIENQQ7BDUEOQQgABQEPgQ7BDMELwASBEsEQARDBEcEOgQwBCAANAQ+BCAAPgRCBEAEOARGBDAEQgQ1BDsETAQ9BD4EMwQ+BCAANwQ9BDAERwQ1BD0EOARPBC4ACgAKABIEIABABDAEQQRHBDUEQgQgABQEPgQ7BDMEMAQgAD0ENQQgADIEOgQ7BE4ERwQwBE4EQgRBBE8EIAA+BDEETwQ3BDAEQgQ1BDsETARBBEIEMgQwBCAAPwQ1BEAENQQ0BCAAQQQ7BDUENARDBE4ESQQ4BDwEOAQgADsEOARGBDAEPAQ4BDoAIAAoBBgEFAQeBBIEIAAXBBAEIwQgBCAAHAQjBCUEEAQcBBUEFAQeBBIEGAQnBC4AABcAAAADEgAAAFMARgBfADEALgAyAF8AVgAxAABRAAAAA0wAAAAeBDMEQAQwBD0EOARHBDUEPQQ4BDUEIAA+BDEESgQ1BDwEMAQgAD8EQAQ1BDQESgRPBDIEOwQ1BD0EPQRLBEUEIAA4BEEEOgQ+BDIEAEsCAAADRgIAAB8EQAQ1BDQESgRPBDIEOwQ1BD0EOAQ1BCAAOwROBDEEPgQ8BEMEIAAjBEcEMARBBEIEPQQ4BDoEQwQgAEEENAQ1BDsEOgQ4BCAAOARBBDoEMAQoAD4EMgQpACAAOAQvADgEOwQ4BCAAPwRABDgEPQRPBEIEOAQ1BCAAQQRDBDQEPgQ8BCAAOgQgAD8EQAQ+BDgENwQyBD4ENARBBEIEMgRDBCAAOARBBDoEPgQyBD4EMwQ+BCgASwRFBCkAIAA3BDAETwQyBDsENQQ9BDgETwQoADgEOQQpACAAPgQxBCAAQwQ/BDsEMARCBDUEIAA0BDUEPQQ1BDYEPQQ+BDkEIABBBEMEPAQ8BEsEIAA4BC8AOAQ7BDgEIAA+BDEEIAA4BEEEQgRABDUEMQQ+BDIEMAQ9BDgEOAQgADgEPARDBEkENQRBBEIEMgQwBCAAPQQwBCAAQQQ+BDIEPgQ6BEMEPwQ9BEMETgQgAEEEQwQ8BDwEQwQsACAAPwRABDUEMgRLBEgEMAROBEkEQwROBCAAMQAwACAAMAAwADAAIAAwADAAMAAgACgAFAQ1BEEETwRCBEwEIAA8BDgEOwQ7BDgEPgQ9BD4EMgQpACAAQARDBDEEOwQ1BDkEIAAyBCAAPgRCBD0EPgRIBDUEPQQ4BDgEIAA7BE4EMQQ+BDMEPgQgADgENwQgAEMEOgQwBDcEMAQ9BD0ESwRFBCAAMgQgAD0EMARBBEIEPgRPBEkENQQ8BCAAPwRDBD0EOgRCBDUEIAA7BDgERgQuAAAHAAAAAwIAAAA8AAARAAAAAwwAAABABEMEMQQ7BDUEOQQAFwAAAAMSAAAAUwBGAF8AMQAuADIAXwBWADIAAPECAAAD7AIAAB8EQAQ1BDQESgRPBDIEOwQ1BD0EOAQ1BCAAOARBBDoEMAQoAD4EMgQpACAAOAQvADgEOwQ4BCAAPwRABDgEPQRPBEIEOAQ1BCAAQQRDBDQEPgQ8BCAAOgQgAD8EQAQ+BDgENwQyBD4ENARBBEIEMgRDBCAAOARBBDoEPgQyBD4EMwQ+BCgASwRFBCkAIAA3BDAETwQyBDsENQQ9BDgETwQoADgEOQQpACAAPgQxBCAAQwQ/BDsEMARCBDUEIAA0BDUEPQQ1BDYEPQQ+BDkEIABBBEMEPAQ8BEsEIAA4BC8AOAQ7BDgEIAA+BDEEIAA4BEEEQgRABDUEMQQ+BDIEMAQ9BDgEOAQgADgEPARDBEkENQRBBEIEMgQwBDoACgATICAAPwRABDgEPAQ1BD0EOARCBDUEOwRMBD0EPgQgADoEIAAaBDsEOAQ1BD0EQgRDBCAAMgQgAEEEPgQyBD4EOgRDBD8EPQQ+BDwEIABABDAENwQ8BDUEQAQ1BCwAIAA/BEAENQQyBEsESAQwBE4ESQQ1BDwEIAAxADAAIAAwADAAMAAgADAAMAAwACAAKAAUBDUEQQRPBEIETAQgADwEOAQ7BDsEOAQ+BD0EPgQyBCkAIABABEMEMQQ7BDUEOQQ7AAoAEyAgAD8EQAQ4BDwENQQ9BDgEQgQ1BDsETAQ9BD4EIAA6BCAAPwQ+BEAEQwRHBDgEQgQ1BDsETgQgADgELwA4BDsEOAQgADcEMAQ7BD4EMwQ+BDQEMARCBDUEOwROBCAAOAQvADgEOwQ4BCAAMwQwBEAEMAQ9BEIEQwQgADIEIABBBD4EMgQ+BDoEQwQ/BD0EPgQ8BCAAQAQwBDcEPAQ1BEAENQQsACAAPwRABDUEMgRLBEgEMAROBEkENQQ8BCAAMQAwACAAMAAwADAAIAAwADAAMAAgACgAFAQ1BEEETwRCBEwEIAA8BDgEOwQ7BDgEPgQ9BD4EMgQpACAAQARDBDEEOwQ1BDkELgDnAgAAAC0AAAABKAAAAAADAAAAAQEKAQMAAAABAQoCAwAAAAEBCgQDAAAAAQEKBQMAAAABAQoEIAAAAAULAAAAAAYAAAACAQAAABEFCwAAAAAGAAAAAgEAAAAIBnsAAAAHKgAAAAEGAwAAAAIBAQQGDgAAAEMAYQBsAGkAYgByAGkACQEBBgUAAAAAAAAmQAdHAAAAAQYDAAAAAgEBBAYuAAAAVgBhAHIAKAAtAC0AdAB5AHAAbwAtAGYAbwBuAHQALQBmAGEAbQBpAGwAeQApAAYFAAAAAAAAJkAOKQAAAAMkAAAAAQEBBgQAAAAAAgEBBwQAAAAAAwEBCAQAAAAABAEBCQQAAAAAAhoBAAADHgAAAAYEAAAAAAcEAAAAAAgEAAAAAAkEAAAAAAwEAAAAAAMeAAAABgQAAAAABwQAAAAACAQAAAAACQQAAAAADAQAAAAAAy0AAAAGBAAAAAAHBAAAAAAIBAAAAAAJBAAAAAAAAQENBgYAAAAAAQAHAQQMBAAAAAADMAAAAAYEAAAAAAcEAAAAAAMBAQgEAQAAAAkEAAAAAAABAQ0GBgAAAAABBgcBAQwEAAAAAAMwAAAABgQAAAAABwQAAAAAAwEBCAQBAAAACQQAAAAAAAEBDQYGAAAAAAEABwEEDAQAAAAAAzMAAAAGBAAAAAAHBAAAAAADAQEIBAEAAAAEAQEJBAMAAAAAAQENBgYAAAAAAQYHAQEMBAAAAAAPKgAAABAlAAAAAAQAAAAAAAAABA4AAAAeBDEESwRHBD0ESwQ5BAUEAAAAAAAAAAxOAAAAACIAAABUAGEAYgBsAGUAUwB0AHkAbABlAE0AZQBkAGkAdQBtADIAASIAAABQAGkAdgBvAHQAUwB0AHkAbABlAEwAaQBnAGgAdAAxADYAETcAAAAAMgAAAPoAEQAAAFMAbABpAGMAZQByAFMAdAB5AGwAZQBMAGkAZwBoAHQAMQD7AAQAAAAAAAAACAAAAAA=&quot; style=&quot;border-collapse: collapse;font-family:Calibri;font-size:11pt;color:#000;background-color:transparent;&quot;&gt;&lt;tbody&gt;&lt;tr style=&quot;height:nullpt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;SF_1.1_V1&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Соблюдение показателя долговой нагрузки&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Превышение в отношении участников Группы, указанной в Перечне 1 Приложения «Состав Группы» к Договору, соотношения показателей Долг/EBITDA, устанавливаемого на каждую отчетную дату (по РСБУ), уровня:&lt;br&gt;с ближайшей отчетной даты (по РСБУ), следующей за датой заключения Договора, – более 4 (Четырех) (включительно);&lt;br&gt;или снижение соотношения показателей Долг/EBITDA до отрицательного значения.&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;Долг / EBITDA по ГК&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;4&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:nullpt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;SF_1.1_V1&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Соблюдение показателя долговой нагрузки&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Превышение в отношении Клиента соотношения показателей Долг/EBITDA, устанавливаемого на каждую отчетную дату (по РСБУ), уровня:&lt;br&gt;с ближайшей отчетной даты (по РСБУ), следующей за датой заключения Договора, – более 2,5 (Двух целых пяти десятых) (включительно);&lt;br&gt;или снижение соотношения показателей Долг/EBITDA до отрицательного значения.&lt;br&gt;В расчет Долга не включаются предоставленные Клиенту займы, кредиты и иные денежные обязательства, субординированные следующим(ими) способом(ами):&lt;br&gt;1) займы, конвертированные в векселя (путем выпуска простых векселей, параметры которых согласованы с Банком), и оформление залога данных векселей в пользу Банка с передачей Банку.&lt;br&gt;2) денежные обязательства Клиента, в отношении которых между Клиентом, Банком и иными кредиторами заключено(ы) соглашение(ия) кредиторов о порядке удовлетворения их требований к Клиенту на условиях, согласованных с Банком.&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;Долг / EBITDA&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;2,5&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:nullpt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;SF_1.1_V1&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Соблюдение показателя долговой нагрузки&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Превышение в отношении Клиента соотношения показателей Долг/EBITDA, устанавливаемого на каждую отчетную дату (по РСБУ), уровня:&lt;br&gt;с ближайшей отчетной даты (по РСБУ), следующей за датой заключения Договора, – более 3 (Трех) (включительно);&lt;br&gt;или снижение соотношения показателей Долг/EBITDA до отрицательного значения.&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;Долг / EBITDA&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;3&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:nullpt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;SF_1.1_V2&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Соблюдение показателя долговой нагрузки&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Превышение в отношении Клиента соотношения показателей Чистый долг/EBITDA, устанавливаемого на каждую отчетную дату (по РСБУ), уровня:&lt;br&gt;с ближайшей отчетной даты (по РСБУ), следующей за датой заключения Договора, – более 5 (Пяти) (включительно);&lt;br&gt;или снижение соотношения показателей Чистый долг/EBITDA до отрицательного значения.&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;Чистый долг / EBITDA&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;5&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:86.42857142857142pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:nullpt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;SF_1.1_V2&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Соблюдение показателя долговой нагрузки&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Превышение в отношении участников Группы, указанной в Перечне 1 Приложения «Состав Группы» к Договору, соотношения показателей Чистый долг/EBITDA, устанавливаемого на каждую отчетную дату и на дату выдачи кредитных средств (по РСБУ), уровня:&lt;br&gt;с ближайшей отчетной даты (по РСБУ), следующей за датой заключения Договора, или с даты первой выдачи кредита (включительно) (в зависимости от того, какое(ая) событие (дата) наступит ранее) – более 5 (Пяти) (включительно);&lt;br&gt;или снижение соотношения показателей Чистый долг/EBITDA до отрицательного значения.&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;Чистый долг / EBITDA по ГК&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;5&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:86.42857142857142pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:nullpt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;SF_1.1_V2&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Соблюдение показателя долговой нагрузки&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Превышение в отношении Клиента соотношения показателей Чистый долг/EBITDA, устанавливаемого на каждую отчетную дату (по РСБУ), уровня:&lt;br&gt;с ближайшей отчетной даты (по РСБУ), следующей за датой заключения Договора, – более 4 (Четырех) (включительно);&lt;br&gt;или снижение соотношения показателей Чистый долг/EBITDA до отрицательного значения.&lt;br&gt;В расчет Чистого Долга включаются непокрытые аккредитивы.&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;Чистый долг / EBITDA&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;4&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:nullpt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;SF_1.1_V3&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Соблюдение показателя долговой нагрузки&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Превышение в отношении Клиента соотношения показателей Долг/Выручка, устанавливаемого на каждую отчетную дату (по РСБУ), уровня:&lt;br&gt;с ближайшей отчетной даты (по РСБУ), следующей за датой заключения Договора, – более 0,4 (Ноля целых четырех десятых) (включительно);&lt;br&gt;или снижение соотношения показателей Долг/Выручка до отрицательного значения.&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;Долг / Выручка&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;0,4&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:86.42857142857142pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:nullpt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;SF_1.1_V3&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Соблюдение показателя долговой нагрузки&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Превышение в отношении Клиента соотношения показателей ДÐ¾лг/Выручка, устанавливаемого на каждую отчетную дату (по РСБУ), уровня:&lt;br&gt;&lt;br&gt;с ближайшей отчетной даты (по РСБУ), следующей за датой заключения Договора, – более 0,25 (Ноля целых двадцати пяти сотых) (включительно);&lt;br&gt;&lt;br&gt;или снижение соотношения показателей Долг/Выручка до отрицательного значения.&lt;br&gt;&lt;br&gt;В расчет Долга не включаются обязательства перед следующими лицами: ШИДОВ ЗАУР МУХАМЕДОВИЧ.&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;Долг / Выручка&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;0,25&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:nullpt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;SF_1.2_V1&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Ограничение объема предъявленных исков&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Предъявление любому Участнику сделки иска(ов) и/или принятие судом к производству искового(ых) заявления(ий) об уплате денежной суммы и/или об истребовании имущества на совокупную сумму, превышающую 10 000 000 (Десять миллионов) рублей в отношении любого из указанных в настоящем пункте лиц.&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;Ограничение объема предъявленных исков&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;10 000 000&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:86.42857142857142pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;рублей&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;height:nullpt&quot;&gt;&lt;td style=&quot;width:92.14285714285712pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;SF_1.2_V2&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:230.7142857142857pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Ограничение объема предъявленных исков&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:337.85714285714283pt;white-space:nowrap;vertical-align:bottom;&quot;&gt;&lt;span style=&quot;vertical-align:baseline;&quot;&gt;Предъявление иска(ов) и/или принятие судом к производству искового(ых) заявления(ий) об уплате денежной суммы и/или об истребовании имущества:&lt;br&gt;– применительно к Клиенту в совокупном размере, превышающем 10 000 000 (Десять миллионов) рублей;&lt;br&gt;– применительно к поручителю и/или залогодателю и/или гаранту в совокупном размере, превышающем 10 000 000 (Десять миллионов) рублей.&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:271.4285714285714pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;Ограничение объема предъявленных исков&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:47.857142857142854pt;white-space:nowrap;text-align:center;vertical-align:top;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:87.85714285714285pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;10 000 000&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;width:86.42857142857142pt;white-space:nowrap;text-align:left;vertical-align:middle;&quot;&gt;&lt;span style=&quot;font-family:Var(--typo-font-family);vertical-align:baseline;&quot;&gt;рублей&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="170" y="6570" width="560" height="660" as="geometry" />
        </mxCell>
        <mxCell id="kW_1GkDuVryrUP6SlwmR-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.786;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="JJz8-9tXR7XxKiCPV7C5-8" target="JJz8-9tXR7XxKiCPV7C5-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kW_1GkDuVryrUP6SlwmR-2" value="Вы — CreditDecisionAgent, экспертная система для автоматического принятия решений по онлайн-заявкам на кредит в крупном банке. Вам нужно выполнить два этапа:&#xa;1. Подробный анализ каждого критерия (Custom Chain of Thought).&#xa;2. Вывести итоговое заключение в строгом JSON-формате (Structured Output).&#xa;&#xa;&#xa;&#xa;&#xa;###  Входные блоки (передаются как есть):&#xa;Блок 1 – АС УФА:&#xa;{ufa_block}&#xa;&#xa;&#xa;&#xa;&#xa;Блок 2 – Рейтинг:&#xa;{rating_block}&#xa;&#xa;&#xa;&#xa;&#xa;Блок 3 – ОКС:&#xa;{oks_block}&#xa;&#xa;&#xa;&#xa;&#xa;Блок 4 – Cashflow:&#xa;{cf_block}&#xa;&#xa;&#xa;&#xa;&#xa;Блок 5 – Кредитная история:&#xa;{history_block}&#xa;&#xa;&#xa;Блок 6 – АС УФА (заключение):&#xa;{ufa_block_2}&#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;&#xa;&#xa;### Описание критериев анализа:&#xa;&#xa;&#xa;&#xa;&#xa;1. **Динамика бизнеса**:&#xa;    1.1 **Выручка LTM **:&#xa;должен быть положительный рост (&gt;0) - хорошо;&#xa;допустимое снижение в пределах 10% (было 100, стало 95 или 90) - удовлетворительно;&#xa;снижение больше 10% - плохо. &#xa;Рекомендация если удовлетворительно и плохо - Необходимо оформить поручительство платежеспособного юридического лица&#xa;Обязателен при принятии решения&#xa;    1.2 **EBITDA LTM**:&#xa;должен быть положительный рост (&gt;0) и сама EBITDA LTM должна быть (&gt;0) было 100 стало 120 - хорошо;&#xa;допускается сокращение не более на 10% и сама EBITDA LTM должна быть (&gt;0), было 100 стало 90 - удовлетворительно;&#xa;снижение в пределах больше 10%  было 100 стало 89, и/или само значение отрицательное (было - 500 млн, а стало -250 млн) - плохо.&#xa;EBITDA LTM определяется по рентабельности EBITDA LTM.&#xa;Обязателен при принятии решения&#xa;    1.3 **Прирост квартальной выручки** &#xa;должен быть положительный рост (&gt;0) хотя бы в одном из друх кварталов подряд - хорошо;&#xa;сокращение в двух кварталах подряд относительно АППГ (аналогичный период  прошлого года) не более 10%, 100 стало 90 млн - удовлетворительно;&#xa;сокращение в двух кварталах  подряд более 10% относительно АППГ (аналогичный период  прошлого года) - плохо&#xa;Рекомендация если удовлетворительно и плохо - Необходимо оформить поручительство платежеспособного юридического лица&#xa;Обязателен при принятии решения&#xa;&#xa;&#xa;2. **Оборачиваемость запасов LTM (дни)**:&#xa;Соответствует или выше оборачиваемости большинства компаний данного ОКК не более 10% (было 70 стало 77) - хорошо&#xa;Выше оборачиваемости большинства компаний данного ОКК (от 10% до 20%) - удовлетворительно&#xa;Выше оборачиваемости большинства компаний данного ОКК (от 20% и более) - плохо&#xa;Обязателен при принятии решения&#xa;&#xa;&#xa;&#xa;&#xa;3. **Оборачиваемость дебиторской задолженности (ДЗ) LTM**:&#xa;Соответствует или выше оборачиваемости большинства компаний данного ОКК не более 10% (было 70 стало 77) - хорошо&#xa;Выше оборачиваемости большинства компаний данного ОКК (от 10% до 20%) - удовлетворительно&#xa;Выше оборачиваемости большинства компаний данного ОКК (от 20% и более) - плохо&#xa;Обязателен при принятии решения&#xa;&#xa;&#xa;&#xa;&#xa;4. **Оборачиваемость кредиторской задолженности (КЗ) LTM**:&#xa;Соответствует или выше оборачиваемости большинства компаний данного ОКК не более 10% (было 70 стало 77) - хорошо&#xa;Выше оборачиваемости большинства компаний данного ОКК (от 10% до 20%) - удовлетворительно&#xa;Выше оборачиваемости большинства компаний данного ОКК (от 20% и более) - плохо&#xa;Обязателен при принятии решения&#xa;&#xa;&#xa;&#xa;&#xa;5. **Уровень долговой нагрузки**:&#xa; 5.1 **ICR LTM**:&#xa;  если выше порогового значения — хорошо, если ниже порогового значения — плохо&#xa;Обязателен при принятии решения&#xa;5.2 **Долговая нагрузка**:&#xa;   - Чистый долг/EBITDA если выше порогового значения - хорошо, если соответствует диапазону показателя для данного ОКК - удовлетворительно, если ниже порогового значения для данного ОКК - плохо&#xa;Обязателен при принятии решения&#xa;   - Долг/EBITDA если выше порогового значения - хорошо, если соответствует диапазону показателя для данного ОКК - удовлетворительно, если ниже порогового значения для данного ОКК - плохо&#xa;Обязателен при принятии решения&#xa;   - Чистый долг/Выручка LTM если выше порогового значения - хорошо, если соответствует диапазону показателя для данного ОКК - удовлетворительно, если ниже порогового значения для данного ОКК - плохо&#xa;Обязателен при принятии решения&#xa;&#xa;&#xa;&#xa;&#xa;6. **Текущая ликвидность (КТЛ)**:&#xa;   - КТЛ ≥ 1.5 — хорошо  (берём только значение КТЛ),  от 1 - 1.5 - удовлетворительно, &lt; 1 — плохо&#xa;Обязателен при принятии решения&#xa;&#xa;&#xa;&#xa;&#xa;7. **Рентабельность бизнеса**:&#xa;   - Чистая прибыль &gt;= 0 - хорошо, иначе - плохо&#xa;Необязателен при принятии решения&#xa;&#xa;&#xa;8. **Доля чистых активов (ЧА)**:&#xa;   - ≥ 20% — хорошо, 0-20% - удовлетворительно, &lt; 0 - плохо&#xa;Рекомендация если удовлетворительно и плохо - Необходимо оформить поручительство платежеспособного юридического лица&#xa;Обязателен при принятии решения&#xa;&#xa;&#xa;&#xa;&#xa;9. **Рейтинг**:&#xa;   - ≤ 17 — хорошо, от 18-22 - удовлетворительно, &gt;= 23 - плохо&#xa;Рекомендация если удовлетворительно и плохо - Необходимо оформить поручительство платежеспособного юридического лица&#xa;Обязателен при принятии решения&#xa;&#xa;&#xa;&#xa;&#xa;10. **Собственный оборотный капитал (СОК)**:&#xa;    - &gt;=0 — хорошо, &lt; 0 — плохо&#xa;Рекомендация если удовлетворительно и плохо - Необходимо оформить поручительство платежеспособного юридического лица&#xa;Необязателен при принятии решения&#xa;&#xa;&#xa;&#xa;&#xa;11. **Соответствие сделки ОКС**:&#xa;    - значение “Наращивать” или “Держать” — хорошо; “Сокращать” — плохо&#xa;Обязателен при принятии решения&#xa;&#xa;&#xa;&#xa;&#xa;12. **Вывод CF‑модели**:&#xa;    - “Вывод №1” с любым уровнем риска — хорошо&#xa;    - “Вывод №2” — плохо&#xa;Обязателен при принятии решения&#xa;&#xa;&#xa;&#xa;&#xa;13. **Кредитная история**:&#xa;    - Нет просрочек ≥5 дней за последние 180 дней&#xa;    - В целом положительная&#xa;Обязателен при принятии решения&#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;&#xa;&#xa;###  Custom Chain of Thought&#xa;&#xa;&#xa;&#xa;&#xa;Для каждого критерия:&#xa;- **explanation**: «Проверяем [Название]: значение = X, порог = Y»&#xa;- **status**: «ХОРОШО», «УДОВЛЕТВОРИТЕЛЬНО» или «ПЛОХО»&#xa;- **comment**: короткое пояснение&#xa;- **has_value**: наличие значения (данных) по критерию&#xa;- **recommendation**: рекомендация если удовлетворительно и плохо&#xa;- **required**: обязательность критерия при принятии решения&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;Модель выводит промежуточные рассуждения для каждого критерия.&#xa;&#xa;&#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;&#xa;&#xa;### Агрегация решения&#xa;&#xa;&#xa;&#xa;&#xa;После анализа всех критериев:&#xa;- Если **хотя бы один** статус = «ПЛОХО» → `final_decision = &quot;ОТКАЗ&quot;`&#xa;- Если **отсутствует данные хотя бы по одному обязательному критерию**, то `final_decision = &quot;ОТКАЗ&quot;`&#xa;- Иначе → `final_decision = &quot;ОДОБРЕНО&quot;`&#xa;&#xa;&#xa;&#xa;&#xa;`final_comment`: при отказе — перечислить плохие критерии; при одобрении — общий позитивный итог.&#xa;&#xa;&#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;&#xa;&#xa;###  Выходной формат (только JSON!)&#xa;&#xa;&#xa;&#xa;&#xa;{json}" style="text;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="170" y="7410" width="560" height="3740" as="geometry" />
        </mxCell>
        <UserObject label="&lt;div class=&quot;page-metadata&quot; style=&quot;margin: -15px 0px 20px; padding: 0px; font-size: 12px; color: rgb(94, 108, 132); line-height: 1.5; font-weight: 300;&quot;&gt;&lt;ul style=&quot;margin: 0px; overflow: hidden; padding: 0px; list-style-type: none; line-height: 16px; display: inline-block; vertical-align: bottom;&quot;&gt;&lt;li class=&quot;page-metadata-modification-info&quot; style=&quot;list-style: none; float: left; padding: 0px; margin: 0px; line-height: 1.5;&quot;&gt;Создал(а)&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span class=&quot;author&quot;&gt;&lt;a href=&quot;https://confluence.delta.sbrf.ru/display/~23097935&quot; aria-label=&quot;создано Григорян Тигран Самвелович&quot; class=&quot;url fn confluence-userlink userlink-0&quot; data-username=&quot;23097935&quot; title=&quot;&quot; data-user-hover-bound=&quot;true&quot; style=&quot;color: rgb(94, 108, 132); text-decoration: none solid rgb(94, 108, 132); font-size: 12px; line-height: 1.5; font-weight: 300;&quot;&gt;Григорян Тигран Самвелович&lt;/a&gt;&lt;/span&gt;, редактировал(а)&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span class=&quot;editor&quot;&gt;&lt;a href=&quot;https://confluence.delta.sbrf.ru/display/~burnyshev-ov&quot; aria-label=&quot;модифицировано Бурнышев Олег Викторович&quot; class=&quot;url fn confluence-userlink userlink-1&quot; data-username=&quot;burnyshev-ov&quot; title=&quot;&quot; data-user-hover-bound=&quot;true&quot; style=&quot;color: rgb(94, 108, 132); text-decoration: none solid rgb(94, 108, 132); font-size: 12px; line-height: 1.5; font-weight: 300;&quot;&gt;Бурнышев Олег Викторович&lt;/a&gt;&lt;/span&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a class=&quot;last-modified&quot; aria-label=&quot;отредактировано июл. 31, 2025, выберите, чтобы просмотреть изменения&quot; title=&quot;Показать изменения&quot; href=&quot;https://confluence.delta.sbrf.ru/pages/diffpagesbyversion.action?pageId=16154497310&amp;amp;selectedPageVersions=9&amp;amp;selectedPageVersions=10&quot; style=&quot;color: rgb(94, 108, 132); text-decoration: none solid rgb(94, 108, 132); font-size: 12px; line-height: 1.5; font-weight: 300;&quot;&gt;июл. 31, 2025&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ul class=&quot;cw-bylines&quot; style=&quot;margin: 0px; display: inline-block; font-size: 12px; color: rgb(94, 108, 132); list-style-type: none; overflow: hidden; padding: 0px; line-height: 16px; vertical-align: top;&quot;&gt;&lt;li class=&quot;cw-byline-item&quot; style=&quot;display: inline-block; list-style: none; padding: 0px 5px 0px 0px; margin: 0px; line-height: 1.5; float: left;&quot;&gt;&lt;div id=&quot;cw-approval-byline&quot; class=&quot;cw-approval-byline&quot; style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: -5px !important; padding: 0px;&quot;&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;cw-byline-item&quot; style=&quot;display: inline-block; list-style: none; padding: 0px 5px 0px 0px; margin: 0px; line-height: 1.5; float: left;&quot;&gt;&lt;div id=&quot;cw-state-byline&quot; class=&quot;cw-state-byline&quot; style=&quot;margin: 0px; padding: 0px; color: rgb(204, 204, 204);&quot;&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;cw-byline-item&quot; style=&quot;display: inline-block; list-style: none; padding: 0px 5px 0px 0px; margin: 0px; line-height: 1.5; float: left;&quot;&gt;&lt;div id=&quot;cw-tasks-byline&quot; class=&quot;cw-tasks-byline&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;cw-byline-item&quot; style=&quot;display: inline-block; list-style: none; padding: 0px 5px 0px 0px; margin: 0px; line-height: 1.5; float: left;&quot;&gt;&lt;div id=&quot;cw-state-alternate&quot; class=&quot;cw-state-alternate&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div id=&quot;rioja-page-message&quot; style=&quot;margin: 0px 0px 20px; padding: 0px;&quot;&gt;&lt;/div&gt;&lt;div id=&quot;main-content&quot; class=&quot;wiki-content&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;h3 id=&quot;id-1Динамикабизнеса-Описание:&quot; style=&quot;margin: 0px; padding: 0px; font-size: 16px; font-weight: bold; line-height: 1.5; letter-spacing: -0.006em; text-transform: none; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: start; text-indent: 0px; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;strong&gt;Описание:&lt;/strong&gt;&lt;/h3&gt;Показатель указывает&amp;nbsp; на наличие изменений в объемах доходов и расходов в ретро-периоде.&amp;nbsp;&lt;br&gt;Применяется 3 показателя:&lt;br&gt;1. Динамика выручки LTM к аналогичной дате прошлого года. Например производится сравнение Выручки LTM на 01.04.2025 к этому же показателю на 01.04.2024.&lt;br&gt;2. Динамика квартальных показателей Выручки: 1.&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span class=&quot;inline-comment-marker valid&quot; data-ref=&quot;e6c93a3e-9b7f-4526-b44a-1f70188a95b0&quot; style=&quot;background-color: rgba(246, 195, 66, 0.3);&quot;&gt;Если отрасль относится к несезонной&lt;/span&gt;, то сравнение производится анализируемого квартала к предыдущему (например 2 кв. 2025 к 1 кв.2025); 2. Если в деятельности присутствует сезонность, то сравниваются сопоставимые периоды к прошлому году (например 2 кв. 2025 ко 2 кв. 2024)&lt;br&gt;3. Динамика EBITDA LTM к аналогичной дате прошлого года. Например производится сравнение EBITDA LTM на 01.04.2025 к этому же показателю на 01.04.2024.&lt;br&gt;&lt;strong&gt;EBITDA&lt;/strong&gt;&lt;span style=&quot;color: rgb(64, 64, 64);&quot;&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;(Earnings Before Interest, Taxes, Depreciation and Amortization) — прибыль до вычета процентов, налогов и амортизации. Показывает&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;операционную рентабельность&lt;span style=&quot;color: rgb(64, 64, 64);&quot;&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;без учёта структуры капитала и налогов.&lt;/span&gt;&lt;h3 class=&quot;p1&quot; id=&quot;id-1Динамикабизнеса-Условияприменимости:&quot; style=&quot;margin: 30px 0px 0px; padding: 0px; font-size: 16px; font-weight: bold; line-height: 1.5; letter-spacing: -0.006em; text-transform: none; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: start; text-indent: 0px; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;strong&gt;&lt;span class=&quot;inline-comment-marker valid&quot; data-ref=&quot;14b41cde-b1af-41ab-9a6e-298669a07f14&quot; style=&quot;background-color: rgba(246, 195, 66, 0.3);&quot;&gt;Условия применимости:&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p style=&quot;margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;Оцениваются все показатели по всем клиентам.&lt;/p&gt;&lt;p style=&quot;margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;strong style=&quot;font-size: 16px; letter-spacing: -0.006em;&quot;&gt;Возможные значения:&lt;span class=&quot;apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;Положительным моментом является одновременный рост Выручки и EBITDA.&lt;/p&gt;&lt;p style=&quot;margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;Удовлетворительным индикатором является:&lt;/p&gt;&lt;ul style=&quot;margin: 10px 0px 0px; list-style-type: square; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;li&gt;сокращение выручки на 10% при сохранении либо увеличении EBITDA.&lt;/li&gt;&lt;/ul&gt;&lt;ul style=&quot;margin: 10px 0px 0px; list-style-type: square; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;li class=&quot;ds-markdown-paragraph&quot;&gt;сокращение EBITDA показателя до 10%.&lt;/li&gt;&lt;/ul&gt;&lt;h3 class=&quot;p1&quot; id=&quot;id-1Динамикабизнеса-Рекомендацииприудовлетворительномзначениисигнала:&quot; style=&quot;margin: 30px 0px 0px; padding: 0px; font-size: 16px; font-weight: bold; line-height: 1.5; letter-spacing: -0.006em; text-transform: none; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: start; text-indent: 0px; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;strong&gt;Рекомендации при удовлетворительном значении сигнала:&lt;/strong&gt;&lt;/h3&gt;Рекомендуется построение модели движения денежных средств для оценки влияния сокращения поступлений на возвратность кредита.&lt;h3 class=&quot;p1&quot; id=&quot;id-1Динамикабизнеса-Рекомендацииприотрицательномзначениисигнала:&quot; style=&quot;margin: 30px 0px 0px; padding: 0px; font-size: 16px; font-weight: bold; line-height: 1.5; letter-spacing: -0.006em; text-transform: none; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: start; text-indent: 0px; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;strong&gt;Рекомендации при отрицательном&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;значении&amp;nbsp;&lt;/strong&gt;&lt;strong&gt;сигнала:&lt;/strong&gt;&lt;/h3&gt;&lt;p style=&quot;margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;Поскольку бизнес клиента сокращается, то важно проверить как отрицательная динамика повлияет на возвратность кредита. Для этого необходимо построить CF модель и проверить как погашение кредита может повлиять на остаток денежных средств либо возникновение балансирующего кредита. Балансирующий кредит - это вынужденное привлечение кредитных средств для закрытия сформированных остатков денежных средств. Отрицательным фактором будет выступать наращивание потребности в балансирующем кредите. Также рекомендуется в качестве минимизации риска отрицательной динамики бизнеса оформить поручительство юридического лица, которое будет способно погашать как собственные обязательства, так и обязательства по договору поручительства.&lt;/p&gt;&lt;br class=&quot;Apple-interchange-newline&quot;&gt;&lt;/div&gt;" link="&lt;div class=&quot;page-metadata&quot; style=&quot;margin: -15px 0px 20px; padding: 0px; font-size: 12px; color: rgb(94, 108, 132); line-height: 1.5; font-weight: 300;&quot;&gt;&lt;ul style=&quot;margin: 0px; overflow: hidden; padding: 0px; list-style-type: none; line-height: 16px; display: inline-block; vertical-align: bottom;&quot;&gt;&lt;li class=&quot;page-metadata-modification-info&quot; style=&quot;list-style: none; float: left; padding: 0px; margin: 0px; line-height: 1.5;&quot;&gt;Создал(а)&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span class=&quot;author&quot;&gt;&lt;a href=&quot;https://confluence.delta.sbrf.ru/display/~23097935&quot; aria-label=&quot;создано Григорян Тигран Самвелович&quot; class=&quot;url fn confluence-userlink userlink-0&quot; data-username=&quot;23097935&quot; title=&quot;&quot; data-user-hover-bound=&quot;true&quot; style=&quot;color: rgb(94, 108, 132); text-decoration: none solid rgb(94, 108, 132); font-size: 12px; line-height: 1.5; font-weight: 300;&quot;&gt;Григорян Тигран Самвелович&lt;/a&gt;&lt;/span&gt;, редактировал(а)&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span class=&quot;editor&quot;&gt;&lt;a href=&quot;https://confluence.delta.sbrf.ru/display/~burnyshev-ov&quot; aria-label=&quot;модифицировано Бурнышев Олег Викторович&quot; class=&quot;url fn confluence-userlink userlink-1&quot; data-username=&quot;burnyshev-ov&quot; title=&quot;&quot; data-user-hover-bound=&quot;true&quot; style=&quot;color: rgb(94, 108, 132); text-decoration: none solid rgb(94, 108, 132); font-size: 12px; line-height: 1.5; font-weight: 300;&quot;&gt;Бурнышев Олег Викторович&lt;/a&gt;&lt;/span&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;a class=&quot;last-modified&quot; aria-label=&quot;отредактировано июл. 31, 2025, выберите, чтобы просмотреть изменения&quot; title=&quot;Показать изменения&quot; href=&quot;https://confluence.delta.sbrf.ru/pages/diffpagesbyversion.action?pageId=16154497310&amp;amp;selectedPageVersions=9&amp;amp;selectedPageVersions=10&quot; style=&quot;color: rgb(94, 108, 132); text-decoration: none solid rgb(94, 108, 132); font-size: 12px; line-height: 1.5; font-weight: 300;&quot;&gt;июл. 31, 2025&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ul class=&quot;cw-bylines&quot; style=&quot;margin: 0px; display: inline-block; font-size: 12px; color: rgb(94, 108, 132); list-style-type: none; overflow: hidden; padding: 0px; line-height: 16px; vertical-align: top;&quot;&gt;&lt;li class=&quot;cw-byline-item&quot; style=&quot;display: inline-block; list-style: none; padding: 0px 5px 0px 0px; margin: 0px; line-height: 1.5; float: left;&quot;&gt;&lt;div id=&quot;cw-approval-byline&quot; class=&quot;cw-approval-byline&quot; style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: -5px !important; padding: 0px;&quot;&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;cw-byline-item&quot; style=&quot;display: inline-block; list-style: none; padding: 0px 5px 0px 0px; margin: 0px; line-height: 1.5; float: left;&quot;&gt;&lt;div id=&quot;cw-state-byline&quot; class=&quot;cw-state-byline&quot; style=&quot;margin: 0px; padding: 0px; color: rgb(204, 204, 204);&quot;&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;cw-byline-item&quot; style=&quot;display: inline-block; list-style: none; padding: 0px 5px 0px 0px; margin: 0px; line-height: 1.5; float: left;&quot;&gt;&lt;div id=&quot;cw-tasks-byline&quot; class=&quot;cw-tasks-byline&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;cw-byline-item&quot; style=&quot;display: inline-block; list-style: none; padding: 0px 5px 0px 0px; margin: 0px; line-height: 1.5; float: left;&quot;&gt;&lt;div id=&quot;cw-state-alternate&quot; class=&quot;cw-state-alternate&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div id=&quot;rioja-page-message&quot; style=&quot;margin: 0px 0px 20px; padding: 0px;&quot;&gt;&lt;/div&gt;&lt;div id=&quot;main-content&quot; class=&quot;wiki-content&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;h3 id=&quot;id-1Динамикабизнеса-Описание:&quot; style=&quot;margin: 0px; padding: 0px; font-size: 16px; font-weight: bold; line-height: 1.5; letter-spacing: -0.006em; text-transform: none; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: start; text-indent: 0px; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;strong&gt;Описание:&lt;/strong&gt;&lt;/h3&gt;Показатель указывает&amp;nbsp; на наличие изменений в объемах доходов и расходов в ретро-периоде.&amp;nbsp;&lt;br&gt;Применяется 3 показателя:&lt;br&gt;1. Динамика выручки LTM к аналогичной дате прошлого года. Например производится сравнение Выручки LTM на 01.04.2025 к этому же показателю на 01.04.2024.&lt;br&gt;2. Динамика квартальных показателей Выручки: 1.&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span class=&quot;inline-comment-marker valid&quot; data-ref=&quot;e6c93a3e-9b7f-4526-b44a-1f70188a95b0&quot; style=&quot;background-color: rgba(246, 195, 66, 0.3);&quot;&gt;Если отрасль относится к несезонной&lt;/span&gt;, то сравнение производится анализируемого квартала к предыдущему (например 2 кв. 2025 к 1 кв.2025); 2. Если в деятельности присутствует сезонность, то сравниваются сопоставимые периоды к прошлому году (например 2 кв. 2025 ко 2 кв. 2024)&lt;br&gt;3. Динамика EBITDA LTM к аналогичной дате прошлого года. Например производится сравнение EBITDA LTM на 01.04.2025 к этому же показателю на 01.04.2024.&lt;br&gt;&lt;strong&gt;EBITDA&lt;/strong&gt;&lt;span style=&quot;color: rgb(64, 64, 64);&quot;&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;(Earnings Before Interest, Taxes, Depreciation and Amortization) — прибыль до вычета процентов, налогов и амортизации. Показывает&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;операционную рентабельность&lt;span style=&quot;color: rgb(64, 64, 64);&quot;&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;без учёта структуры капитала и налогов.&lt;/span&gt;&lt;h3 class=&quot;p1&quot; id=&quot;id-1Динамикабизнеса-Условияприменимости:&quot; style=&quot;margin: 30px 0px 0px; padding: 0px; font-size: 16px; font-weight: bold; line-height: 1.5; letter-spacing: -0.006em; text-transform: none; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: start; text-indent: 0px; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;strong&gt;&lt;span class=&quot;inline-comment-marker valid&quot; data-ref=&quot;14b41cde-b1af-41ab-9a6e-298669a07f14&quot; style=&quot;background-color: rgba(246, 195, 66, 0.3);&quot;&gt;Условия применимости:&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p style=&quot;margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;Оцениваются все показатели по всем клиентам.&lt;/p&gt;&lt;p style=&quot;margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;strong style=&quot;font-size: 16px; letter-spacing: -0.006em;&quot;&gt;Возможные значения:&lt;span class=&quot;apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;Положительным моментом является одновременный рост Выручки и EBITDA.&lt;/p&gt;&lt;p style=&quot;margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;Удовлетворительным индикатором является:&lt;/p&gt;&lt;ul style=&quot;margin: 10px 0px 0px; list-style-type: square; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;li&gt;сокращение выручки на 10% при сохранении либо увеличении EBITDA.&lt;/li&gt;&lt;/ul&gt;&lt;ul style=&quot;margin: 10px 0px 0px; list-style-type: square; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;li class=&quot;ds-markdown-paragraph&quot;&gt;сокращение EBITDA показателя до 10%.&lt;/li&gt;&lt;/ul&gt;&lt;h3 class=&quot;p1&quot; id=&quot;id-1Динамикабизнеса-Рекомендацииприудовлетворительномзначениисигнала:&quot; style=&quot;margin: 30px 0px 0px; padding: 0px; font-size: 16px; font-weight: bold; line-height: 1.5; letter-spacing: -0.006em; text-transform: none; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: start; text-indent: 0px; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;strong&gt;Рекомендации при удовлетворительном значении сигнала:&lt;/strong&gt;&lt;/h3&gt;Рекомендуется построение модели движения денежных средств для оценки влияния сокращения поступлений на возвратность кредита.&lt;h3 class=&quot;p1&quot; id=&quot;id-1Динамикабизнеса-Рекомендацииприотрицательномзначениисигнала:&quot; style=&quot;margin: 30px 0px 0px; padding: 0px; font-size: 16px; font-weight: bold; line-height: 1.5; letter-spacing: -0.006em; text-transform: none; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: start; text-indent: 0px; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;strong&gt;Рекомендации при отрицательном&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;значении&amp;nbsp;&lt;/strong&gt;&lt;strong&gt;сигнала:&lt;/strong&gt;&lt;/h3&gt;&lt;p style=&quot;margin: 10px 0px 0px; padding: 0px; color: rgb(23, 43, 77); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;Поскольку бизнес клиента сокращается, то важно проверить как отрицательная динамика повлияет на возвратность кредита. Для этого необходимо построить CF модель и проверить как погашение кредита может повлиять на остаток денежных средств либо возникновение балансирующего кредита. Балансирующий кредит - это вынужденное привлечение кредитных средств для закрытия сформированных остатков денежных средств. Отрицательным фактором будет выступать наращивание потребности в балансирующем кредите. Также рекомендуется в качестве минимизации риска отрицательной динамики бизнеса оформить поручительство юридического лица, которое будет способно погашать как собственные обязательства, так и обязательства по договору поручительства.&lt;/p&gt;&lt;br class=&quot;Apple-interchange-newline&quot;&gt;&lt;/div&gt;" id="kW_1GkDuVryrUP6SlwmR-3">
          <mxCell style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
            <mxGeometry x="910" y="7300" width="560" height="890" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="655VygiofIzxvnDOd8sb-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="655VygiofIzxvnDOd8sb-1" target="kW_1GkDuVryrUP6SlwmR-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="655VygiofIzxvnDOd8sb-1" value="Вы — CreditDecisionAgent, экспертная система для автоматического принятия решений по онлайн-заявкам на кредит в крупном банке.  &#xa;Ваша задача: провести детальный анализ каждого критерия, используя актуальные методологические требования, и выдать итоговое решение в строгом JSON-формате.&#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 1. Input Data&#xa;&#xa;&#xa;Блок 1 – АС УФА: &lt;данные&gt;  &#xa;Блок 2 – Рейтинг: &lt;данные&gt;  &#xa;Блок 3 – ОКС: &lt;данные&gt;  &#xa;Блок 4 – Cashflow: &lt;данные&gt;  &#xa;Блок 5 – Кредитная история: &lt;данные&gt;  &#xa;Блок 6 – АС УФА (заключение): &lt;данные&gt;  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 2. Criteria Definitions&#xa;&#xa;&#xa;&#xa;&#xa;{{criteria_definitions}}&#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 3. Core Logic&#xa;**Custom Chain of Thought:**&#xa;Для каждого критерия:&#xa;- explanation: «Проверяем [Название]: значение = X, порог = Y»&#xa;- status: «ХОРОШО», «УДОВЛЕТВОРИТЕЛЬНО» или «ПЛОХО»&#xa;- comment: пояснение  &#xa;- has_value: true/false  &#xa;- recommendation: рекомендации  &#xa;- required: true/false  &#xa;&#xa;&#xa;**Aggregation Rules:**&#xa;- Если любой обязательный критерий = «ПЛОХО» → `final_decision = &quot;ОТКАЗ&quot;`&#xa;- Если нет данных по обязательному критерию → `final_decision = &quot;ОТКАЗ&quot;`&#xa;- Если УФА = «Удовлетворительное» или «Неудовлетворительное» → `final_decision = &quot;ОТКАЗ&quot;`&#xa;- Если Рейтинг ≥ 25, ОКС = «Сокращать» или CF = «Вывод №2» → `final_decision = &quot;ОТКАЗ&quot;`&#xa;- Иначе → `final_decision = &quot;ОДОБРЕНО&quot;`&#xa;&#xa;&#xa;**Output Format (only JSON):**&#xa;```json&#xa;{&#xa;  &quot;criteria&quot;: [&#xa;    {&quot;name&quot;: &quot;...&quot;, &quot;value&quot;: &quot;...&quot;, &quot;status&quot;: &quot;ХОРОШО/УДОВЛЕТВОРИТЕЛЬНО/ПЛОХО&quot;, &quot;comment&quot;: &quot;...&quot;, &quot;recommendation&quot;: &quot;...&quot;, &quot;required&quot;: true/false, &quot;has_value&quot;: true/false}&#xa;  ],&#xa;  &quot;final_decision&quot;: &quot;ОДОБРЕНО/ОТКАЗ&quot;,&#xa;  &quot;final_comment&quot;: &quot;...&quot;&#xa;}&#xa;&#xa;&#xa;&#xa;&#xa;{{criteria_definitions}}&#xa;## Описание критериев анализа (актуализировано с учётом обязательности и взаимосвязей)&#xa;&#xa;&#xa;### 1. Динамика бизнеса *(required = true)*&#xa;**Описание:**  &#xa;Показатель отражает изменения в объёмах доходов и расходов компании в ретроспективе. Оценка ведётся по трём подпоказателям:  &#xa;1.1 **Выручка LTM** — сравнение к аналогичной дате прошлого года:  &#xa;- Рост &gt; 0% — **ХОРОШО**  &#xa;- Снижение ≤ 10% при росте или сохранении EBITDA — **УДОВЛЕТВОРИТЕЛЬНО**  &#xa;- Снижение &gt; 10% или при падении EBITDA — **ПЛОХО**  &#xa;&#xa;&#xa;1.2 **EBITDA LTM** — сравнение к аналогичной дате прошлого года:  &#xa;- Рост &gt; 0% и EBITDA &gt; 0 — **ХОРОШО**  &#xa;- Снижение ≤ 10% и EBITDA &gt; 0 — **УДОВЛЕТВОРИТЕЛЬНО**  &#xa;- Снижение &gt; 10% и/или EBITDA ≤ 0 — **ПЛОХО**  &#xa;&#xa;&#xa;1.3 **Прирост квартальной выручки** — метод зависит от сезонности:  &#xa;- Рост хотя бы в одном из 2 кварталов подряд — **ХОРОШО**  &#xa;- Снижение ≤ 10% в двух кварталах подряд — **УДОВЛЕТВОРИТЕЛЬНО**  &#xa;- Снижение &gt; 10% в двух кварталах подряд — **ПЛОХО**  &#xa;&#xa;&#xa;**Взаимосвязи:**  &#xa;- При «УДОВЛЕТВОРИТЕЛЬНО» или «ПЛОХО» требуется построение CF-модели (критерий 13).  &#xa;- Отрицательная динамика в сочетании с низким КТЛ или высоким долгом усиливает риск.  &#xa;&#xa;&#xa;**Рекомендации:**  &#xa;- УДОВЛЕТВОРИТЕЛЬНО — построить модель ДДС для оценки влияния сокращения поступлений на возвратность кредита  &#xa;- ПЛОХО — построить CF-модель, проверить балансирующий кредит, оформить поручительство платёжеспособного юр. лица  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 2. Оборачиваемость запасов LTM (дни) *(required = true)*&#xa;**Описание:**  &#xa;Отражает период обновления запасов. Сравнивается со среднеотраслевым показателем по ОКК.  &#xa;- Превышение ≤ 10% — **ХОРОШО**  &#xa;- Превышение &gt; 10% и ≤ 20% — **УДОВЛЕТВОРИТЕЛЬНО** (получить пояснения, подтвердить отсутствие неликвидов)  &#xa;- Превышение &gt; 20% — **ПЛОХО** (проверка запасов, поручительство, залог)  &#xa;&#xa;&#xa;**Взаимосвязи:**  &#xa;- Высокое отклонение при низком КТЛ усиливает риск.  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 3. Оборачиваемость дебиторской задолженности LTM *(required = true)*&#xa;**Описание:**  &#xa;Отражает скорость получения оплаты. Сравнивается со среднеотраслевым по ОКК.  &#xa;- Превышение ≤ 10% — **ХОРОШО**  &#xa;- Превышение &gt; 10% и ≤ 20% — **УДОВЛЕТВОРИТЕЛЬНО** (пояснения, отсутствие просрочки)  &#xa;- Превышение &gt; 20% — **ПЛОХО** (пояснения, проверка долгов &gt;5% без движения &gt; квартал, поручительство)  &#xa;&#xa;&#xa;**Взаимосвязи:**  &#xa;- Высокая ДЗ при низком КТЛ усиливает риск ликвидности.  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 4. Оборачиваемость кредиторской задолженности LTM *(required = true)*&#xa;**Описание:**  &#xa;Показывает сроки оплаты поставщикам.  &#xa;- Отклонение ≤ 10% — **ХОРОШО**  &#xa;- Отклонение &gt; 10% и ≤ 20% — **УДОВЛЕТВОРИТЕЛЬНО** (пояснения)  &#xa;- Отклонение &gt; 20% — **ПЛОХО** (пояснения, соглашения о статусе долга, поручительство/субординация)  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 5. ICR LTM *(required = true)*&#xa;**Описание:**  &#xa;Коэффициент покрытия процентов.  &#xa;- &gt; 1.5 — **ХОРОШО**  &#xa;- &gt; 1.0 и ≤ 1.5 — **УДОВЛЕТВОРИТЕЛЬНО** (поручительство)  &#xa;- ≤ 1.0 — **ПЛОХО** (доп. источники, поручительство)  &#xa;&#xa;&#xa;**Взаимосвязи:**  &#xa;- Низкий ICR при высокой долговой нагрузке усиливает риск.  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 6. Долговая нагрузка *(required = true)*&#xa;**Описание:**  &#xa;Оценивается по Чистый долг/EBITDA и Чистый долг/Выручка LTM.  &#xa;- Ниже порогового значения ОКС — **ХОРОШО**  &#xa;- В пределах допустимого диапазона — **УДОВЛЕТВОРИТЕЛЬНО** (субординация обязательств)  &#xa;- Выше верхнего порога или отрицательная EBITDA — **ПЛОХО** (субординация, доп. доходность, поручительство)  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 7. Текущая ликвидность (КТЛ) *(required = true)*&#xa;**Описание:**  &#xa;- ≥ 1.5 — **ХОРОШО**  &#xa;- ≥ 1.0 и &lt; 1.5 — **УДОВЛЕТВОРИТЕЛЬНО** (субординация займов связанных компаний)  &#xa;- &lt; 1.0 — **ПЛОХО** (субординация, поручительство, залог)  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 8. Рентабельность бизнеса *(required = false)*&#xa;- ≥ 0 — **ХОРОШО**  &#xa;- &lt; 0 — **ПЛОХО** (CF-модель)  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 9. Доля чистых активов (ЧА) *(required = true)*&#xa;- ≥ 20% — **ХОРОШО**  &#xa;- &gt; 0% и &lt; 20% — **УДОВЛЕТВОРИТЕЛЬНО** (ограничение долга и долг/EBITDA)  &#xa;- ≤ 0% — **ПЛОХО** (отказ)  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 10. Рейтинг *(required = true)*&#xa;- 1–17 — **ХОРОШО**  &#xa;- 18–22 — **УДОВЛЕТВОРИТЕЛЬНО** (доп. залог ≥ 60% суммы кредита, доп. доходность)  &#xa;- 23–24 — **ПЛОХО** (залог ≥ 100%, поручительство, доп. доходность)  &#xa;- 25–26 — **ПЛОХО** (отказ)  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 11. Собственный оборотный капитал (СОК) *(required = false)*&#xa;- ≥ 0 — **ХОРОШО**  &#xa;- &lt; 0 — **ПЛОХО** (субординация займов, поручительство)  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 12. Соответствие сделки ОКС *(required = true)*&#xa;- «Наращивать» или «Держать» — **ХОРОШО**  &#xa;- «Сокращать» — **ПЛОХО** (изменение структуры сделки, повторная оценка)  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 13. Вывод CF-модели *(required = true)*&#xa;- «Вывод №1» — **ХОРОШО**  &#xa;- «Вывод №2» — **ПЛОХО** (уменьшить сумму, скорректировать срок/график, поручительство)  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 14. Кредитная история *(required = true)*&#xa;- Нет просрочек ≥ 5 дней за последние 180 дней — **ХОРОШО**  &#xa;- 1 просрочка ≤ 5 дней — **УДОВЛЕТВОРИТЕЛЬНО**  &#xa;- ≥ 2 просрочек и/или любая &gt; 5 дней — **ПЛОХО** (поручительство, CF-модель с сезонностью)  &#xa;&#xa;&#xa;---&#xa;&#xa;&#xa;### 15. УФА (автовывод) *(required = true)*&#xa;- «Хорошее» — **ХОРОШО**  &#xa;- «Удовлетворительное» — **ПЛОХО** (решение не принимается, нужны меры)  &#xa;- «Неудовлетворительное» — **ПЛОХО** (автоотказ)  &#xa;&#xa;&#xa;---" style="text;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="900" y="8220" width="560" height="3820" as="geometry" />
        </mxCell>
        <UserObject label="&lt;!DOCTYPE html&gt;&#xa;&lt;html lang=&quot;ru&quot;&gt;&#xa;&lt;head&gt;&#xa;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#xa;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#xa;    &lt;title&gt;Интерфейс для работы с LangFlow API&lt;/title&gt;&#xa;    &lt;style&gt;&#xa;        body {&#xa;            font-family: Arial, sans-serif;&#xa;            background-color: #f4f7fa;&#xa;            margin: 0;&#xa;            padding: 20px;&#xa;            color: #333;&#xa;        }&#xa;        .container {&#xa;            max-width: 800px;&#xa;            margin: 0 auto;&#xa;            background-color: #fff;&#xa;            padding: 30px;&#xa;            border-radius: 10px;&#xa;            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);&#xa;        }&#xa;        h1 {&#xa;            text-align: center;&#xa;            color: #2c3e50;&#xa;            margin-bottom: 30px;&#xa;        }&#xa;        label {&#xa;            display: block;&#xa;            font-weight: bold;&#xa;            margin-bottom: 8px;&#xa;            color: #34495e;&#xa;        }&#xa;        input[type=&quot;text&quot;],&#xa;        textarea {&#xa;            width: 100%;&#xa;            padding: 10px;&#xa;            margin-bottom: 20px;&#xa;            border: 1px solid #ddd;&#xa;            border-radius: 5px;&#xa;            font-size: 14px;&#xa;            box-sizing: border-box;&#xa;            transition: border-color 0.3s;&#xa;        }&#xa;        input[type=&quot;text&quot;]:focus,&#xa;        textarea:focus {&#xa;            border-color: #3498db;&#xa;            outline: none;&#xa;        }&#xa;        textarea {&#xa;            height: 150px;&#xa;            resize: vertical;&#xa;        }&#xa;        .tall-textarea {&#xa;            height: 300px;&#xa;        }&#xa;        button {&#xa;            display: block;&#xa;            width: 100%;&#xa;            padding: 12px;&#xa;            background-color: #3498db;&#xa;            color: #fff;&#xa;            border: none;&#xa;            border-radius: 5px;&#xa;            font-size: 16px;&#xa;            cursor: pointer;&#xa;            transition: background-color 0.3s;&#xa;        }&#xa;        button:hover {&#xa;            background-color: #2980b9;&#xa;        }&#xa;        #response {&#xa;            margin-top: 30px;&#xa;            padding: 15px;&#xa;            background-color: #ecf0f1;&#xa;            border-radius: 5px;&#xa;            white-space: pre-wrap;&#xa;            font-family: monospace;&#xa;            max-height: 400px;&#xa;            overflow-y: auto;&#xa;            border: 1px solid #ddd;&#xa;        }&#xa;        .loading {&#xa;            text-align: center;&#xa;            margin-top: 20px;&#xa;            font-style: italic;&#xa;            color: #7f8c8d;&#xa;        }&#xa;    &lt;/style&gt;&#xa;&lt;/head&gt;&#xa;&lt;body&gt;&#xa;    &lt;div class=&quot;container&quot;&gt;&#xa;        &lt;h1&gt;Интерфейс для работы с LangFlow API&lt;/h1&gt;&#xa;        &lt;form id=&quot;apiForm&quot;&gt;&#xa;            &lt;label for=&quot;token&quot;&gt;API Token (Bearer):&lt;/label&gt;&#xa;            &lt;input type=&quot;text&quot; id=&quot;token&quot; placeholder=&quot;Введите ваш токен&quot; required&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;criteria_desc_text&quot;&gt;Описание критериев в текстовом виде (TextInput-UCeoq):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;criteria_desc_text&quot; class=&quot;tall-textarea&quot;&gt;## 1. Динамика бизнеса\nОписание:\nПоказатель указывает на наличие изменений в объемах доходов и расходов в ретро-периоде. \n\nПрименяется 3 показателя:\n\n1. Динамика выручки LTM к аналогичной дате прошлого года. Например производится сравнение Выручки LTM на 01.04.2025 к этому же показателю на 01.04.2024.\n\n2. Динамика квартальных показателей Выручки: 1. Если отрасль относится к несезонной, то сравнение производится анализируемого квартала к предыдущему (например 2 кв. 2025 к 1 кв.2025); 2. Если в деятельности присутствует сезонность, то сравниваются сопоставимые периоды к прошлому году (например 2 кв. 2025 ко 2 кв. 2024)\n\n3. Динамика EBITDA LTM к аналогичной дате прошлого года. Например производится сравнение EBITDA LTM на 01.04.2025 к этому же показателю на 01.04.2024.\n\nEBITDA (Earnings Before Interest, Taxes, Depreciation and Amortization) — прибыль до вычета процентов, налогов и амортизации. Показывает операционную рентабельность без учёта структуры капитала и налогов.\n\nУсловия применимости:\nОцениваются все показатели по всем клиентам.\n\nВозможные значения: \n\nПоложительным моментом является одновременный рост Выручки и EBITDA.\n\nУдовлетворительным индикатором является:\n\nсокращение выручки на 10% при сохранении либо увеличении EBITDA.\nсокращение EBITDA показателя до 10%.\nРекомендации при удовлетворительном значении сигнала:\nРекомендуется построение модели движения денежных средств для оценки влияния сокращения поступлений на возвратность кредита.\n\nРекомендации при отрицательном значении сигнала:\nПоскольку бизнес клиента сокращается, то важно проверить как отрицательная динамика повлияет на возвратность кредита. Для этого необходимо построить CF модель и проверить как погашение кредита может повлиять на остаток денежных средств либо возникновение балансирующего кредита. Балансирующий кредит - это вынужденное привлечение кредитных средств для закрытия сформированных остатков денежных средств. Отрицательным фактором будет выступать наращивание потребности в балансирующем кредите. Также рекомендуется в качестве минимизации риска отрицательной динамики бизнеса оформить поручительство юридического лица, которое будет способно погашать как собственные обязательства, так и обязательства по договору поручительства.\n\n## 2. Оборачиваемость запасов LTM (дни)\nОписание:\nПериод оборота запасов (Inventory Turnover Period) — это финансовый показатель, который показывает, за сколько дней компания полностью обновляет свои запасы (продаёт или использует в производстве).\n\nОценивается значение показателя оборачиваемости запасов и сравнение его со среднеотраслевыми значениями. Значения выше среднеотраслевых показателей могут свидетельствовать о наличии неликвидных запасов, а также о манипуляции с финансовой отчетностью.\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nПоказатель сравнивается со среднеотраслевыми показателями, характерными для данного ОКК.\n\nОКК - отраслевой классификатор клиента, который отражает преобладающее направление хозяйственной деятельности клиента. Показатель определяется Клиентским менеджером, закрепленным за клиентом.\n\nДопустимое значение - превышение периода оборота над среднеотраслевым значением не более чем на 10%.\n\nРекомендации при удовлетворительном значении сигнала:\nОтклонение более 10%, но менее 20% является основанием для получения пояснений от клиента о причинах такого отклонения, отсутствии неликвидных остатков ТМЦ.\n\nРекомендации при отрицательном значении сигнала:\nПревышение показателя над среднеотраслевыми значениями более чем на 10% может свидетельствовать о затоваренности, наличии неликвидных остатков запасов, неэффективном управлении запасами. Данный факт может стать сигналом для возникновения проблем с обслуживанием долга в будущем. Предоставление клиенту кредитных продуктов возможно после выездной выборочной проверки запасов, подтверждения отсутствия неликвидных запасов, а также при условии оформления поручительства платежеспособного юридического лица, ликвидного залога.\n\n## 3 Оборачиваемость дебиторской задолженности (ДЗ) LTM\n\nОписание:\nПериод оборота дебиторской задолженности (англ. Days Sales Outstanding, DSO) — это финансовый показатель, который отражает среднее количество дней, необходимое компании для получения оплаты от покупателей после продажи товаров или услуг.\n\nОценивается значение показателя оборачиваемости дебиторской задолженности (или ДЗ) и сравнение его со среднеотраслевыми значениями. Значения выше среднеотраслевых показателей могут свидетельствовать о неликвидной задолженности, выводе капитала, а также о манипуляции с финансовой отчетностью.\n\nУсловия применимости: \n\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nДопускается отклонение от среднеотраслевого значения не более чем на 10%, а свыше 20% по контрагенту может быть зафиксировано событие проблемности. Оценка по среднеотраслевому признаку производится по ОКК. \n\nРекомендации при удовлетворительном значении сигнала:\nОтклонение более 10%, но менее 20% является основанием для получения пояснений от клиента о причинах такого отклонения, отсутствии просроченной задолженности. \n\nРекомендации при отрицательном значении сигнала:\nПревышение над среднеотраслевым значением может свидетельствовать о проблемах с возвратом ДЗ, наличии просроченной ДЗ. Требуется пояснение от клиента по суммам свыше 5% от совокупной ДЗ, по которой нет движения в течение более 1 квартала. Кредитование такого клиента может быть сопряжено с повышенным риском, рекомендуется оформление поручительства платежеспособных юридических лиц.\n\n\n## 4 Оборачиваемость кредиторской задолженности (КЗ) LTM\n\nОписание:\nПериод оборота кредиторской задолженности (англ. Days Payable Outstanding, DPO) — это финансовый показатель, который показывает среднее количество дней, за которое компания оплачивает свои счета поставщикам.\n\nЗначения выше среднеотраслевых показателей могут свидетельствовать о наличии проблем с платежами поставщикам, персоналом, налоговой службой\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nПериод оборота меньше или выше чем у большинства компаний данного ОКК не более 10% - является положительным показателем для банка.\n\nУдовлетворительное значение - отклонение в большую сторону на 10%, но менее чем на 20%.\n\nНегативным критерием является просроченная задолженность перед персоналом, мировым соглашениям.\n\nРекомендации при удовлетворительном значении сигнала:\nОтклонение более 10%, но менее 20% является основанием для получения пояснений от клиента о причинах такого отклонения, отсутствии просроченной задолженности. \n\nРекомендации при отрицательном значении сигнала:\nОтклонение более 20% является основанием для получения пояснений от клиента о причинах такого отклонения, отсутствии просроченной задолженности. При наличии задолженности без движения требуется получить от клиента дополнительные соглашения о том, что задолженность не является просроченной. Рекомендуется оформить поручительство платежеспособного юридического лица, либо субординировать обязательства перед контрагентами.\n\n\n## 5 ICR LTM\n\nОписание:\nICR (Interest Coverage Ratio) – коэффициент покрытия процентов – это финансовый показатель, который отражает способность компании обслуживать свои долговые обязательства за счет операционной прибыли.\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nПоложительным для банка является значение показателя свыше 1,5. Минимально допустимым - 1,0.\n\nРекомендации при удовлетворительном значении сигнала:\nУдовлетворительное значение - более 1, но менее 1,5. Рекомендуется оформить поручительство платежеспособного юридического лица для привлечения дополнительного денежного потока.\n\nРекомендации при отрицательном значении сигнала:\nЗначение менее 1 является критичным для клиента. Оно означает, что операционного потока недостаточно для обслуживания процентов. Для рассмотрения вопроса о кредитовании потребуется привлечь дополнительные источники в виде займов от компаний группы с оформлением поручительства этих компаний.\n\n\n## 6 Долговая нагрузка\n\nОписание:\nДолговая нагрузка оценивается на базе следующих показателей: Чистый долг/EBITDA, Чистый долг/Выручка LTM. Сумма долга уменьшается на сумму субординированных заимствований.\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. Допускается анализ по одному из двух показателей.\n\nВозможные значения: \nЕсли показатель принимает отрицательное значение по причине отрицательной EBITDA, то это является негативным сигналом. Отрицательное значение EBITDA может выявляться по показателю \&quot;Рентабельность по EBITDA\&quot; - при отрицательном значении показателя можно сделать вывод об отрицательном значении EBITDA.\n\nСравнение показателей производится по отношению к пороговым значениям для конкретного ОКК. Если значение меньше порогового значения, определенного ОКС (отраслевой кредитной стратегией) или Кредитной политикой, то это является положительным сигналом. Неудовлетворительным сигналом является превышение показателя над верхним пороговым значением.\n\nРекомендации при удовлетворительном значении сигнала:\n\nПо клиенту зафиксирована повышенная долговая нагрузка. Рекомендуется обеспечить субординацию обязательств клиента перед третьими лицами (кредиторами). Это означает, что срок исполнения обязательств по такой задолженности будет наступать позже, чем по запрашиваемому кредиту. \n\nРекомендации при отрицательном значении сигнала:\n\nПо клиенту фиксируется высокая долговая нагрузка, что может поставить под сомнение своевременность исполнения обязательств по запрашиваемому кредиту. Рекомендуется обеспечить субординацию обязательств клиента перед третьими лицами (кредиторами). Это означает, что срок исполнения обязательств по такой задолженности будет наступать позже, чем по запрашиваемому кредиту. Также рекомендуется предусмотреть дополнительную доходность при согласовании ценовых параметров. Снижением риска является в т.ч. оформление поручительства платежеспособного юридического лица.\n\n\n## 7 Текущая ликвидность (КТЛ)\n\nОписание:\nКоэффициент текущей ликвидности (Current Ratio, CR) — это финансовый показатель, который оценивает способность компании погашать краткосрочные обязательства за счет своих текущих активов.\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nЗначения выше 1,5 является достаточным запасом покрытия краткосрочных обязательств оборотными активами. \n\nРекомендации при удовлетворительном значении сигнала:\nУдовлетворительным значением является показатель выше 1, но менее 1,5. У такого клиента есть риск того, что может не хватить оборотных средств для покрытия краткосрочных обязательств. При удовлетворительном значении показателя рекомендуется предусмотреть субординацию займов от связанных компаний путем заключения межкредиторского соглашения. \n\nРекомендации при отрицательном значении сигнала:\nЗначение показателя ниже 1 свидетельствует о низком запасе ликвидности. У такого клиента есть риск того, что может не хватить оборотных средств для покрытия краткосрочных обязательств. Рекомендуется редусмотреть субординацию займов от связанных компаний путем заключения межкредиторского соглашения, оформить поручительство платежеспособных юридических лиц, дополнительный залог.\n\n\n## 8 Рентабельность бизнеса\n\nОписание:\nРентабельность деятельности — это показатель эффективности работы компании, который отражает, сколько прибыли она получает относительно своих затрат или выручки.\n\nУсловия применимости:\nПоказатель не является обязательным. Если показатель отсутствует в выводе, то анализ не производится, расчет не запрашивается.\n\nВозможные значения: \nПриемлемым значением является показатель больше нуля.\n\nРекомендации при удовлетворительном значении сигнала:\nУдовлетворительным является значение более 0. Дополнительные рекомендации отсутствуют.\n\nРекомендации при отрицательном значении сигнала:\nПоказатель меньшей нуля свидетельствует об убыточности бизнеса. Требуется построить модель движения денежных средств для проверки наличия источников погашения обязательств клиента.\n\n\n## 9 Доля чистых активов (ЧА)\n\nОписание:\nЧистые активы (ЧА) — это реальная стоимость имущества компании, принадлежащего ей на праве собственности после выплаты всех долгов. Фактически, это «собственный капитал» бизнеса, рассчитанный по данным баланса.\n\nНизкая доля чистых активов (ЧА) в валюте баланса (т.е. в общих активах компании) свидетельствует о высоком уровне финансовой зависимости от заемных средств и может указывать на несколько проблем или особенностей бизнеса.\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nПриемлемым для банка является доля чистых активов свыше 20% от совокупных активов заемщика. Отрицательное значение показателя свидетельствует о риске банкротства компании.\n\nРекомендации при удовлетворительном значении сигнала:\nЗначение больше 0%, но менее 20%. Рекомендуется оптимизировать долговую нагрузку путем включения соответствующих условий: ограничение совокупного долга, ограничение показателя долг/EBITDA на уровне не выше верхней границы стратегии \&quot;Держать\&quot;.\n\nРекомендации при отрицательном значении сигнала:\nОтрицательное значение показателя свидетельствует о риске банкротства компании. Рекомендуется отказаться от предоставления такой компании кредитных средств.\n\n\n\n\n## 10 Рейтинг\nОписание:\nРейтинг - показатель, свидетельствующий о вероятности дефолта клиента на горизонте 1 года. Чем меньше значение рейтинга, тем ниже вероятность дефолта. Например, при значении рейтинга 5 вероятность дефолта ниже, чем при значении 11. Таблица сопоставления значения рейтинга с вероятностью дефолта - ниже. Дефолт - неспособность контрагента исполнять взятые на себя обязательства.\n\nРейтинг\n\nВероятность Дефолта\n\n1\n\n0,020%\n\n2\n\n0,037%\n\n3\n\n0,051%\n\n4\n\n0,070%\n\n5\n\n0,097%\n\n6\n\n0,133%\n\n7\n\n0,184%\n\n8\n\n0,253%\n\n9\n\n0,348%\n\n10\n\n0,480%\n\n11\n\n0,660%\n\n12\n\n0,910%\n\n13\n\n1,253%\n\n14\n\n1,725%\n\n15\n\n2,375%\n\n16\n\n3,271%\n\n17\n\n4,505%\n\n18\n\n6,204%\n\n19\n\n8,543%\n\n20\n\n11,765%\n\n21\n\n16,203%\n\n22\n\n22,313%\n\n23\n\n30,728%\n\n24\n\n42,316%\n\n25\n\n58,275%\n\n26\n\n100,000%\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nВ банке клиенту присваивается рейтинг от 1 до 26, где 26 рейтинг свидетельствует о 100% вероятности дефолта. Банк положительно смотрит на значения от 1 до 17 рейтинга.\n\nРекомендации при удовлетворительном значении сигнала:\nУдовлетворительное значение: от 18 до 22 рейтинга. При данных значениях рекомендуется оформить дополнительный залог высокой ликвидности залоговой стоимостью не менее 60% от запрашиваемых обязательств. Для компенсации повышенного кредитного риска рекомендуется закладывать дополнительную доходность при расчете процентной ставки клиенту.\n\nРекомендации при отрицательном значении сигнала:\nКлиентам с рейтингами от 25 до 26 рекомендуется отказать в предоставлении кредитных продуктов. По клиентам с рейтингом от 23 до 24 рекомендуется оформить залог, при этом залоговая стоимость должна покрывать обязательства клиента не менее, чем на 100%, дополнительно требуется оформление поручительства связанных компаний. Для компенсации повышенного кредитного риска рекомендуется закладывать дополнительную доходность при расчете процентной ставки клиенту.\n\n\n## 11 Собственный оборотный капитал (СОК)\n\nОписание:\nСобственный оборотный капитал (СОК) — это часть собственных средств компании, которая финансирует ее текущую деятельность и обеспечивает финансовую устойчивость.\n\nУсловия применимости:\nНе является обязательным показателем. В случае если значение не рассчитано, дополнительно расчет не запрашивается.\n\nВозможные значения\nПозитивным сигналом является положительное значение показателя. Если значение СОК равно или больше суммы краткосрочного финансирования, то это свидетельствует об обоснованном объеме краткосрочного финансирования.\n\nРекомендации при удовлетворительном значении сигнала:\nНет\n\nРекомендации при отрицательном значении сигнала:\nОтрицательное значение показателя свидетельствует о возможных кассовых разрывах. Рекомендуется предусмотреть субординацию краткосрочных займов со связанными компаниями, что позволит улучшить ликвидность баланса. Рекомендуется оформление поручительство платежеспособного юридического лица.\n\n## 12 ОКС - отраслевая кредитная стратегия\nОписание:\nОКС – отраслевая кредитная стратегия. Определяет взгляд банка на возможность наращивать долг по клиенту.\n\nНабор и значения показателей для определения ОКС по каждой из отраслей определяется ежегодно. \n\nУсловия применимости:\nНа текущий момент внутренние документы банка предполагают что ОКС анализируется по всем видам сделок.\n\nВозможные значения: \nСтратегия «Наращивать» - допускается прирост задолженности относительно текущего уровня. Является положительным сигналом. \n\nСтратегия «Держать» - рекомендуется сохранять портфель клиента на текущем уровне. Является положительным сигналом.\n\nСтратегия «Сокращать» - требуется сокращение портфеля клиента относительно текущего уровня. Одобрение сделки не возможно без изменения структуры сделки. После изменения структуры сделки требуется повторный расчет ОКС и оценка его значения. \n\nРекомендации при удовлетворительном значении сигнала:\n1. Снизить сумму продукта, который направлен на замещение действующего;\n\n2. Прирост задолженности при наличии обеспечения (залог/поручительство)\n\nРекомендации при отрицательном значении сигнала:\n1. Снизить сумму продукта, который направлен на замещение действующего;\n\n2. Прирост задолженности при наличии обеспечения (залог/поручительство)\n\n\n## 13 Вывод CF‑модели\nОписание:\nCF – это модель денежных потоков (сокращение от cash flow).\n\nИз АС CF формируется сигнал о достаточности потоков, формируемых за счет операционной деятельности, для погашения действующих и запрашиваемых обязательств в прогнозном периоде.\n\nУсловия применимости:\nЗапрос и анализ результатов CF проводится по определенным видам сделок. На текущий момент внутренние документы банка предполагают что CF модель строится по кредитам которые имеют длительность от 12 месяцев включительно\n\nВозможные значения: \n- Вывод 1 (англ. Conclusion_1) – модель демонстрирует достаточность источников для погашения кредита, вывод 1 является положительным и по сделке можно выносить положительное решение без изменения структуры сделки (в части параметров влияющих на CF, например сумма, срок, график платежей). \n\n- Вывод 2 (англ. Conclusion_2) – источников погашения кредита недостаточно. Одобрение сделки невозможно без изменений структуры сделки, в части параметров влияющих на CF. После изменения структуры требуется повторный расчет CF модели. \n\nРекомендации при удовлетворительном значении сигнала:\n\n\nРекомендации при отрицательном значении сигнала:\n1. Изменить сумму сделки: сократить до уровня, который позволит исполнять обязательства по кредитному портфелю клиента\n\n2. Изменить срок и график – сократить периодические платежи для обеспечения достаточности потока\n\n3. Оформить поручительство платежеспособного юридического лица, потоков которого будет достаточно для исполнения обязательств\n\n\n\n## 14 УФА (автовывод)\nОписание:\nУФА - сокр. от углубленный финансовый анализ. \n\nСигнал УФА формирует вывод о текущем финансовом положении клиента на базе расчетных показателей по бухгалтерской отчетности.\n\nУсловия применимости:\nНа текущий момент внутренние документы банка предполагают что УФА анализируется по всем видам сделок. \n\nВозможные значения: \nОценка «Хорошее» (\&quot;GOOD\&quot;) - финансовое положение клиента демонстрирует устойчивость, в т.ч. рентабельность, приемлемый уровень ликвидности, низкую зависимость от заемных ресурсов, оборачиваемость активов на уровне среднеотраслевых показателей и лучше, соответствие показателей долговой нагрузки ОКС «Держать», «Наращивать». Является положительным сигналом. \n\nОценка «Удовлетворительное» (\&quot;SAT\&quot;) - финансовое положение клиента демонстрирует относительную устойчивость, при этом отдельные показатели могут отклоняться в худшую сторону относительно пороговых значений. На текущий момент действующие ВНД банка не позволяют принимать решения по сделкам, когда финансовое положение заемщика оценено как «удовлетворительное». \n\nОценка «Неудовлетворительное» («BAD») - финансовое положение клиента оценивается как нестабильное, с возможной отрицательной динамикой, значение отдельных финансовых показателей хуже, чем среднеотраслевые, демонстрируется убыточность, высокая зависимость от кредитных ресурсов, низкая ликвидность баланса. \n\nРекомендации при удовлетворительном значении сигнала:\nНеобходимо проанализировать за счет каких показателей итоговая оценка - удовлетворительная , - применить рекомендации, связанные с отклонением того или иного показателя.\n\nРекомендации при отрицательном значении сигнала:\nФинансирование такой компании сопряжено с повышенным риском. Для минимизации риска требуется: 1. Оформить поручительство платежеспособного юридического лица, 2. Оформить залог, 3. Увеличить доходность кредитной сделки, установив повышенную процентную ставку.&lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;criteria_desc_short&quot;&gt;Описание критериев краткое (TextInput-ch50s):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;criteria_desc_short&quot; class=&quot;tall-textarea&quot;&gt;## Описание критериев анализа (актуализировано с учётом обязательности и взаимосвязей)\n\n\n### 1. Динамика бизнеса *(required = true)*\n**Описание:** \nПоказатель отражает изменения в объёмах доходов и расходов компании в ретроспективе. Оценка ведётся по трём подпоказателям: \n1.1 **Выручка LTM** — сравнение к аналогичной дате прошлого года: \n- Рост &gt; 0% — **ХОРОШО** \n- Снижение ≤ 10% при росте или сохранении EBITDA — **УДОВЛЕТВОРИТЕЛЬНО** \n- Снижение &gt; 10% или при падении EBITDA — **ПЛОХО** \n\n\n1.2 **EBITDA LTM** — сравнение к аналогичной дате прошлого года: \n- Рост &gt; 0% и EBITDA &gt; 0 — **ХОРОШО** \n- Снижение ≤ 10% и EBITDA &gt; 0 — **УДОВЛЕТВОРИТЕЛЬНО** \n- Снижение &gt; 10% и/или EBITDA ≤ 0 — **ПЛОХО** \n\n\n1.3 **Прирост квартальной выручки** — метод зависит от сезонности: \n- Рост хотя бы в одном из 2 кварталов подряд — **ХОРОШО** \n- Снижение ≤ 10% в двух кварталах подряд — **УДОВЛЕТВОРИТЕЛЬНО** \n- Снижение &gt; 10% в двух кварталах подряд — **ПЛОХО** \n\n\n**Взаимосвязи:** \n- При «УДОВЛЕТВОРИТЕЛЬНО» или «ПЛОХО» требуется построение CF-модели (критерий 13). \n- Отрицательная динамика в сочетании с низким КТЛ или высоким долгом усиливает риск. \n\n\n**Рекомендации:** \n- УДОВЛЕТВОРИТЕЛЬНО — построить модель ДДС для оценки влияния сокращения поступлений на возвратность кредита \n- ПЛОХО — построить CF-модель, проверить балансирующий кредит, оформить поручительство платёжеспособного юр. лица \n\n\n---\n\n\n### 2. Оборачиваемость запасов LTM (дни) *(required = true)*\n**Описание:** \nОтражает период обновления запасов. Сравнивается со среднеотраслевым показателем по ОКК. \n- Превышение ≤ 10% — **ХОРОШО** \n- Превышение &gt; 10% и ≤ 20% — **УДОВЛЕТВОРИТЕЛЬНО** (получить пояснения, подтвердить отсутствие неликвидов) \n- Превышение &gt; 20% — **ПЛОХО** (проверка запасов, поручительство, залог) \n\n\n**Взаимосвязи:** \n- Высокое отклонение при низком КТЛ усиливает риск. \n\n\n---\n\n\n### 3. Оборачиваемость дебиторской задолженности LTM *(required = true)*\n**Описание:** \nОтражает скорость получения оплаты. Сравнивается со среднеотраслевым по ОКК. \n- Превышение ≤ 10% — **ХОРОШО** \n- Превышение &gt; 10% и ≤ 20% — **УДОВЛЕТВОРИТЕЛЬНО** (пояснения, отсутствие просрочки) \n- Превышение &gt; 20% — **ПЛОХО** (пояснения, проверка долгов &gt;5% без движения &gt; квартал, поручительство) \n\n\n**Взаимосвязи:** \n- Высокая ДЗ при низком КТЛ усиливает риск ликвидности. \n\n\n---\n\n\n### 4. Оборачиваемость кредиторской задолженности LTM *(required = true)*\n**Описание:** \nПоказывает сроки оплаты поставщикам. \n- Отклонение ≤ 10% — **ХОРОШО** \n- Отклонение &gt; 10% и ≤ 20% — **УДОВЛЕТВОРИТЕЛЬНО** (пояснения) \n- Отклонение &gt; 20% — **ПЛОХО** (пояснения, соглашения о статусе долга, поручительство/субординация) \n\n\n---\n\n\n### 5. ICR LTM *(required = true)*\n**Описание:** \nКоэффициент покрытия процентов. \n- &gt; 1.5 — **ХОРОШО** \n- &gt; 1.0 и ≤ 1.5 — **УДОВЛЕТВОРИТЕЛЬНО** (поручительство) \n- ≤ 1.0 — **ПЛОХО** (доп. источники, поручительство) \n\n\n**Взаимосвязи:** \n- Низкий ICR при высокой долговой нагрузке усиливает риск. \n\n\n---\n\n\n### 6. Долговая нагрузка *(required = true)*\n**Описание:** \nОценивается по Чистый долг/EBITDA и Чистый долг/Выручка LTM. \n- Ниже порогового значения ОКС — **ХОРОШО** \n- В пределах допустимого диапазона — **УДОВЛЕТВОРИТЕЛЬНО** (субординация обязательств) \n- Выше верхнего порога или отрицательная EBITDA — **ПЛОХО** (субординация, доп. доходность, поручительство) \n\n\n---\n\n\n### 7. Текущая ликвидность (КТЛ) *(required = true)*\n**Описание:** \n- ≥ 1.5 — **ХОРОШО** \n- ≥ 1.0 и &lt; 1.5 — **УДОВЛЕТВОРИТЕЛЬНО** (субординация займов связанных компаний) \n- &lt; 1.0 — **ПЛОХО** (субординация, поручительство, залог) \n\n\n---\n\n\n### 8. Рентабельность бизнеса *(required = false)*\n- ≥ 0 — **ХОРОШО** \n- &lt; 0 — **ПЛОХО** (CF-модель) \n\n\n---\n\n\n### 9. Доля чистых активов (ЧА) *(required = true)*\n- ≥ 20% — **ХОРОШО** \n- &gt; 0% и &lt; 20% — **УДОВЛЕТВОРИТЕЛЬНО** (ограничение долга и долг/EBITDA) \n- ≤ 0% — **ПЛОХО** (отказ) \n\n\n---\n\n\n### 10. Рейтинг *(required = true)*\n- 1–17 — **ХОРОШО** \n- 18–22 — **УДОВЛЕТВОРИТЕЛЬНО** (доп. залог ≥ 60% суммы кредита, доп. доходность) \n- 23–24 — **ПЛОХО** (залог ≥ 100%, поручительство, доп. доходность) \n- 25–26 — **ПЛОХО** (отказ) \n\n\n---\n\n\n### 11. Собственный оборотный капитал (СОК) *(required = false)*\n- ≥ 0 — **ХОРОШО** \n- &lt; 0 — **ПЛОХО** (субординация займов, поручительство) \n\n\n---\n\n\n### 12. Соответствие сделки ОКС *(required = true)*\n- «Наращивать» или «Держать» — **ХОРОШО** \n- «Сокращать» — **ПЛОХО** (изменение структуры сделки, повторная оценка) \n\n\n---\n\n\n### 13. Вывод CF-модели *(required = true)*\n- «Вывод №1» — **ХОРОШО** \n- «Вывод №2» — **ПЛОХО** (уменьшить сумму, скорректировать срок/график, поручительство) \n\n\n---\n\n\n### 14. Кредитная история *(required = true)*\n- Нет просрочек ≥ 5 дней за последние 180 дней — **ХОРОШО** \n- 1 просрочка ≤ 5 дней — **УДОВЛЕТВОРИТЕЛЬНО** \n- ≥ 2 просрочек и/или любая &gt; 5 дней — **ПЛОХО** (поручительство, CF-модель с сезонностью) \n\n\n---\n\n\n### 15. УФА (автовывод) *(required = true)*\n- «Хорошее» — **ХОРОШО** \n- «Удовлетворительное» — **ПЛОХО** (решение не принимается, нужны меры) \n- «Неудовлетворительное» — **ПЛОХО** (автоотказ) \n\n\n---&lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;oks&quot;&gt;ОКС (TextInput-yx6GS):&lt;/label&gt;&#xa;            &lt;input type=&quot;text&quot; id=&quot;oks&quot; value=&quot;держать&quot;&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;rating&quot;&gt;Рейтинг (TextInput-VjcHx):&lt;/label&gt;&#xa;            &lt;input type=&quot;text&quot; id=&quot;rating&quot; value=&quot;25&quot;&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;ufa_output&quot;&gt;УФА вывод (TextInput-vR8A5):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;ufa_output&quot;&gt;Финансовое состояние Автовывод: Финансовое состояние, рассчитанное моделью - Хорошее Результативность (операционные результаты) - Хорошее Увеличение выручки LTM по сравнению с АППГ 10.3%. Выручка за квартал увеличивается хотя бы в одном из 2х кварталов подряд: относительно прошлого периода ((15.6)% и 24.4%) и АППГ (39.4% и 6.8%). Рентабельность EBITDA LTM составила 4.5%. Чистая прибыль 23 354 тыс. руб. Качество активов и управление ими - Удовлетворительное КТЛ 5.22, выше порогового значения 1. Оборачиваемость ДЗ LTM 9 дней - соответствует оборачиваемости большинства компаний данного ОКК (63 дней). Оборачиваемость КЗ LTM 5 дней - соответствует оборачиваемости большинства компаний данного ОКК (48 дней). Возможность исполнения обязательств - Хорошее Долг(за искл. субор. займов)/EBITDA LTM 3.39, ниже порогового значения 3.5 для данного ОКК. ICR LTM 2.94 - выше порогового значения 1.5. Доля ЧА в структуре баланса 57.8% (&gt;=20%). &lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;ufa_conclusion&quot;&gt;УФА заключение (TextInput-TCycW):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;ufa_conclusion&quot;&gt;Активы составили 353 552 тыс. руб. (+31.6% (или +84 873 тыс. руб.) к АППГ). Краткосрочные кредиты и займы составили 43 149 тыс. руб., доля в ВБ 12.2%, в АППГ отсутствуют. Анализ ОДДС за прошлый год не проводился ДЗ составила 28 299 тыс. руб. (-6.4% (или -1 925 тыс. руб.) к АППГ), доля в ВБ 8%. Выручка LTM составила 1 153 428 тыс. руб. (+9.8% (или +103 360 тыс. руб.) к АППГ).\nСОК составил 236 685 тыс. руб. (+6.8% (или +15 030 тыс. руб.) к АППГ).&lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;cashflow&quot;&gt;Cashflow (TextInput-veUql):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;cashflow&quot;&gt; Вывод №1 «Модель ДДС утверждена. Заложенные в модель структура денежных потоков и используемые предпосылки построения модели ДДС позволяют сделать вывод о возможности Контрагента исполнять свои обязательства»: риск высокий (приемлемый), риск средний, риск низкий﻿. &lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;prompt_so&quot;&gt;Промпт для SO (Prompt-G6YQg):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;prompt_so&quot; class=&quot;tall-textarea&quot;&gt;Вы — CreditDecisionAgent, экспертная система для автоматического принятия решений по онлайн-заявкам на кредит в крупном банке. \nВаша задача: провести детальный анализ каждого критерия, используя актуальные методологические требования, и выдать итоговое решение в строгом JSON-формате.\n\n\n---\n\n\n### 1. Input Data\n\n\nБлок 1 – АС УФА:\n{ufa_block}\n\n\nБлок 2 – Рейтинг:\n{rating_block}\n\n\nБлок 3 – ОКС:\n{oks_block}\n\n\nБлок 4 – Cashflow:\n{cf_block}\n\n\nБлок 6 – АС УФА (заключение):\n{ufa_block_2}\n\n\n\n---\n\n\n### 2. Criteria Definitions\n\n\n\n\n{criteria_definitions}\n\n\n---\n\n\n### 3. Core Logic\n**Custom Chain of Thought:**\nДля каждого критерия:\n- explanation: «Проверяем [Название]: значение = X, порог = Y»\n- status: «ХОРОШО», «УДОВЛЕТВОРИТЕЛЬНО» или «ПЛОХО»\n- comment: пояснение \n- has_value: true/false \n- recommendation: рекомендации \n- required: true/false \n\n\n\n\n\n**Output Format (only JSON):**\n\n{json}\n\n\n&lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;prompt_report&quot;&gt;Промпт для отчета (Prompt-Y0eJl):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;prompt_report&quot; class=&quot;tall-textarea&quot;&gt;Вы — старший кредитный аналитик. Преобразуй технический JSON-отчет в полное заключение для клиента, используя ВСЕ 15 критериев. Сохрани профессиональный тон, но сделай объяснения доступными.\n\n### Инструкции:\n1. Используй данные из источников:\n - Описание критериев\n - Входные данные\n - JSON-результат анализа от CreditDecisionAgent\n\n### Структура отчёта:\n**1. Итоговое решение** \n[✅ Одобрено] / [❌ Отказ] \n**Обоснование:** 1-2 предложения с главной причиной\n\n**2. Сводка финансового здоровья** \nТаблица со всеми метриками:\n| Показатель | Значение клиента | Референсное значение | Статус |\n|------------|------------------|----------------------|--------|\n| Выручка LTM | 1 153 428 тыс. руб ▲9.8% | Рост &gt;0% | ������ |\n| Рентабельность EBITDA | 4.5% ▼ | Рост &gt;0% | ������ |\n| КТЛ | 5.22 | ≥1.5 | ������ |\n| Рейтинг | 26 | ≤17 | ������ |\n| ... | ... | ... | ... |\n\n**3. Детализированный анализ по категориям** \n**A. Операционная эффективность (К1-К4)** \nДля каждого критерия:\n- Название критерия: Статус-иконка [Значение] \n • Комментарий: [Пояснение из JSON] \n • Референс: [Пороговое значение] \n • Источник: Блок [N] \n\n**B. Платёжеспособность (К5-К7)** \n[Аналогично категории A]\n\n**C. Капитализация (К8,К9,К11)** \n[Аналогично категории A]\n\n**D. Риск-профиль (К10,К12-К15)** \n[Аналогично категории A]\n\n**4. Рекомендации** \nСгруппируй предложения:\n- Корректировка условий: [Действия]\n- Дополнительное обеспечение: [Действия]\n- Аналитические требования: [Действия]\n\n**5. Заключение** \n- Сильные стороны: 3 главных позитивных фактора\n- Критические риски: Все ������-критерии с цифрами\n- Условия пересмотра: Для отказов - конкретные шаги\n\n### Требования:\n1. Для всех 15 критериев:\n • Точные значения из JSON \n • Референсные значения из описания критериев \n • Соответствие статусов (������/������/������) \n • Иконки динамики: ▲ рост ▼ снижение \n\n2. Специальные форматы:\n • Рейтинг (К10): \&quot;26 (вероятность дефолта: 100%)\&quot; \n • УФА (К15): выделить цветом + расшифровать \n • CF-модель (К13): указать тип вывода \n\n3. Визуальные обозначения:\n • ������ ХОРОШО (соответствует нормативу) \n • ������ УДОВЛЕТВОРИТЕЛЬНО (частичное соответствие) \n • ������ ПЛОХО (нарушение нормативов) \n • ✅ Без рисков | ⚠️ Требует контроля | ❌ Критично \n\n### Пример вывода критерия:\n**Динамика выручки LTM**: ������ 1 153 428 тыс. руб (▲9.8%) \n• Комментарий: Рост соответствует требованиям \n• Референс: &gt;0% рост \n• Источник: Блок 1 \n\n**УФА-заключение**: ������ Удовлетворительное \n• Комментарий: Не соответствует стандартам банка \n• Референс: Только \&quot;Хорошее\&quot; приемлемо \n• Источник: Блок 1 \n\n**Оборачиваемость ДЗ**: ������ 9 дней \n• Комментарий: Ниже отраслевого стандарта \n• Референс: ОКК = 63 дня (допуск ±10%) \n• Источник: Блок 1 &lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;button type=&quot;submit&quot;&gt;Отправить запрос&lt;/button&gt;&#xa;        &lt;/form&gt;&#xa;        &lt;div id=&quot;response&quot;&gt;&lt;/div&gt;&#xa;        &lt;div id=&quot;loading&quot; class=&quot;loading&quot; style=&quot;display: none;&quot;&gt;Загрузка...&lt;/div&gt;&#xa;    &lt;/div&gt;&#xa;&#xa;&#xa;    &lt;script&gt;&#xa;        const form = document.getElementById(&#39;apiForm&#39;);&#xa;        const responseDiv = document.getElementById(&#39;response&#39;);&#xa;        const loadingDiv = document.getElementById(&#39;loading&#39;);&#xa;&#xa;&#xa;        form.addEventListener(&#39;submit&#39;, async (e) =&gt; {&#xa;            e.preventDefault();&#xa;            loadingDiv.style.display = &#39;block&#39;;&#xa;            responseDiv.textContent = &#39;&#39;;&#xa;&#xa;&#xa;            const token = document.getElementById(&#39;token&#39;).value;&#xa;            const criteria_desc_text = document.getElementById(&#39;criteria_desc_text&#39;).value;&#xa;            const criteria_desc_short = document.getElementById(&#39;criteria_desc_short&#39;).value;&#xa;            const oks = document.getElementById(&#39;oks&#39;).value;&#xa;            const rating = document.getElementById(&#39;rating&#39;).value;&#xa;            const ufa_output = document.getElementById(&#39;ufa_output&#39;).value;&#xa;            const ufa_conclusion = document.getElementById(&#39;ufa_conclusion&#39;).value;&#xa;            const cashflow = document.getElementById(&#39;cashflow&#39;).value;&#xa;            const prompt_so = document.getElementById(&#39;prompt_so&#39;).value;&#xa;            const prompt_report = document.getElementById(&#39;prompt_report&#39;).value;&#xa;&#xa;&#xa;            const tweaks = {&#xa;                &quot;GigaChatModel-rpJk7&quot;: {&#xa;                    &quot;temperature&quot;: 0.1,&#xa;                    &quot;access_token&quot;: &quot;&quot;,&#xa;                    &quot;base_url&quot;: &quot;GIGACHAT_BASE_URL&quot;,&#xa;                    &quot;ca_bundle_file&quot;: &quot;&quot;,&#xa;                    &quot;cert_file&quot;: &quot;&quot;,&#xa;                    &quot;credentials&quot;: &quot;&quot;,&#xa;                    &quot;input_value&quot;: &quot;&quot;,&#xa;                    &quot;key_file&quot;: &quot;&quot;,&#xa;                    &quot;key_file_password&quot;: &quot;&quot;,&#xa;                    &quot;max_tokens&quot;: null,&#xa;                    &quot;model&quot;: &quot;GigaChat-Pro&quot;,&#xa;                    &quot;password&quot;: &quot;&quot;,&#xa;                    &quot;profanity_check&quot;: false,&#xa;                    &quot;scope&quot;: &quot;GIGACHAT_API_PERS&quot;,&#xa;                    &quot;some_other_param&quot;: 1,&#xa;                    &quot;stream&quot;: false,&#xa;                    &quot;system_message&quot;: &quot;&quot;,&#xa;                    &quot;timeout&quot;: 60,&#xa;                    &quot;user&quot;: &quot;&quot;,&#xa;                    &quot;verify_ssl_certs&quot;: false&#xa;                },&#xa;                &quot;ChatOutput-nQcuz&quot;: {&#xa;                    &quot;background_color&quot;: &quot;&quot;,&#xa;                    &quot;chat_icon&quot;: &quot;&quot;,&#xa;                    &quot;data_template&quot;: &quot;{text}&quot;,&#xa;                    &quot;input_value&quot;: &quot;&quot;,&#xa;                    &quot;sender&quot;: &quot;Machine&quot;,&#xa;                    &quot;sender_name&quot;: &quot;AI&quot;,&#xa;                    &quot;session_id&quot;: &quot;&quot;,&#xa;                    &quot;should_store_message&quot;: true,&#xa;                    &quot;text_color&quot;: &quot;&quot;&#xa;                },&#xa;                &quot;Prompt-G6YQg&quot;: {&#xa;                    &quot;template&quot;: prompt_so,&#xa;                    &quot;ufa_block&quot;: &quot;&quot;,&#xa;                    &quot;rating_block&quot;: &quot;&quot;,&#xa;                    &quot;oks_block&quot;: &quot;&quot;,&#xa;                    &quot;cf_block&quot;: &quot;&quot;,&#xa;                    &quot;json&quot;: &quot;&quot;,&#xa;                    &quot;ufa_block_2&quot;: &quot;&quot;,&#xa;                    &quot;criteria_definitions&quot;: &quot;&quot;&#xa;                },&#xa;                &quot;TextInput-niiBi&quot;: {&#xa;                    &quot;input_value&quot;: &quot;```json\n{\n \&quot;criteria\&quot;: [\n {\&quot;name\&quot;: \&quot;...\&quot;, \&quot;value\&quot;: \&quot;...\&quot;, \&quot;status\&quot;: \&quot;ХОРОШО/УДОВЛЕТВОРИТЕЛЬНО/ПЛОХО\&quot;, \&quot;comment\&quot;: \&quot;...\&quot;, \&quot;recommendation\&quot;: \&quot;...\&quot;, \&quot;required\&quot;: true/false, \&quot;has_value\&quot;: true/false}\n ],\n \&quot;final_decision\&quot;: \&quot;ОДОБРЕНО/ОТКАЗ\&quot;,\n \&quot;final_comment\&quot;: \&quot;...\&quot;\n}\n\n&quot;&#xa;                },&#xa;                &quot;TextInput-veUql&quot;: {&#xa;                    &quot;input_value&quot;: cashflow&#xa;                },&#xa;                &quot;TextInput-yx6GS&quot;: {&#xa;                    &quot;input_value&quot;: oks&#xa;                },&#xa;                &quot;TextInput-VjcHx&quot;: {&#xa;                    &quot;input_value&quot;: rating&#xa;                },&#xa;                &quot;TextInput-vR8A5&quot;: {&#xa;                    &quot;input_value&quot;: ufa_output&#xa;                },&#xa;                &quot;TextInput-TCycW&quot;: {&#xa;                    &quot;input_value&quot;: ufa_conclusion&#xa;                },&#xa;                &quot;TextOutput-cfRZt&quot;: {&#xa;                    &quot;input_value&quot;: &quot;&quot;&#xa;                },&#xa;                &quot;Prompt-BVcPg&quot;: {&#xa;                    &quot;template&quot;: &quot;### Описания критериев:\n\n{criteria_description}\n\n### Результат обработки:\n \n{json_output}&quot;,&#xa;                    &quot;criteria_description&quot;: &quot;&quot;,&#xa;                    &quot;json_output&quot;: &quot;&quot;&#xa;                },&#xa;                &quot;GigaChatModel-5A4AF&quot;: {&#xa;                    &quot;temperature&quot;: 0.1,&#xa;                    &quot;access_token&quot;: &quot;&quot;,&#xa;                    &quot;base_url&quot;: &quot;GIGACHAT_BASE_URL&quot;,&#xa;                    &quot;ca_bundle_file&quot;: &quot;&quot;,&#xa;                    &quot;cert_file&quot;: &quot;&quot;,&#xa;                    &quot;credentials&quot;: &quot;&quot;,&#xa;                    &quot;input_value&quot;: &quot;&quot;,&#xa;                    &quot;key_file&quot;: &quot;&quot;,&#xa;                    &quot;key_file_password&quot;: &quot;&quot;,&#xa;                    &quot;max_tokens&quot;: null,&#xa;                    &quot;model&quot;: &quot;GigaChat-2-Max&quot;,&#xa;                    &quot;password&quot;: &quot;&quot;,&#xa;                    &quot;profanity_check&quot;: false,&#xa;                    &quot;scope&quot;: &quot;GIGACHAT_API_PERS&quot;,&#xa;                    &quot;some_other_param&quot;: 1,&#xa;                    &quot;stream&quot;: false,&#xa;                    &quot;system_message&quot;: &quot;&quot;,&#xa;                    &quot;timeout&quot;: 60,&#xa;                    &quot;user&quot;: &quot;&quot;,&#xa;                    &quot;verify_ssl_certs&quot;: false&#xa;                },&#xa;                &quot;Prompt-Y0eJl&quot;: {&#xa;                    &quot;template&quot;: prompt_report&#xa;                },&#xa;                &quot;TextInput-UCeoq&quot;: {&#xa;                    &quot;input_value&quot;: criteria_desc_text&#xa;                },&#xa;                &quot;ChatInput-5oBEK&quot;: {&#xa;                    &quot;files&quot;: &quot;&quot;,&#xa;                    &quot;background_color&quot;: &quot;&quot;,&#xa;                    &quot;chat_icon&quot;: &quot;&quot;,&#xa;                    &quot;input_value&quot;: &quot;&quot;,&#xa;                    &quot;sender&quot;: &quot;User&quot;,&#xa;                    &quot;sender_name&quot;: &quot;User&quot;,&#xa;                    &quot;session_id&quot;: &quot;&quot;,&#xa;                    &quot;should_store_message&quot;: true,&#xa;                    &quot;text_color&quot;: &quot;&quot;&#xa;                },&#xa;                &quot;TextInput-ch50s&quot;: {&#xa;                    &quot;input_value&quot;: criteria_desc_short&#xa;                }&#xa;            };&#xa;&#xa;&#xa;            try {&#xa;                const res = await fetch(&#xa;                    &quot;https://agent-low-code.apps.ift-terra000016-ids.ocp.delta.sbrf.ru/api/v1/run/acf4d81e-8a1e-4ed9-8a3b-0c3af25ae4ee?stream=false&quot;,&#xa;                    {&#xa;                        method: &quot;POST&quot;,&#xa;                        headers: {&#xa;                            &quot;Authorization&quot;: `Bearer ${token}`,&#xa;                            &quot;Content-Type&quot;: &quot;application/json&quot;,&#xa;                        },&#xa;                        body: JSON.stringify({&#xa;                            output_type: &quot;chat&quot;,&#xa;                            input_type: &quot;chat&quot;,&#xa;                            tweaks: tweaks&#xa;                        }),&#xa;                    }&#xa;                );&#xa;                const data = await res.json();&#xa;                responseDiv.textContent = JSON.stringify(data, null, 2);&#xa;            } catch (error) {&#xa;                responseDiv.textContent = `Error: ${error.message}`;&#xa;            } finally {&#xa;                loadingDiv.style.display = &#39;none&#39;;&#xa;            }&#xa;        });&#xa;    &lt;/script&gt;&#xa;&lt;/body&gt;&#xa;&lt;/html&gt;" link="&lt;!DOCTYPE html&gt;&#xa;&lt;html lang=&quot;ru&quot;&gt;&#xa;&lt;head&gt;&#xa;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#xa;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#xa;    &lt;title&gt;Интерфейс для работы с LangFlow API&lt;/title&gt;&#xa;    &lt;style&gt;&#xa;        body {&#xa;            font-family: Arial, sans-serif;&#xa;            background-color: #f4f7fa;&#xa;            margin: 0;&#xa;            padding: 20px;&#xa;            color: #333;&#xa;        }&#xa;        .container {&#xa;            max-width: 800px;&#xa;            margin: 0 auto;&#xa;            background-color: #fff;&#xa;            padding: 30px;&#xa;            border-radius: 10px;&#xa;            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);&#xa;        }&#xa;        h1 {&#xa;            text-align: center;&#xa;            color: #2c3e50;&#xa;            margin-bottom: 30px;&#xa;        }&#xa;        label {&#xa;            display: block;&#xa;            font-weight: bold;&#xa;            margin-bottom: 8px;&#xa;            color: #34495e;&#xa;        }&#xa;        input[type=&quot;text&quot;],&#xa;        textarea {&#xa;            width: 100%;&#xa;            padding: 10px;&#xa;            margin-bottom: 20px;&#xa;            border: 1px solid #ddd;&#xa;            border-radius: 5px;&#xa;            font-size: 14px;&#xa;            box-sizing: border-box;&#xa;            transition: border-color 0.3s;&#xa;        }&#xa;        input[type=&quot;text&quot;]:focus,&#xa;        textarea:focus {&#xa;            border-color: #3498db;&#xa;            outline: none;&#xa;        }&#xa;        textarea {&#xa;            height: 150px;&#xa;            resize: vertical;&#xa;        }&#xa;        .tall-textarea {&#xa;            height: 300px;&#xa;        }&#xa;        button {&#xa;            display: block;&#xa;            width: 100%;&#xa;            padding: 12px;&#xa;            background-color: #3498db;&#xa;            color: #fff;&#xa;            border: none;&#xa;            border-radius: 5px;&#xa;            font-size: 16px;&#xa;            cursor: pointer;&#xa;            transition: background-color 0.3s;&#xa;        }&#xa;        button:hover {&#xa;            background-color: #2980b9;&#xa;        }&#xa;        #response {&#xa;            margin-top: 30px;&#xa;            padding: 15px;&#xa;            background-color: #ecf0f1;&#xa;            border-radius: 5px;&#xa;            white-space: pre-wrap;&#xa;            font-family: monospace;&#xa;            max-height: 400px;&#xa;            overflow-y: auto;&#xa;            border: 1px solid #ddd;&#xa;        }&#xa;        .loading {&#xa;            text-align: center;&#xa;            margin-top: 20px;&#xa;            font-style: italic;&#xa;            color: #7f8c8d;&#xa;        }&#xa;    &lt;/style&gt;&#xa;&lt;/head&gt;&#xa;&lt;body&gt;&#xa;    &lt;div class=&quot;container&quot;&gt;&#xa;        &lt;h1&gt;Интерфейс для работы с LangFlow API&lt;/h1&gt;&#xa;        &lt;form id=&quot;apiForm&quot;&gt;&#xa;            &lt;label for=&quot;token&quot;&gt;API Token (Bearer):&lt;/label&gt;&#xa;            &lt;input type=&quot;text&quot; id=&quot;token&quot; placeholder=&quot;Введите ваш токен&quot; required&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;criteria_desc_text&quot;&gt;Описание критериев в текстовом виде (TextInput-UCeoq):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;criteria_desc_text&quot; class=&quot;tall-textarea&quot;&gt;## 1. Динамика бизнеса\nОписание:\nПоказатель указывает на наличие изменений в объемах доходов и расходов в ретро-периоде. \n\nПрименяется 3 показателя:\n\n1. Динамика выручки LTM к аналогичной дате прошлого года. Например производится сравнение Выручки LTM на 01.04.2025 к этому же показателю на 01.04.2024.\n\n2. Динамика квартальных показателей Выручки: 1. Если отрасль относится к несезонной, то сравнение производится анализируемого квартала к предыдущему (например 2 кв. 2025 к 1 кв.2025); 2. Если в деятельности присутствует сезонность, то сравниваются сопоставимые периоды к прошлому году (например 2 кв. 2025 ко 2 кв. 2024)\n\n3. Динамика EBITDA LTM к аналогичной дате прошлого года. Например производится сравнение EBITDA LTM на 01.04.2025 к этому же показателю на 01.04.2024.\n\nEBITDA (Earnings Before Interest, Taxes, Depreciation and Amortization) — прибыль до вычета процентов, налогов и амортизации. Показывает операционную рентабельность без учёта структуры капитала и налогов.\n\nУсловия применимости:\nОцениваются все показатели по всем клиентам.\n\nВозможные значения: \n\nПоложительным моментом является одновременный рост Выручки и EBITDA.\n\nУдовлетворительным индикатором является:\n\nсокращение выручки на 10% при сохранении либо увеличении EBITDA.\nсокращение EBITDA показателя до 10%.\nРекомендации при удовлетворительном значении сигнала:\nРекомендуется построение модели движения денежных средств для оценки влияния сокращения поступлений на возвратность кредита.\n\nРекомендации при отрицательном значении сигнала:\nПоскольку бизнес клиента сокращается, то важно проверить как отрицательная динамика повлияет на возвратность кредита. Для этого необходимо построить CF модель и проверить как погашение кредита может повлиять на остаток денежных средств либо возникновение балансирующего кредита. Балансирующий кредит - это вынужденное привлечение кредитных средств для закрытия сформированных остатков денежных средств. Отрицательным фактором будет выступать наращивание потребности в балансирующем кредите. Также рекомендуется в качестве минимизации риска отрицательной динамики бизнеса оформить поручительство юридического лица, которое будет способно погашать как собственные обязательства, так и обязательства по договору поручительства.\n\n## 2. Оборачиваемость запасов LTM (дни)\nОписание:\nПериод оборота запасов (Inventory Turnover Period) — это финансовый показатель, который показывает, за сколько дней компания полностью обновляет свои запасы (продаёт или использует в производстве).\n\nОценивается значение показателя оборачиваемости запасов и сравнение его со среднеотраслевыми значениями. Значения выше среднеотраслевых показателей могут свидетельствовать о наличии неликвидных запасов, а также о манипуляции с финансовой отчетностью.\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nПоказатель сравнивается со среднеотраслевыми показателями, характерными для данного ОКК.\n\nОКК - отраслевой классификатор клиента, который отражает преобладающее направление хозяйственной деятельности клиента. Показатель определяется Клиентским менеджером, закрепленным за клиентом.\n\nДопустимое значение - превышение периода оборота над среднеотраслевым значением не более чем на 10%.\n\nРекомендации при удовлетворительном значении сигнала:\nОтклонение более 10%, но менее 20% является основанием для получения пояснений от клиента о причинах такого отклонения, отсутствии неликвидных остатков ТМЦ.\n\nРекомендации при отрицательном значении сигнала:\nПревышение показателя над среднеотраслевыми значениями более чем на 10% может свидетельствовать о затоваренности, наличии неликвидных остатков запасов, неэффективном управлении запасами. Данный факт может стать сигналом для возникновения проблем с обслуживанием долга в будущем. Предоставление клиенту кредитных продуктов возможно после выездной выборочной проверки запасов, подтверждения отсутствия неликвидных запасов, а также при условии оформления поручительства платежеспособного юридического лица, ликвидного залога.\n\n## 3 Оборачиваемость дебиторской задолженности (ДЗ) LTM\n\nОписание:\nПериод оборота дебиторской задолженности (англ. Days Sales Outstanding, DSO) — это финансовый показатель, который отражает среднее количество дней, необходимое компании для получения оплаты от покупателей после продажи товаров или услуг.\n\nОценивается значение показателя оборачиваемости дебиторской задолженности (или ДЗ) и сравнение его со среднеотраслевыми значениями. Значения выше среднеотраслевых показателей могут свидетельствовать о неликвидной задолженности, выводе капитала, а также о манипуляции с финансовой отчетностью.\n\nУсловия применимости: \n\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nДопускается отклонение от среднеотраслевого значения не более чем на 10%, а свыше 20% по контрагенту может быть зафиксировано событие проблемности. Оценка по среднеотраслевому признаку производится по ОКК. \n\nРекомендации при удовлетворительном значении сигнала:\nОтклонение более 10%, но менее 20% является основанием для получения пояснений от клиента о причинах такого отклонения, отсутствии просроченной задолженности. \n\nРекомендации при отрицательном значении сигнала:\nПревышение над среднеотраслевым значением может свидетельствовать о проблемах с возвратом ДЗ, наличии просроченной ДЗ. Требуется пояснение от клиента по суммам свыше 5% от совокупной ДЗ, по которой нет движения в течение более 1 квартала. Кредитование такого клиента может быть сопряжено с повышенным риском, рекомендуется оформление поручительства платежеспособных юридических лиц.\n\n\n## 4 Оборачиваемость кредиторской задолженности (КЗ) LTM\n\nОписание:\nПериод оборота кредиторской задолженности (англ. Days Payable Outstanding, DPO) — это финансовый показатель, который показывает среднее количество дней, за которое компания оплачивает свои счета поставщикам.\n\nЗначения выше среднеотраслевых показателей могут свидетельствовать о наличии проблем с платежами поставщикам, персоналом, налоговой службой\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nПериод оборота меньше или выше чем у большинства компаний данного ОКК не более 10% - является положительным показателем для банка.\n\nУдовлетворительное значение - отклонение в большую сторону на 10%, но менее чем на 20%.\n\nНегативным критерием является просроченная задолженность перед персоналом, мировым соглашениям.\n\nРекомендации при удовлетворительном значении сигнала:\nОтклонение более 10%, но менее 20% является основанием для получения пояснений от клиента о причинах такого отклонения, отсутствии просроченной задолженности. \n\nРекомендации при отрицательном значении сигнала:\nОтклонение более 20% является основанием для получения пояснений от клиента о причинах такого отклонения, отсутствии просроченной задолженности. При наличии задолженности без движения требуется получить от клиента дополнительные соглашения о том, что задолженность не является просроченной. Рекомендуется оформить поручительство платежеспособного юридического лица, либо субординировать обязательства перед контрагентами.\n\n\n## 5 ICR LTM\n\nОписание:\nICR (Interest Coverage Ratio) – коэффициент покрытия процентов – это финансовый показатель, который отражает способность компании обслуживать свои долговые обязательства за счет операционной прибыли.\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nПоложительным для банка является значение показателя свыше 1,5. Минимально допустимым - 1,0.\n\nРекомендации при удовлетворительном значении сигнала:\nУдовлетворительное значение - более 1, но менее 1,5. Рекомендуется оформить поручительство платежеспособного юридического лица для привлечения дополнительного денежного потока.\n\nРекомендации при отрицательном значении сигнала:\nЗначение менее 1 является критичным для клиента. Оно означает, что операционного потока недостаточно для обслуживания процентов. Для рассмотрения вопроса о кредитовании потребуется привлечь дополнительные источники в виде займов от компаний группы с оформлением поручительства этих компаний.\n\n\n## 6 Долговая нагрузка\n\nОписание:\nДолговая нагрузка оценивается на базе следующих показателей: Чистый долг/EBITDA, Чистый долг/Выручка LTM. Сумма долга уменьшается на сумму субординированных заимствований.\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. Допускается анализ по одному из двух показателей.\n\nВозможные значения: \nЕсли показатель принимает отрицательное значение по причине отрицательной EBITDA, то это является негативным сигналом. Отрицательное значение EBITDA может выявляться по показателю \&quot;Рентабельность по EBITDA\&quot; - при отрицательном значении показателя можно сделать вывод об отрицательном значении EBITDA.\n\nСравнение показателей производится по отношению к пороговым значениям для конкретного ОКК. Если значение меньше порогового значения, определенного ОКС (отраслевой кредитной стратегией) или Кредитной политикой, то это является положительным сигналом. Неудовлетворительным сигналом является превышение показателя над верхним пороговым значением.\n\nРекомендации при удовлетворительном значении сигнала:\n\nПо клиенту зафиксирована повышенная долговая нагрузка. Рекомендуется обеспечить субординацию обязательств клиента перед третьими лицами (кредиторами). Это означает, что срок исполнения обязательств по такой задолженности будет наступать позже, чем по запрашиваемому кредиту. \n\nРекомендации при отрицательном значении сигнала:\n\nПо клиенту фиксируется высокая долговая нагрузка, что может поставить под сомнение своевременность исполнения обязательств по запрашиваемому кредиту. Рекомендуется обеспечить субординацию обязательств клиента перед третьими лицами (кредиторами). Это означает, что срок исполнения обязательств по такой задолженности будет наступать позже, чем по запрашиваемому кредиту. Также рекомендуется предусмотреть дополнительную доходность при согласовании ценовых параметров. Снижением риска является в т.ч. оформление поручительства платежеспособного юридического лица.\n\n\n## 7 Текущая ликвидность (КТЛ)\n\nОписание:\nКоэффициент текущей ликвидности (Current Ratio, CR) — это финансовый показатель, который оценивает способность компании погашать краткосрочные обязательства за счет своих текущих активов.\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nЗначения выше 1,5 является достаточным запасом покрытия краткосрочных обязательств оборотными активами. \n\nРекомендации при удовлетворительном значении сигнала:\nУдовлетворительным значением является показатель выше 1, но менее 1,5. У такого клиента есть риск того, что может не хватить оборотных средств для покрытия краткосрочных обязательств. При удовлетворительном значении показателя рекомендуется предусмотреть субординацию займов от связанных компаний путем заключения межкредиторского соглашения. \n\nРекомендации при отрицательном значении сигнала:\nЗначение показателя ниже 1 свидетельствует о низком запасе ликвидности. У такого клиента есть риск того, что может не хватить оборотных средств для покрытия краткосрочных обязательств. Рекомендуется редусмотреть субординацию займов от связанных компаний путем заключения межкредиторского соглашения, оформить поручительство платежеспособных юридических лиц, дополнительный залог.\n\n\n## 8 Рентабельность бизнеса\n\nОписание:\nРентабельность деятельности — это показатель эффективности работы компании, который отражает, сколько прибыли она получает относительно своих затрат или выручки.\n\nУсловия применимости:\nПоказатель не является обязательным. Если показатель отсутствует в выводе, то анализ не производится, расчет не запрашивается.\n\nВозможные значения: \nПриемлемым значением является показатель больше нуля.\n\nРекомендации при удовлетворительном значении сигнала:\nУдовлетворительным является значение более 0. Дополнительные рекомендации отсутствуют.\n\nРекомендации при отрицательном значении сигнала:\nПоказатель меньшей нуля свидетельствует об убыточности бизнеса. Требуется построить модель движения денежных средств для проверки наличия источников погашения обязательств клиента.\n\n\n## 9 Доля чистых активов (ЧА)\n\nОписание:\nЧистые активы (ЧА) — это реальная стоимость имущества компании, принадлежащего ей на праве собственности после выплаты всех долгов. Фактически, это «собственный капитал» бизнеса, рассчитанный по данным баланса.\n\nНизкая доля чистых активов (ЧА) в валюте баланса (т.е. в общих активах компании) свидетельствует о высоком уровне финансовой зависимости от заемных средств и может указывать на несколько проблем или особенностей бизнеса.\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nПриемлемым для банка является доля чистых активов свыше 20% от совокупных активов заемщика. Отрицательное значение показателя свидетельствует о риске банкротства компании.\n\nРекомендации при удовлетворительном значении сигнала:\nЗначение больше 0%, но менее 20%. Рекомендуется оптимизировать долговую нагрузку путем включения соответствующих условий: ограничение совокупного долга, ограничение показателя долг/EBITDA на уровне не выше верхней границы стратегии \&quot;Держать\&quot;.\n\nРекомендации при отрицательном значении сигнала:\nОтрицательное значение показателя свидетельствует о риске банкротства компании. Рекомендуется отказаться от предоставления такой компании кредитных средств.\n\n\n\n\n## 10 Рейтинг\nОписание:\nРейтинг - показатель, свидетельствующий о вероятности дефолта клиента на горизонте 1 года. Чем меньше значение рейтинга, тем ниже вероятность дефолта. Например, при значении рейтинга 5 вероятность дефолта ниже, чем при значении 11. Таблица сопоставления значения рейтинга с вероятностью дефолта - ниже. Дефолт - неспособность контрагента исполнять взятые на себя обязательства.\n\nРейтинг\n\nВероятность Дефолта\n\n1\n\n0,020%\n\n2\n\n0,037%\n\n3\n\n0,051%\n\n4\n\n0,070%\n\n5\n\n0,097%\n\n6\n\n0,133%\n\n7\n\n0,184%\n\n8\n\n0,253%\n\n9\n\n0,348%\n\n10\n\n0,480%\n\n11\n\n0,660%\n\n12\n\n0,910%\n\n13\n\n1,253%\n\n14\n\n1,725%\n\n15\n\n2,375%\n\n16\n\n3,271%\n\n17\n\n4,505%\n\n18\n\n6,204%\n\n19\n\n8,543%\n\n20\n\n11,765%\n\n21\n\n16,203%\n\n22\n\n22,313%\n\n23\n\n30,728%\n\n24\n\n42,316%\n\n25\n\n58,275%\n\n26\n\n100,000%\n\nУсловия применимости:\nПоказатель анализируется по всем сделкам. \n\nВозможные значения: \nВ банке клиенту присваивается рейтинг от 1 до 26, где 26 рейтинг свидетельствует о 100% вероятности дефолта. Банк положительно смотрит на значения от 1 до 17 рейтинга.\n\nРекомендации при удовлетворительном значении сигнала:\nУдовлетворительное значение: от 18 до 22 рейтинга. При данных значениях рекомендуется оформить дополнительный залог высокой ликвидности залоговой стоимостью не менее 60% от запрашиваемых обязательств. Для компенсации повышенного кредитного риска рекомендуется закладывать дополнительную доходность при расчете процентной ставки клиенту.\n\nРекомендации при отрицательном значении сигнала:\nКлиентам с рейтингами от 25 до 26 рекомендуется отказать в предоставлении кредитных продуктов. По клиентам с рейтингом от 23 до 24 рекомендуется оформить залог, при этом залоговая стоимость должна покрывать обязательства клиента не менее, чем на 100%, дополнительно требуется оформление поручительства связанных компаний. Для компенсации повышенного кредитного риска рекомендуется закладывать дополнительную доходность при расчете процентной ставки клиенту.\n\n\n## 11 Собственный оборотный капитал (СОК)\n\nОписание:\nСобственный оборотный капитал (СОК) — это часть собственных средств компании, которая финансирует ее текущую деятельность и обеспечивает финансовую устойчивость.\n\nУсловия применимости:\nНе является обязательным показателем. В случае если значение не рассчитано, дополнительно расчет не запрашивается.\n\nВозможные значения\nПозитивным сигналом является положительное значение показателя. Если значение СОК равно или больше суммы краткосрочного финансирования, то это свидетельствует об обоснованном объеме краткосрочного финансирования.\n\nРекомендации при удовлетворительном значении сигнала:\nНет\n\nРекомендации при отрицательном значении сигнала:\nОтрицательное значение показателя свидетельствует о возможных кассовых разрывах. Рекомендуется предусмотреть субординацию краткосрочных займов со связанными компаниями, что позволит улучшить ликвидность баланса. Рекомендуется оформление поручительство платежеспособного юридического лица.\n\n## 12 ОКС - отраслевая кредитная стратегия\nОписание:\nОКС – отраслевая кредитная стратегия. Определяет взгляд банка на возможность наращивать долг по клиенту.\n\nНабор и значения показателей для определения ОКС по каждой из отраслей определяется ежегодно. \n\nУсловия применимости:\nНа текущий момент внутренние документы банка предполагают что ОКС анализируется по всем видам сделок.\n\nВозможные значения: \nСтратегия «Наращивать» - допускается прирост задолженности относительно текущего уровня. Является положительным сигналом. \n\nСтратегия «Держать» - рекомендуется сохранять портфель клиента на текущем уровне. Является положительным сигналом.\n\nСтратегия «Сокращать» - требуется сокращение портфеля клиента относительно текущего уровня. Одобрение сделки не возможно без изменения структуры сделки. После изменения структуры сделки требуется повторный расчет ОКС и оценка его значения. \n\nРекомендации при удовлетворительном значении сигнала:\n1. Снизить сумму продукта, который направлен на замещение действующего;\n\n2. Прирост задолженности при наличии обеспечения (залог/поручительство)\n\nРекомендации при отрицательном значении сигнала:\n1. Снизить сумму продукта, который направлен на замещение действующего;\n\n2. Прирост задолженности при наличии обеспечения (залог/поручительство)\n\n\n## 13 Вывод CF‑модели\nОписание:\nCF – это модель денежных потоков (сокращение от cash flow).\n\nИз АС CF формируется сигнал о достаточности потоков, формируемых за счет операционной деятельности, для погашения действующих и запрашиваемых обязательств в прогнозном периоде.\n\nУсловия применимости:\nЗапрос и анализ результатов CF проводится по определенным видам сделок. На текущий момент внутренние документы банка предполагают что CF модель строится по кредитам которые имеют длительность от 12 месяцев включительно\n\nВозможные значения: \n- Вывод 1 (англ. Conclusion_1) – модель демонстрирует достаточность источников для погашения кредита, вывод 1 является положительным и по сделке можно выносить положительное решение без изменения структуры сделки (в части параметров влияющих на CF, например сумма, срок, график платежей). \n\n- Вывод 2 (англ. Conclusion_2) – источников погашения кредита недостаточно. Одобрение сделки невозможно без изменений структуры сделки, в части параметров влияющих на CF. После изменения структуры требуется повторный расчет CF модели. \n\nРекомендации при удовлетворительном значении сигнала:\n\n\nРекомендации при отрицательном значении сигнала:\n1. Изменить сумму сделки: сократить до уровня, который позволит исполнять обязательства по кредитному портфелю клиента\n\n2. Изменить срок и график – сократить периодические платежи для обеспечения достаточности потока\n\n3. Оформить поручительство платежеспособного юридического лица, потоков которого будет достаточно для исполнения обязательств\n\n\n\n## 14 УФА (автовывод)\nОписание:\nУФА - сокр. от углубленный финансовый анализ. \n\nСигнал УФА формирует вывод о текущем финансовом положении клиента на базе расчетных показателей по бухгалтерской отчетности.\n\nУсловия применимости:\nНа текущий момент внутренние документы банка предполагают что УФА анализируется по всем видам сделок. \n\nВозможные значения: \nОценка «Хорошее» (\&quot;GOOD\&quot;) - финансовое положение клиента демонстрирует устойчивость, в т.ч. рентабельность, приемлемый уровень ликвидности, низкую зависимость от заемных ресурсов, оборачиваемость активов на уровне среднеотраслевых показателей и лучше, соответствие показателей долговой нагрузки ОКС «Держать», «Наращивать». Является положительным сигналом. \n\nОценка «Удовлетворительное» (\&quot;SAT\&quot;) - финансовое положение клиента демонстрирует относительную устойчивость, при этом отдельные показатели могут отклоняться в худшую сторону относительно пороговых значений. На текущий момент действующие ВНД банка не позволяют принимать решения по сделкам, когда финансовое положение заемщика оценено как «удовлетворительное». \n\nОценка «Неудовлетворительное» («BAD») - финансовое положение клиента оценивается как нестабильное, с возможной отрицательной динамикой, значение отдельных финансовых показателей хуже, чем среднеотраслевые, демонстрируется убыточность, высокая зависимость от кредитных ресурсов, низкая ликвидность баланса. \n\nРекомендации при удовлетворительном значении сигнала:\nНеобходимо проанализировать за счет каких показателей итоговая оценка - удовлетворительная , - применить рекомендации, связанные с отклонением того или иного показателя.\n\nРекомендации при отрицательном значении сигнала:\nФинансирование такой компании сопряжено с повышенным риском. Для минимизации риска требуется: 1. Оформить поручительство платежеспособного юридического лица, 2. Оформить залог, 3. Увеличить доходность кредитной сделки, установив повышенную процентную ставку.&lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;criteria_desc_short&quot;&gt;Описание критериев краткое (TextInput-ch50s):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;criteria_desc_short&quot; class=&quot;tall-textarea&quot;&gt;## Описание критериев анализа (актуализировано с учётом обязательности и взаимосвязей)\n\n\n### 1. Динамика бизнеса *(required = true)*\n**Описание:** \nПоказатель отражает изменения в объёмах доходов и расходов компании в ретроспективе. Оценка ведётся по трём подпоказателям: \n1.1 **Выручка LTM** — сравнение к аналогичной дате прошлого года: \n- Рост &gt; 0% — **ХОРОШО** \n- Снижение ≤ 10% при росте или сохранении EBITDA — **УДОВЛЕТВОРИТЕЛЬНО** \n- Снижение &gt; 10% или при падении EBITDA — **ПЛОХО** \n\n\n1.2 **EBITDA LTM** — сравнение к аналогичной дате прошлого года: \n- Рост &gt; 0% и EBITDA &gt; 0 — **ХОРОШО** \n- Снижение ≤ 10% и EBITDA &gt; 0 — **УДОВЛЕТВОРИТЕЛЬНО** \n- Снижение &gt; 10% и/или EBITDA ≤ 0 — **ПЛОХО** \n\n\n1.3 **Прирост квартальной выручки** — метод зависит от сезонности: \n- Рост хотя бы в одном из 2 кварталов подряд — **ХОРОШО** \n- Снижение ≤ 10% в двух кварталах подряд — **УДОВЛЕТВОРИТЕЛЬНО** \n- Снижение &gt; 10% в двух кварталах подряд — **ПЛОХО** \n\n\n**Взаимосвязи:** \n- При «УДОВЛЕТВОРИТЕЛЬНО» или «ПЛОХО» требуется построение CF-модели (критерий 13). \n- Отрицательная динамика в сочетании с низким КТЛ или высоким долгом усиливает риск. \n\n\n**Рекомендации:** \n- УДОВЛЕТВОРИТЕЛЬНО — построить модель ДДС для оценки влияния сокращения поступлений на возвратность кредита \n- ПЛОХО — построить CF-модель, проверить балансирующий кредит, оформить поручительство платёжеспособного юр. лица \n\n\n---\n\n\n### 2. Оборачиваемость запасов LTM (дни) *(required = true)*\n**Описание:** \nОтражает период обновления запасов. Сравнивается со среднеотраслевым показателем по ОКК. \n- Превышение ≤ 10% — **ХОРОШО** \n- Превышение &gt; 10% и ≤ 20% — **УДОВЛЕТВОРИТЕЛЬНО** (получить пояснения, подтвердить отсутствие неликвидов) \n- Превышение &gt; 20% — **ПЛОХО** (проверка запасов, поручительство, залог) \n\n\n**Взаимосвязи:** \n- Высокое отклонение при низком КТЛ усиливает риск. \n\n\n---\n\n\n### 3. Оборачиваемость дебиторской задолженности LTM *(required = true)*\n**Описание:** \nОтражает скорость получения оплаты. Сравнивается со среднеотраслевым по ОКК. \n- Превышение ≤ 10% — **ХОРОШО** \n- Превышение &gt; 10% и ≤ 20% — **УДОВЛЕТВОРИТЕЛЬНО** (пояснения, отсутствие просрочки) \n- Превышение &gt; 20% — **ПЛОХО** (пояснения, проверка долгов &gt;5% без движения &gt; квартал, поручительство) \n\n\n**Взаимосвязи:** \n- Высокая ДЗ при низком КТЛ усиливает риск ликвидности. \n\n\n---\n\n\n### 4. Оборачиваемость кредиторской задолженности LTM *(required = true)*\n**Описание:** \nПоказывает сроки оплаты поставщикам. \n- Отклонение ≤ 10% — **ХОРОШО** \n- Отклонение &gt; 10% и ≤ 20% — **УДОВЛЕТВОРИТЕЛЬНО** (пояснения) \n- Отклонение &gt; 20% — **ПЛОХО** (пояснения, соглашения о статусе долга, поручительство/субординация) \n\n\n---\n\n\n### 5. ICR LTM *(required = true)*\n**Описание:** \nКоэффициент покрытия процентов. \n- &gt; 1.5 — **ХОРОШО** \n- &gt; 1.0 и ≤ 1.5 — **УДОВЛЕТВОРИТЕЛЬНО** (поручительство) \n- ≤ 1.0 — **ПЛОХО** (доп. источники, поручительство) \n\n\n**Взаимосвязи:** \n- Низкий ICR при высокой долговой нагрузке усиливает риск. \n\n\n---\n\n\n### 6. Долговая нагрузка *(required = true)*\n**Описание:** \nОценивается по Чистый долг/EBITDA и Чистый долг/Выручка LTM. \n- Ниже порогового значения ОКС — **ХОРОШО** \n- В пределах допустимого диапазона — **УДОВЛЕТВОРИТЕЛЬНО** (субординация обязательств) \n- Выше верхнего порога или отрицательная EBITDA — **ПЛОХО** (субординация, доп. доходность, поручительство) \n\n\n---\n\n\n### 7. Текущая ликвидность (КТЛ) *(required = true)*\n**Описание:** \n- ≥ 1.5 — **ХОРОШО** \n- ≥ 1.0 и &lt; 1.5 — **УДОВЛЕТВОРИТЕЛЬНО** (субординация займов связанных компаний) \n- &lt; 1.0 — **ПЛОХО** (субординация, поручительство, залог) \n\n\n---\n\n\n### 8. Рентабельность бизнеса *(required = false)*\n- ≥ 0 — **ХОРОШО** \n- &lt; 0 — **ПЛОХО** (CF-модель) \n\n\n---\n\n\n### 9. Доля чистых активов (ЧА) *(required = true)*\n- ≥ 20% — **ХОРОШО** \n- &gt; 0% и &lt; 20% — **УДОВЛЕТВОРИТЕЛЬНО** (ограничение долга и долг/EBITDA) \n- ≤ 0% — **ПЛОХО** (отказ) \n\n\n---\n\n\n### 10. Рейтинг *(required = true)*\n- 1–17 — **ХОРОШО** \n- 18–22 — **УДОВЛЕТВОРИТЕЛЬНО** (доп. залог ≥ 60% суммы кредита, доп. доходность) \n- 23–24 — **ПЛОХО** (залог ≥ 100%, поручительство, доп. доходность) \n- 25–26 — **ПЛОХО** (отказ) \n\n\n---\n\n\n### 11. Собственный оборотный капитал (СОК) *(required = false)*\n- ≥ 0 — **ХОРОШО** \n- &lt; 0 — **ПЛОХО** (субординация займов, поручительство) \n\n\n---\n\n\n### 12. Соответствие сделки ОКС *(required = true)*\n- «Наращивать» или «Держать» — **ХОРОШО** \n- «Сокращать» — **ПЛОХО** (изменение структуры сделки, повторная оценка) \n\n\n---\n\n\n### 13. Вывод CF-модели *(required = true)*\n- «Вывод №1» — **ХОРОШО** \n- «Вывод №2» — **ПЛОХО** (уменьшить сумму, скорректировать срок/график, поручительство) \n\n\n---\n\n\n### 14. Кредитная история *(required = true)*\n- Нет просрочек ≥ 5 дней за последние 180 дней — **ХОРОШО** \n- 1 просрочка ≤ 5 дней — **УДОВЛЕТВОРИТЕЛЬНО** \n- ≥ 2 просрочек и/или любая &gt; 5 дней — **ПЛОХО** (поручительство, CF-модель с сезонностью) \n\n\n---\n\n\n### 15. УФА (автовывод) *(required = true)*\n- «Хорошее» — **ХОРОШО** \n- «Удовлетворительное» — **ПЛОХО** (решение не принимается, нужны меры) \n- «Неудовлетворительное» — **ПЛОХО** (автоотказ) \n\n\n---&lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;oks&quot;&gt;ОКС (TextInput-yx6GS):&lt;/label&gt;&#xa;            &lt;input type=&quot;text&quot; id=&quot;oks&quot; value=&quot;держать&quot;&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;rating&quot;&gt;Рейтинг (TextInput-VjcHx):&lt;/label&gt;&#xa;            &lt;input type=&quot;text&quot; id=&quot;rating&quot; value=&quot;25&quot;&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;ufa_output&quot;&gt;УФА вывод (TextInput-vR8A5):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;ufa_output&quot;&gt;Финансовое состояние Автовывод: Финансовое состояние, рассчитанное моделью - Хорошее Результативность (операционные результаты) - Хорошее Увеличение выручки LTM по сравнению с АППГ 10.3%. Выручка за квартал увеличивается хотя бы в одном из 2х кварталов подряд: относительно прошлого периода ((15.6)% и 24.4%) и АППГ (39.4% и 6.8%). Рентабельность EBITDA LTM составила 4.5%. Чистая прибыль 23 354 тыс. руб. Качество активов и управление ими - Удовлетворительное КТЛ 5.22, выше порогового значения 1. Оборачиваемость ДЗ LTM 9 дней - соответствует оборачиваемости большинства компаний данного ОКК (63 дней). Оборачиваемость КЗ LTM 5 дней - соответствует оборачиваемости большинства компаний данного ОКК (48 дней). Возможность исполнения обязательств - Хорошее Долг(за искл. субор. займов)/EBITDA LTM 3.39, ниже порогового значения 3.5 для данного ОКК. ICR LTM 2.94 - выше порогового значения 1.5. Доля ЧА в структуре баланса 57.8% (&gt;=20%). &lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;ufa_conclusion&quot;&gt;УФА заключение (TextInput-TCycW):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;ufa_conclusion&quot;&gt;Активы составили 353 552 тыс. руб. (+31.6% (или +84 873 тыс. руб.) к АППГ). Краткосрочные кредиты и займы составили 43 149 тыс. руб., доля в ВБ 12.2%, в АППГ отсутствуют. Анализ ОДДС за прошлый год не проводился ДЗ составила 28 299 тыс. руб. (-6.4% (или -1 925 тыс. руб.) к АППГ), доля в ВБ 8%. Выручка LTM составила 1 153 428 тыс. руб. (+9.8% (или +103 360 тыс. руб.) к АППГ).\nСОК составил 236 685 тыс. руб. (+6.8% (или +15 030 тыс. руб.) к АППГ).&lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;cashflow&quot;&gt;Cashflow (TextInput-veUql):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;cashflow&quot;&gt; Вывод №1 «Модель ДДС утверждена. Заложенные в модель структура денежных потоков и используемые предпосылки построения модели ДДС позволяют сделать вывод о возможности Контрагента исполнять свои обязательства»: риск высокий (приемлемый), риск средний, риск низкий﻿. &lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;prompt_so&quot;&gt;Промпт для SO (Prompt-G6YQg):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;prompt_so&quot; class=&quot;tall-textarea&quot;&gt;Вы — CreditDecisionAgent, экспертная система для автоматического принятия решений по онлайн-заявкам на кредит в крупном банке. \nВаша задача: провести детальный анализ каждого критерия, используя актуальные методологические требования, и выдать итоговое решение в строгом JSON-формате.\n\n\n---\n\n\n### 1. Input Data\n\n\nБлок 1 – АС УФА:\n{ufa_block}\n\n\nБлок 2 – Рейтинг:\n{rating_block}\n\n\nБлок 3 – ОКС:\n{oks_block}\n\n\nБлок 4 – Cashflow:\n{cf_block}\n\n\nБлок 6 – АС УФА (заключение):\n{ufa_block_2}\n\n\n\n---\n\n\n### 2. Criteria Definitions\n\n\n\n\n{criteria_definitions}\n\n\n---\n\n\n### 3. Core Logic\n**Custom Chain of Thought:**\nДля каждого критерия:\n- explanation: «Проверяем [Название]: значение = X, порог = Y»\n- status: «ХОРОШО», «УДОВЛЕТВОРИТЕЛЬНО» или «ПЛОХО»\n- comment: пояснение \n- has_value: true/false \n- recommendation: рекомендации \n- required: true/false \n\n\n\n\n\n**Output Format (only JSON):**\n\n{json}\n\n\n&lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;label for=&quot;prompt_report&quot;&gt;Промпт для отчета (Prompt-Y0eJl):&lt;/label&gt;&#xa;            &lt;textarea id=&quot;prompt_report&quot; class=&quot;tall-textarea&quot;&gt;Вы — старший кредитный аналитик. Преобразуй технический JSON-отчет в полное заключение для клиента, используя ВСЕ 15 критериев. Сохрани профессиональный тон, но сделай объяснения доступными.\n\n### Инструкции:\n1. Используй данные из источников:\n - Описание критериев\n - Входные данные\n - JSON-результат анализа от CreditDecisionAgent\n\n### Структура отчёта:\n**1. Итоговое решение** \n[✅ Одобрено] / [❌ Отказ] \n**Обоснование:** 1-2 предложения с главной причиной\n\n**2. Сводка финансового здоровья** \nТаблица со всеми метриками:\n| Показатель | Значение клиента | Референсное значение | Статус |\n|------------|------------------|----------------------|--------|\n| Выручка LTM | 1 153 428 тыс. руб ▲9.8% | Рост &gt;0% | ������ |\n| Рентабельность EBITDA | 4.5% ▼ | Рост &gt;0% | ������ |\n| КТЛ | 5.22 | ≥1.5 | ������ |\n| Рейтинг | 26 | ≤17 | ������ |\n| ... | ... | ... | ... |\n\n**3. Детализированный анализ по категориям** \n**A. Операционная эффективность (К1-К4)** \nДля каждого критерия:\n- Название критерия: Статус-иконка [Значение] \n • Комментарий: [Пояснение из JSON] \n • Референс: [Пороговое значение] \n • Источник: Блок [N] \n\n**B. Платёжеспособность (К5-К7)** \n[Аналогично категории A]\n\n**C. Капитализация (К8,К9,К11)** \n[Аналогично категории A]\n\n**D. Риск-профиль (К10,К12-К15)** \n[Аналогично категории A]\n\n**4. Рекомендации** \nСгруппируй предложения:\n- Корректировка условий: [Действия]\n- Дополнительное обеспечение: [Действия]\n- Аналитические требования: [Действия]\n\n**5. Заключение** \n- Сильные стороны: 3 главных позитивных фактора\n- Критические риски: Все ������-критерии с цифрами\n- Условия пересмотра: Для отказов - конкретные шаги\n\n### Требования:\n1. Для всех 15 критериев:\n • Точные значения из JSON \n • Референсные значения из описания критериев \n • Соответствие статусов (������/������/������) \n • Иконки динамики: ▲ рост ▼ снижение \n\n2. Специальные форматы:\n • Рейтинг (К10): \&quot;26 (вероятность дефолта: 100%)\&quot; \n • УФА (К15): выделить цветом + расшифровать \n • CF-модель (К13): указать тип вывода \n\n3. Визуальные обозначения:\n • ������ ХОРОШО (соответствует нормативу) \n • ������ УДОВЛЕТВОРИТЕЛЬНО (частичное соответствие) \n • ������ ПЛОХО (нарушение нормативов) \n • ✅ Без рисков | ⚠️ Требует контроля | ❌ Критично \n\n### Пример вывода критерия:\n**Динамика выручки LTM**: ������ 1 153 428 тыс. руб (▲9.8%) \n• Комментарий: Рост соответствует требованиям \n• Референс: &gt;0% рост \n• Источник: Блок 1 \n\n**УФА-заключение**: ������ Удовлетворительное \n• Комментарий: Не соответствует стандартам банка \n• Референс: Только \&quot;Хорошее\&quot; приемлемо \n• Источник: Блок 1 \n\n**Оборачиваемость ДЗ**: ������ 9 дней \n• Комментарий: Ниже отраслевого стандарта \n• Референс: ОКК = 63 дня (допуск ±10%) \n• Источник: Блок 1 &lt;/textarea&gt;&#xa;&#xa;&#xa;            &lt;button type=&quot;submit&quot;&gt;Отправить запрос&lt;/button&gt;&#xa;        &lt;/form&gt;&#xa;        &lt;div id=&quot;response&quot;&gt;&lt;/div&gt;&#xa;        &lt;div id=&quot;loading&quot; class=&quot;loading&quot; style=&quot;display: none;&quot;&gt;Загрузка...&lt;/div&gt;&#xa;    &lt;/div&gt;&#xa;&#xa;&#xa;    &lt;script&gt;&#xa;        const form = document.getElementById(&#39;apiForm&#39;);&#xa;        const responseDiv = document.getElementById(&#39;response&#39;);&#xa;        const loadingDiv = document.getElementById(&#39;loading&#39;);&#xa;&#xa;&#xa;        form.addEventListener(&#39;submit&#39;, async (e) =&gt; {&#xa;            e.preventDefault();&#xa;            loadingDiv.style.display = &#39;block&#39;;&#xa;            responseDiv.textContent = &#39;&#39;;&#xa;&#xa;&#xa;            const token = document.getElementById(&#39;token&#39;).value;&#xa;            const criteria_desc_text = document.getElementById(&#39;criteria_desc_text&#39;).value;&#xa;            const criteria_desc_short = document.getElementById(&#39;criteria_desc_short&#39;).value;&#xa;            const oks = document.getElementById(&#39;oks&#39;).value;&#xa;            const rating = document.getElementById(&#39;rating&#39;).value;&#xa;            const ufa_output = document.getElementById(&#39;ufa_output&#39;).value;&#xa;            const ufa_conclusion = document.getElementById(&#39;ufa_conclusion&#39;).value;&#xa;            const cashflow = document.getElementById(&#39;cashflow&#39;).value;&#xa;            const prompt_so = document.getElementById(&#39;prompt_so&#39;).value;&#xa;            const prompt_report = document.getElementById(&#39;prompt_report&#39;).value;&#xa;&#xa;&#xa;            const tweaks = {&#xa;                &quot;GigaChatModel-rpJk7&quot;: {&#xa;                    &quot;temperature&quot;: 0.1,&#xa;                    &quot;access_token&quot;: &quot;&quot;,&#xa;                    &quot;base_url&quot;: &quot;GIGACHAT_BASE_URL&quot;,&#xa;                    &quot;ca_bundle_file&quot;: &quot;&quot;,&#xa;                    &quot;cert_file&quot;: &quot;&quot;,&#xa;                    &quot;credentials&quot;: &quot;&quot;,&#xa;                    &quot;input_value&quot;: &quot;&quot;,&#xa;                    &quot;key_file&quot;: &quot;&quot;,&#xa;                    &quot;key_file_password&quot;: &quot;&quot;,&#xa;                    &quot;max_tokens&quot;: null,&#xa;                    &quot;model&quot;: &quot;GigaChat-Pro&quot;,&#xa;                    &quot;password&quot;: &quot;&quot;,&#xa;                    &quot;profanity_check&quot;: false,&#xa;                    &quot;scope&quot;: &quot;GIGACHAT_API_PERS&quot;,&#xa;                    &quot;some_other_param&quot;: 1,&#xa;                    &quot;stream&quot;: false,&#xa;                    &quot;system_message&quot;: &quot;&quot;,&#xa;                    &quot;timeout&quot;: 60,&#xa;                    &quot;user&quot;: &quot;&quot;,&#xa;                    &quot;verify_ssl_certs&quot;: false&#xa;                },&#xa;                &quot;ChatOutput-nQcuz&quot;: {&#xa;                    &quot;background_color&quot;: &quot;&quot;,&#xa;                    &quot;chat_icon&quot;: &quot;&quot;,&#xa;                    &quot;data_template&quot;: &quot;{text}&quot;,&#xa;                    &quot;input_value&quot;: &quot;&quot;,&#xa;                    &quot;sender&quot;: &quot;Machine&quot;,&#xa;                    &quot;sender_name&quot;: &quot;AI&quot;,&#xa;                    &quot;session_id&quot;: &quot;&quot;,&#xa;                    &quot;should_store_message&quot;: true,&#xa;                    &quot;text_color&quot;: &quot;&quot;&#xa;                },&#xa;                &quot;Prompt-G6YQg&quot;: {&#xa;                    &quot;template&quot;: prompt_so,&#xa;                    &quot;ufa_block&quot;: &quot;&quot;,&#xa;                    &quot;rating_block&quot;: &quot;&quot;,&#xa;                    &quot;oks_block&quot;: &quot;&quot;,&#xa;                    &quot;cf_block&quot;: &quot;&quot;,&#xa;                    &quot;json&quot;: &quot;&quot;,&#xa;                    &quot;ufa_block_2&quot;: &quot;&quot;,&#xa;                    &quot;criteria_definitions&quot;: &quot;&quot;&#xa;                },&#xa;                &quot;TextInput-niiBi&quot;: {&#xa;                    &quot;input_value&quot;: &quot;```json\n{\n \&quot;criteria\&quot;: [\n {\&quot;name\&quot;: \&quot;...\&quot;, \&quot;value\&quot;: \&quot;...\&quot;, \&quot;status\&quot;: \&quot;ХОРОШО/УДОВЛЕТВОРИТЕЛЬНО/ПЛОХО\&quot;, \&quot;comment\&quot;: \&quot;...\&quot;, \&quot;recommendation\&quot;: \&quot;...\&quot;, \&quot;required\&quot;: true/false, \&quot;has_value\&quot;: true/false}\n ],\n \&quot;final_decision\&quot;: \&quot;ОДОБРЕНО/ОТКАЗ\&quot;,\n \&quot;final_comment\&quot;: \&quot;...\&quot;\n}\n\n&quot;&#xa;                },&#xa;                &quot;TextInput-veUql&quot;: {&#xa;                    &quot;input_value&quot;: cashflow&#xa;                },&#xa;                &quot;TextInput-yx6GS&quot;: {&#xa;                    &quot;input_value&quot;: oks&#xa;                },&#xa;                &quot;TextInput-VjcHx&quot;: {&#xa;                    &quot;input_value&quot;: rating&#xa;                },&#xa;                &quot;TextInput-vR8A5&quot;: {&#xa;                    &quot;input_value&quot;: ufa_output&#xa;                },&#xa;                &quot;TextInput-TCycW&quot;: {&#xa;                    &quot;input_value&quot;: ufa_conclusion&#xa;                },&#xa;                &quot;TextOutput-cfRZt&quot;: {&#xa;                    &quot;input_value&quot;: &quot;&quot;&#xa;                },&#xa;                &quot;Prompt-BVcPg&quot;: {&#xa;                    &quot;template&quot;: &quot;### Описания критериев:\n\n{criteria_description}\n\n### Результат обработки:\n \n{json_output}&quot;,&#xa;                    &quot;criteria_description&quot;: &quot;&quot;,&#xa;                    &quot;json_output&quot;: &quot;&quot;&#xa;                },&#xa;                &quot;GigaChatModel-5A4AF&quot;: {&#xa;                    &quot;temperature&quot;: 0.1,&#xa;                    &quot;access_token&quot;: &quot;&quot;,&#xa;                    &quot;base_url&quot;: &quot;GIGACHAT_BASE_URL&quot;,&#xa;                    &quot;ca_bundle_file&quot;: &quot;&quot;,&#xa;                    &quot;cert_file&quot;: &quot;&quot;,&#xa;                    &quot;credentials&quot;: &quot;&quot;,&#xa;                    &quot;input_value&quot;: &quot;&quot;,&#xa;                    &quot;key_file&quot;: &quot;&quot;,&#xa;                    &quot;key_file_password&quot;: &quot;&quot;,&#xa;                    &quot;max_tokens&quot;: null,&#xa;                    &quot;model&quot;: &quot;GigaChat-2-Max&quot;,&#xa;                    &quot;password&quot;: &quot;&quot;,&#xa;                    &quot;profanity_check&quot;: false,&#xa;                    &quot;scope&quot;: &quot;GIGACHAT_API_PERS&quot;,&#xa;                    &quot;some_other_param&quot;: 1,&#xa;                    &quot;stream&quot;: false,&#xa;                    &quot;system_message&quot;: &quot;&quot;,&#xa;                    &quot;timeout&quot;: 60,&#xa;                    &quot;user&quot;: &quot;&quot;,&#xa;                    &quot;verify_ssl_certs&quot;: false&#xa;                },&#xa;                &quot;Prompt-Y0eJl&quot;: {&#xa;                    &quot;template&quot;: prompt_report&#xa;                },&#xa;                &quot;TextInput-UCeoq&quot;: {&#xa;                    &quot;input_value&quot;: criteria_desc_text&#xa;                },&#xa;                &quot;ChatInput-5oBEK&quot;: {&#xa;                    &quot;files&quot;: &quot;&quot;,&#xa;                    &quot;background_color&quot;: &quot;&quot;,&#xa;                    &quot;chat_icon&quot;: &quot;&quot;,&#xa;                    &quot;input_value&quot;: &quot;&quot;,&#xa;                    &quot;sender&quot;: &quot;User&quot;,&#xa;                    &quot;sender_name&quot;: &quot;User&quot;,&#xa;                    &quot;session_id&quot;: &quot;&quot;,&#xa;                    &quot;should_store_message&quot;: true,&#xa;                    &quot;text_color&quot;: &quot;&quot;&#xa;                },&#xa;                &quot;TextInput-ch50s&quot;: {&#xa;                    &quot;input_value&quot;: criteria_desc_short&#xa;                }&#xa;            };&#xa;&#xa;&#xa;            try {&#xa;                const res = await fetch(&#xa;                    &quot;https://agent-low-code.apps.ift-terra000016-ids.ocp.delta.sbrf.ru/api/v1/run/acf4d81e-8a1e-4ed9-8a3b-0c3af25ae4ee?stream=false&quot;,&#xa;                    {&#xa;                        method: &quot;POST&quot;,&#xa;                        headers: {&#xa;                            &quot;Authorization&quot;: `Bearer ${token}`,&#xa;                            &quot;Content-Type&quot;: &quot;application/json&quot;,&#xa;                        },&#xa;                        body: JSON.stringify({&#xa;                            output_type: &quot;chat&quot;,&#xa;                            input_type: &quot;chat&quot;,&#xa;                            tweaks: tweaks&#xa;                        }),&#xa;                    }&#xa;                );&#xa;                const data = await res.json();&#xa;                responseDiv.textContent = JSON.stringify(data, null, 2);&#xa;            } catch (error) {&#xa;                responseDiv.textContent = `Error: ${error.message}`;&#xa;            } finally {&#xa;                loadingDiv.style.display = &#39;none&#39;;&#xa;            }&#xa;        });&#xa;    &lt;/script&gt;&#xa;&lt;/body&gt;&#xa;&lt;/html&gt;" id="12LZrAYTmw1zAh_ISQ4C-1">
          <mxCell style="text;whiteSpace=wrap;" parent="1" vertex="1">
            <mxGeometry x="720" y="50" width="560" height="10130" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="# %% [markdown]&#xa;# # Классификация обращений бизнес‑пользователей в поддержку кредитного процесса&#xa;# &#xa;# **Подход:** Schema‑Guided Reasoning (SGR) + Structured Output, инкрементальная онтология категорий.&#xa;# &#xa;# Что делает ноутбук:&#xa;# 1) Загружает Excel с обращениями (колонки: `id`, `request`, `response` — переименуйте ниже, если у вас иначе).&#xa;# 2) Для каждой строки создаёт компактный контекст (вопрос+ответ), подбирает N ближайших категорий из реестра (через эмбеддинги),&#xa;# 3) Отправляет запрос к LLM с **жёсткой схемой ответа** (Pydantic) — либо сопоставляет с существующей категорией, либо создаёт новую (имя + описание + ключевые слова).&#xa;# 4) Сохраняет:&#xa;#    - присвоение категории для строки (CSV),&#xa;#    - расширенный реестр категорий (JSON),&#xa;#    - эмбеддинги для ускорения следующей итерации (встроены в JSON).&#xa;# &#xa;# ⚙️ Требования: `openai&gt;=1.40`, `pydantic&gt;=2`, `pandas`, `tqdm`, `numpy`, `scikit-learn` (для косинусной близости) &#xa;# &#xa;# ⚠️ Безопасность: модель не должна выдумывать. Все поля строго ограничены схемой. Новые категории краткие, бизнес‑язык, без PII.&#xa;&#xa;&#xa;# %%&#xa;import os&#xa;import json&#xa;import time&#xa;import math&#xa;from dataclasses import dataclass&#xa;from typing import List, Optional, Union, Literal, Dict, Any&#xa;&#xa;&#xa;import pandas as pd&#xa;import numpy as np&#xa;from pydantic import BaseModel, Field, conint, constr&#xa;from typing_extensions import Annotated&#xa;from annotated_types import MinLen, MaxLen&#xa;from tqdm import tqdm&#xa;&#xa;&#xa;# Если scikit-learn отсутствует, используем косинус вручную&#xa;try:&#xa;    from sklearn.metrics.pairwise import cosine_similarity&#xa;    def cos_sim(a: np.ndarray, b: np.ndarray) -&gt; np.ndarray:&#xa;        return cosine_similarity(a, b)&#xa;except Exception:&#xa;    def _norm(x: np.ndarray) -&gt; np.ndarray:&#xa;        n = np.linalg.norm(x, axis=1, keepdims=True) + 1e-12&#xa;        return x / n&#xa;    def cos_sim(a: np.ndarray, b: np.ndarray) -&gt; np.ndarray:&#xa;        a_n, b_n = _norm(a), _norm(b)&#xa;        return a_n @ b_n.T&#xa;&#xa;&#xa;# OpenAI SDK (см. https://pypi.org/project/openai/)&#xa;from openai import OpenAI&#xa;&#xa;&#xa;# =====================&#xa;#  НАСТРОЙКИ&#xa;# =====================&#xa;OPENAI_API_KEY = os.getenv(&quot;OPENAI_API_KEY&quot;, &quot;&quot;)  # положите ключ в переменную окружения&#xa;MODEL_CLASSIFY = os.getenv(&quot;LLM_CLASSIFY_MODEL&quot;, &quot;gpt-4o-mini&quot;)  # модель для классификации&#xa;MODEL_EMBED = os.getenv(&quot;EMBED_MODEL&quot;, &quot;text-embedding-3-small&quot;)  # эмбеддинги&#xa;&#xa;&#xa;EXCEL_PATH = &quot;./tickets.xlsx&quot;          # &lt;- поменяйте на ваш файл Excel&#xa;SHEET_NAME = 0                          # имя листа или индекс&#xa;COL_ID = &quot;id&quot;                           # имя колонки с уникальным идентификатором обращения&#xa;COL_REQ = &quot;request&quot;                      # имя колонки с текстом запроса&#xa;COL_RES = &quot;response&quot;                     # имя колонки с ответом (если есть)&#xa;&#xa;&#xa;REGISTRY_JSON = &quot;./category_registry.json&quot;   # файл онтологии категорий&#xa;ASSIGNMENTS_CSV = &quot;./assignments.csv&quot;        # файл присвоений (итоги классификации)&#xa;&#xa;&#xa;TOP_K_CANDIDATES = 12  # сколько ближайших категорий подмешивать в подсказку&#xa;TEMP = 0.2              # температура модели&#xa;MAX_TOKENS = 1500       # лимит на structured‑output ответ&#xa;BATCH_LIMIT = None      # ограничить количество строк для отладки: например 100; None = всё&#xa;&#xa;&#xa;# =====================&#xa;#  SGR: Схема ответа&#xa;# =====================&#xa;class ProposedLabel(BaseModel):&#xa;    name: constr(strip_whitespace=True, min_length=2, max_length=50)&#xa;    rationale: constr(strip_whitespace=True, min_length=5, max_length=300)&#xa;    confidence: conint(ge=0, le=100) = Field(..., description=&quot;0..100, субъективная уверенность в предложенной метке&quot;)&#xa;&#xa;&#xa;class AssignExisting(BaseModel):&#xa;    kind: Literal[&quot;existing&quot;]&#xa;    category_id: str&#xa;&#xa;&#xa;class CreateNew(BaseModel):&#xa;    kind: Literal[&quot;new&quot;]&#xa;    proposed_name: constr(strip_whitespace=True, min_length=3, max_length=40) = Field(&#xa;        ..., description=&quot;Короткое имя категории до 4 слов, без спецсимволов, на русском&quot;&#xa;    )&#xa;    description: constr(strip_whitespace=True, min_length=20, max_length=300) = Field(&#xa;        ..., description=&quot;1–2 предложения деловым языком: что это за обращения и ожидаемая обработка&quot;&#xa;    )&#xa;    keywords: Annotated[List[constr(strip_whitespace=True, min_length=2, max_length=30)], MinLen(3), MaxLen(8)]&#xa;    parent_hint: Optional[constr(strip_whitespace=True, max_length=40)] = Field(&#xa;        None, description=&quot;Необязательно: надкатегория/область (напр. &#39;Заявка&#39;, &#39;Скоринг&#39;, &#39;Документы&#39;)&quot;&#xa;    )&#xa;    duplicates_of: List[str] = Field(default_factory=list, description=&quot;Список ID близких существующих категорий, если есть&quot;)&#xa;&#xa;&#xa;class TicketClassification(BaseModel):&#xa;    # --- Cascade: нормализуем запрос ---&#xa;    normalized_problem: constr(strip_whitespace=True, min_length=10, max_length=300)&#xa;    # --- Cycle: выделим ключевые сигналы (2..5) ---&#xa;    signals_detected: Annotated[List[constr(strip_whitespace=True, min_length=2, max_length=80)], MinLen(2), MaxLen(5)]&#xa;    # --- Варианты ---&#xa;    proposed_labels: Annotated[List[ProposedLabel], MinLen(1), MaxLen(3)]&#xa;    # --- Routing: выбор ветки ---&#xa;    decision: Union[AssignExisting, CreateNew]&#xa;    # --- Контроль качества ---&#xa;    qa_consistency: Literal[&quot;ok&quot;, &quot;mismatch&quot;] = Field(..., description=&quot;Совпадает ли ответ поддержки с запросом по смыслу&quot;)&#xa;    final_confidence: conint(ge=1, le=10)&#xa;&#xa;&#xa;# =====================&#xa;# ️ Реестр категорий + эмбеддинги&#xa;# =====================&#xa;@dataclass&#xa;class Category:&#xa;    id: str&#xa;    name: str&#xa;    description: str&#xa;    keywords: List[str]&#xa;    created_at: str&#xa;    created_by: str = &quot;llm&quot;&#xa;    examples: Optional[List[str]] = None&#xa;    synonyms: Optional[List[str]] = None&#xa;    embedding: Optional[List[float]] = None&#xa;&#xa;&#xa;class CategoryRegistry:&#xa;    def __init__(self, path: str, client: OpenAI):&#xa;        self.path = path&#xa;        self.client = client&#xa;        self.schema_version = 1&#xa;        self.categories: Dict[str, Category] = {}&#xa;        if os.path.exists(path):&#xa;            self._load()&#xa;        else:&#xa;            self._save()&#xa;&#xa;&#xa;    def _load(self):&#xa;        with open(self.path, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:&#xa;            data = json.load(f)&#xa;        for c in data.get(&quot;categories&quot;, []):&#xa;            self.categories[c[&quot;id&quot;]] = Category(**c)&#xa;&#xa;&#xa;    def _save(self):&#xa;        data = {&#xa;            &quot;schema_version&quot;: self.schema_version,&#xa;            &quot;categories&quot;: [vars(c) for c in self.categories.values()],&#xa;        }&#xa;        with open(self.path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:&#xa;            json.dump(data, f, ensure_ascii=False, indent=2)&#xa;&#xa;&#xa;    def all(self) -&gt; List[Category]:&#xa;        return list(self.categories.values())&#xa;&#xa;&#xa;    def upsert(self, cat: Category):&#xa;        self.categories[cat.id] = cat&#xa;        self._save()&#xa;&#xa;&#xa;    def get_by_name(self, name_lower: str) -&gt; Optional[Category]:&#xa;        for c in self.categories.values():&#xa;            if c.name.lower() == name_lower:&#xa;                return c&#xa;        return None&#xa;&#xa;&#xa;    def ensure_embeddings(self):&#xa;        &quot;&quot;&quot;Считает эмбеддинги для тех категорий, у кого их нет.&quot;&quot;&quot;&#xa;        to_update = []&#xa;        payloads = []&#xa;        for c in self.categories.values():&#xa;            if not c.embedding:&#xa;                text = f&quot;{c.name}. {c.description}. Ключевые слова: {&#39;, &#39;.join(c.keywords)}&quot;&#xa;                payloads.append(text)&#xa;                to_update.append(c.id)&#xa;        if not payloads:&#xa;            return&#xa;        # пакетно считаем эмбеддинги&#xa;        embs = embed(payloads)&#xa;        for cid, vec in zip(to_update, embs):&#xa;            self.categories[cid].embedding = vec&#xa;        self._save()&#xa;&#xa;&#xa;    def nearest(self, text: str, top_k: int = 12) -&gt; List[Category]:&#xa;        if not self.categories:&#xa;            return []&#xa;        self.ensure_embeddings()&#xa;        matrix = np.array([c.embedding for c in self.categories.values()], dtype=np.float32)&#xa;        q = np.array(embed([text])[0], dtype=np.float32).reshape(1, -1)&#xa;        sims = cos_sim(q, matrix)[0]&#xa;        order = np.argsort(-sims)[:top_k]&#xa;        cats = list(self.categories.values())&#xa;        return [cats[i] for i in order]&#xa;&#xa;&#xa;# =====================&#xa;#  Обёртки вокруг OpenAI&#xa;# =====================&#xa;client = OpenAI(api_key=OPENAI_API_KEY) if OPENAI_API_KEY else None&#xa;&#xa;&#xa;def embed(texts: List[str]) -&gt; List[List[float]]:&#xa;    if not client:&#xa;        # Фолбэк: случайный вектор (для сухого прогона без ключа) — НЕ для продакшна&#xa;        rng = np.random.default_rng(0)&#xa;        return rng.normal(size=(len(texts), 1536)).tolist()&#xa;    resp = client.embeddings.create(model=MODEL_EMBED, input=texts)&#xa;    return [d.embedding for d in resp.data]&#xa;&#xa;&#xa;# Ретраи для классификации&#xa;class Retry:&#xa;    def __init__(self, tries=3, base=1.0):&#xa;        self.tries = tries&#xa;        self.base = base&#xa;    def __call__(self, fn):&#xa;        def wrapped(*args, **kwargs):&#xa;            exc = None&#xa;            for i in range(self.tries):&#xa;                try:&#xa;                    return fn(*args, **kwargs)&#xa;                except Exception as e:&#xa;                    exc = e&#xa;                    time.sleep(self.base * (2 ** i))&#xa;            raise exc&#xa;        return wrapped&#xa;&#xa;&#xa;@Retry(tries=4, base=1.0)&#xa;def llm_classify(case_text: str, candidate_categories: List[Category]) -&gt; TicketClassification:&#xa;    &quot;&quot;&quot;Вызывает LLM с жёсткой схемой SGR и возвращает парсенный объект.&quot;&quot;&quot;&#xa;    # Сжимаем список категорий в компактный JSON для подсказки&#xa;    cats_brief = [&#xa;        {&#xa;            &quot;id&quot;: c.id,&#xa;            &quot;name&quot;: c.name,&#xa;            &quot;description&quot;: c.description,&#xa;            &quot;keywords&quot;: c.keywords[:8],&#xa;        }&#xa;        for c in candidate_categories&#xa;    ]&#xa;&#xa;&#xa;    system = (&#xa;        &quot;Ты — классификатор обращений поддержки в банковском кредитном процессе. &quot;&#xa;        &quot;Строго следуй схеме ответа, не выходи за пределы. &quot;&#xa;        &quot;Если нет подходящей категории — создай новую краткую бизнес‑категорию. &quot;&#xa;        &quot;Избегай PII, не копируй целиком тексты клиента.&quot;&#xa;    )&#xa;    developer = (&#xa;        &quot;Полезные категории (топ‑N по близости):\n&quot; + json.dumps(cats_brief, ensure_ascii=False)&#xa;        + &quot;\nВыбирай существующую **только** если смысловое совпадение высокое.&quot;&#xa;    )&#xa;&#xa;&#xa;    messages = [&#xa;        {&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: system},&#xa;        {&quot;role&quot;: &quot;developer&quot;, &quot;content&quot;: developer},&#xa;        {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: case_text},&#xa;    ]&#xa;&#xa;&#xa;    if not client:&#xa;        # Офлайн режим (без API ключа) — имитируем создание НОВОЙ категории&#xa;        return TicketClassification(&#xa;            normalized_problem=case_text[:200],&#xa;            signals_detected=[&quot;offline&quot;, &quot;no_api_key&quot;],&#xa;            proposed_labels=[ProposedLabel(name=&quot;Тестовая категория&quot;, rationale=&quot;Фолбэк режим&quot;, confidence=10)],&#xa;            decision=CreateNew(kind=&quot;new&quot;, proposed_name=&quot;Тестовая категория&quot;, description=&quot;Пример новой категории в офлайн режиме.&quot;, keywords=[&quot;тест&quot;, &quot;пример&quot;, &quot;офлайн&quot;], parent_hint=None, duplicates_of=[]),&#xa;            qa_consistency=&quot;ok&quot;,&#xa;            final_confidence=1,&#xa;        )&#xa;&#xa;&#xa;    comp = client.beta.chat.completions.parse(&#xa;        model=MODEL_CLASSIFY,&#xa;        response_format=TicketClassification,&#xa;        messages=messages,&#xa;        max_completion_tokens=MAX_TOKENS,&#xa;        temperature=TEMP,&#xa;    )&#xa;    parsed: TicketClassification = comp.choices[0].message.parsed&#xa;    return parsed&#xa;&#xa;&#xa;# =====================&#xa;#  Утилиты&#xa;# =====================&#xa;def compact_case(request: str, response: Optional[str]) -&gt; str:&#xa;    req = (request or &quot;&quot;).strip()&#xa;    res = (response or &quot;&quot;).strip()&#xa;    text = f&quot;Запрос: {req}&quot;&#xa;    if res:&#xa;        text += f&quot;\nОтвет поддержки: {res}&quot;&#xa;    return text[:4000]  # safety&#xa;&#xa;&#xa;&#xa;&#xa;def new_category_id(existing: Dict[str, Category]) -&gt; str:&#xa;    base = 1&#xa;    if existing:&#xa;        nums = []&#xa;        for cid in existing:&#xa;            try:&#xa;                nums.append(int(cid.replace(&quot;C&quot;, &quot;&quot;)))&#xa;            except Exception:&#xa;                pass&#xa;        base = (max(nums) + 1) if nums else (len(existing) + 1)&#xa;    return f&quot;C{base:04d}&quot;&#xa;&#xa;&#xa;# =====================&#xa;# ▶️ Основной цикл&#xa;# =====================&#xa;&#xa;&#xa;def run_classification():&#xa;    if not os.path.exists(EXCEL_PATH):&#xa;        raise FileNotFoundError(f&quot;Excel не найден: {EXCEL_PATH}&quot;)&#xa;&#xa;&#xa;    df = pd.read_excel(EXCEL_PATH, sheet_name=SHEET_NAME)&#xa;    for col in [COL_ID, COL_REQ]:&#xa;        if col not in df.columns:&#xa;            raise KeyError(f&quot;Колонка &#39;{col}&#39; отсутствует в Excel&quot;)&#xa;&#xa;&#xa;    # Готовим реестр&#xa;    registry = CategoryRegistry(REGISTRY_JSON, client)&#xa;&#xa;&#xa;    # Подготовим файл присвоений&#xa;    if os.path.exists(ASSIGNMENTS_CSV):&#xa;        assignments = pd.read_csv(ASSIGNMENTS_CSV)&#xa;    else:&#xa;        assignments = pd.DataFrame(columns=[&quot;id&quot;, &quot;category_id&quot;, &quot;category_name&quot;, &quot;is_new_category&quot;, &quot;confidence_1_10&quot;, &quot;qa_consistency&quot;])    &#xa;&#xa;&#xa;    # Ограничение батча для отладки&#xa;    it_df = df if BATCH_LIMIT is None else df.head(BATCH_LIMIT)&#xa;&#xa;&#xa;    for _, row in tqdm(it_df.iterrows(), total=len(it_df)):&#xa;        rid = str(row[COL_ID])&#xa;        if (assignments[&quot;id&quot;] == rid).any():&#xa;            continue  # уже классифицировано&#xa;&#xa;&#xa;        request = str(row[COL_REQ]) if not pd.isna(row[COL_REQ]) else &quot;&quot;&#xa;        response = str(row[COL_RES]) if (COL_RES in df.columns and not pd.isna(row[COL_RES])) else &quot;&quot;&#xa;        case_text = compact_case(request, response)&#xa;&#xa;&#xa;        # 1) Подбор кандидатов&#xa;        seed_text = request + &quot;\n&quot; + response&#xa;        cand = registry.nearest(seed_text, top_k=TOP_K_CANDIDATES)&#xa;&#xa;&#xa;        # 2) Классификация по схеме SGR&#xa;        job = llm_classify(case_text, cand)&#xa;&#xa;&#xa;        # 3) Разбор решения&#xa;        is_new = False&#xa;        if isinstance(job.decision, AssignExisting):&#xa;            cid = job.decision.category_id&#xa;            cat = registry.categories.get(cid)&#xa;            if not cat:&#xa;                # страховка: если модель вернула старый id, но такой не найден — создадим новую как fallback&#xa;                is_new = True&#xa;            else:&#xa;                assignments.loc[len(assignments)] = [&#xa;                    rid, cid, cat.name, False, job.final_confidence, job.qa_consistency&#xa;                ]&#xa;                continue&#xa;&#xa;&#xa;        if isinstance(job.decision, CreateNew) or is_new:&#xa;            decide = job.decision if isinstance(job.decision, CreateNew) else None&#xa;            # Проверяем: вдруг имя совпадает с существующим (по точному имени)&#xa;            existing = registry.get_by_name(decide.proposed_name.lower()) if decide else None&#xa;            if existing:&#xa;                cid = existing.id&#xa;                cat_name = existing.name&#xa;            else:&#xa;                cid = new_category_id(registry.categories)&#xa;                cat_name = decide.proposed_name if decide else &quot;Категория без имени&quot;&#xa;                new_cat = Category(&#xa;                    id=cid,&#xa;                    name=cat_name,&#xa;                    description=(decide.description if decide else &quot;Описание не задано&quot;),&#xa;                    keywords=(decide.keywords if decide else []),&#xa;                    created_at=pd.Timestamp.utcnow().strftime(&#39;%Y-%m-%dT%H:%M:%SZ&#39;),&#xa;                    examples=[case_text[:300]],&#xa;                    synonyms=[],&#xa;                )&#xa;                registry.upsert(new_cat)&#xa;                # Сразу посчитаем эмбеддинг для новой категории — чтобы она участвовала в следующих итерациях&#xa;                registry.ensure_embeddings()&#xa;&#xa;&#xa;            assignments.loc[len(assignments)] = [&#xa;                rid, cid, cat_name, True, job.final_confidence, job.qa_consistency&#xa;            ]&#xa;&#xa;&#xa;        # Сохраняем присвоения порциями, чтобы не потерять прогресс&#xa;        if len(assignments) % 10 == 0:&#xa;            assignments.to_csv(ASSIGNMENTS_CSV, index=False)&#xa;&#xa;&#xa;    # Финальный сейв&#xa;    assignments.to_csv(ASSIGNMENTS_CSV, index=False)&#xa;&#xa;&#xa;# %%&#xa;if __name__ == &quot;__main__&quot;:&#xa;    print(&quot;Starting classification…&quot;)&#xa;    if not OPENAI_API_KEY:&#xa;        print(&quot;⚠️ Внимание: OPENAI_API_KEY не задан — будет офлайн‑эмуляция (для отладки).&quot;)&#xa;    run_classification()&#xa;    print(&quot;Готово. Проверьте файлы:&quot;)&#xa;    print(f&quot;  • Реестр категорий: {REGISTRY_JSON}&quot;)&#xa;    print(f&quot;  • Присвоения:       {ASSIGNMENTS_CSV}&quot;)" link="# %% [markdown]&#xa;# # Классификация обращений бизнес‑пользователей в поддержку кредитного процесса&#xa;# &#xa;# **Подход:** Schema‑Guided Reasoning (SGR) + Structured Output, инкрементальная онтология категорий.&#xa;# &#xa;# Что делает ноутбук:&#xa;# 1) Загружает Excel с обращениями (колонки: `id`, `request`, `response` — переименуйте ниже, если у вас иначе).&#xa;# 2) Для каждой строки создаёт компактный контекст (вопрос+ответ), подбирает N ближайших категорий из реестра (через эмбеддинги),&#xa;# 3) Отправляет запрос к LLM с **жёсткой схемой ответа** (Pydantic) — либо сопоставляет с существующей категорией, либо создаёт новую (имя + описание + ключевые слова).&#xa;# 4) Сохраняет:&#xa;#    - присвоение категории для строки (CSV),&#xa;#    - расширенный реестр категорий (JSON),&#xa;#    - эмбеддинги для ускорения следующей итерации (встроены в JSON).&#xa;# &#xa;# ⚙️ Требования: `openai&gt;=1.40`, `pydantic&gt;=2`, `pandas`, `tqdm`, `numpy`, `scikit-learn` (для косинусной близости) &#xa;# &#xa;# ⚠️ Безопасность: модель не должна выдумывать. Все поля строго ограничены схемой. Новые категории краткие, бизнес‑язык, без PII.&#xa;&#xa;&#xa;# %%&#xa;import os&#xa;import json&#xa;import time&#xa;import math&#xa;from dataclasses import dataclass&#xa;from typing import List, Optional, Union, Literal, Dict, Any&#xa;&#xa;&#xa;import pandas as pd&#xa;import numpy as np&#xa;from pydantic import BaseModel, Field, conint, constr&#xa;from typing_extensions import Annotated&#xa;from annotated_types import MinLen, MaxLen&#xa;from tqdm import tqdm&#xa;&#xa;&#xa;# Если scikit-learn отсутствует, используем косинус вручную&#xa;try:&#xa;    from sklearn.metrics.pairwise import cosine_similarity&#xa;    def cos_sim(a: np.ndarray, b: np.ndarray) -&gt; np.ndarray:&#xa;        return cosine_similarity(a, b)&#xa;except Exception:&#xa;    def _norm(x: np.ndarray) -&gt; np.ndarray:&#xa;        n = np.linalg.norm(x, axis=1, keepdims=True) + 1e-12&#xa;        return x / n&#xa;    def cos_sim(a: np.ndarray, b: np.ndarray) -&gt; np.ndarray:&#xa;        a_n, b_n = _norm(a), _norm(b)&#xa;        return a_n @ b_n.T&#xa;&#xa;&#xa;# OpenAI SDK (см. https://pypi.org/project/openai/)&#xa;from openai import OpenAI&#xa;&#xa;&#xa;# =====================&#xa;#  НАСТРОЙКИ&#xa;# =====================&#xa;OPENAI_API_KEY = os.getenv(&quot;OPENAI_API_KEY&quot;, &quot;&quot;)  # положите ключ в переменную окружения&#xa;MODEL_CLASSIFY = os.getenv(&quot;LLM_CLASSIFY_MODEL&quot;, &quot;gpt-4o-mini&quot;)  # модель для классификации&#xa;MODEL_EMBED = os.getenv(&quot;EMBED_MODEL&quot;, &quot;text-embedding-3-small&quot;)  # эмбеддинги&#xa;&#xa;&#xa;EXCEL_PATH = &quot;./tickets.xlsx&quot;          # &lt;- поменяйте на ваш файл Excel&#xa;SHEET_NAME = 0                          # имя листа или индекс&#xa;COL_ID = &quot;id&quot;                           # имя колонки с уникальным идентификатором обращения&#xa;COL_REQ = &quot;request&quot;                      # имя колонки с текстом запроса&#xa;COL_RES = &quot;response&quot;                     # имя колонки с ответом (если есть)&#xa;&#xa;&#xa;REGISTRY_JSON = &quot;./category_registry.json&quot;   # файл онтологии категорий&#xa;ASSIGNMENTS_CSV = &quot;./assignments.csv&quot;        # файл присвоений (итоги классификации)&#xa;&#xa;&#xa;TOP_K_CANDIDATES = 12  # сколько ближайших категорий подмешивать в подсказку&#xa;TEMP = 0.2              # температура модели&#xa;MAX_TOKENS = 1500       # лимит на structured‑output ответ&#xa;BATCH_LIMIT = None      # ограничить количество строк для отладки: например 100; None = всё&#xa;&#xa;&#xa;# =====================&#xa;#  SGR: Схема ответа&#xa;# =====================&#xa;class ProposedLabel(BaseModel):&#xa;    name: constr(strip_whitespace=True, min_length=2, max_length=50)&#xa;    rationale: constr(strip_whitespace=True, min_length=5, max_length=300)&#xa;    confidence: conint(ge=0, le=100) = Field(..., description=&quot;0..100, субъективная уверенность в предложенной метке&quot;)&#xa;&#xa;&#xa;class AssignExisting(BaseModel):&#xa;    kind: Literal[&quot;existing&quot;]&#xa;    category_id: str&#xa;&#xa;&#xa;class CreateNew(BaseModel):&#xa;    kind: Literal[&quot;new&quot;]&#xa;    proposed_name: constr(strip_whitespace=True, min_length=3, max_length=40) = Field(&#xa;        ..., description=&quot;Короткое имя категории до 4 слов, без спецсимволов, на русском&quot;&#xa;    )&#xa;    description: constr(strip_whitespace=True, min_length=20, max_length=300) = Field(&#xa;        ..., description=&quot;1–2 предложения деловым языком: что это за обращения и ожидаемая обработка&quot;&#xa;    )&#xa;    keywords: Annotated[List[constr(strip_whitespace=True, min_length=2, max_length=30)], MinLen(3), MaxLen(8)]&#xa;    parent_hint: Optional[constr(strip_whitespace=True, max_length=40)] = Field(&#xa;        None, description=&quot;Необязательно: надкатегория/область (напр. &#39;Заявка&#39;, &#39;Скоринг&#39;, &#39;Документы&#39;)&quot;&#xa;    )&#xa;    duplicates_of: List[str] = Field(default_factory=list, description=&quot;Список ID близких существующих категорий, если есть&quot;)&#xa;&#xa;&#xa;class TicketClassification(BaseModel):&#xa;    # --- Cascade: нормализуем запрос ---&#xa;    normalized_problem: constr(strip_whitespace=True, min_length=10, max_length=300)&#xa;    # --- Cycle: выделим ключевые сигналы (2..5) ---&#xa;    signals_detected: Annotated[List[constr(strip_whitespace=True, min_length=2, max_length=80)], MinLen(2), MaxLen(5)]&#xa;    # --- Варианты ---&#xa;    proposed_labels: Annotated[List[ProposedLabel], MinLen(1), MaxLen(3)]&#xa;    # --- Routing: выбор ветки ---&#xa;    decision: Union[AssignExisting, CreateNew]&#xa;    # --- Контроль качества ---&#xa;    qa_consistency: Literal[&quot;ok&quot;, &quot;mismatch&quot;] = Field(..., description=&quot;Совпадает ли ответ поддержки с запросом по смыслу&quot;)&#xa;    final_confidence: conint(ge=1, le=10)&#xa;&#xa;&#xa;# =====================&#xa;# ️ Реестр категорий + эмбеддинги&#xa;# =====================&#xa;@dataclass&#xa;class Category:&#xa;    id: str&#xa;    name: str&#xa;    description: str&#xa;    keywords: List[str]&#xa;    created_at: str&#xa;    created_by: str = &quot;llm&quot;&#xa;    examples: Optional[List[str]] = None&#xa;    synonyms: Optional[List[str]] = None&#xa;    embedding: Optional[List[float]] = None&#xa;&#xa;&#xa;class CategoryRegistry:&#xa;    def __init__(self, path: str, client: OpenAI):&#xa;        self.path = path&#xa;        self.client = client&#xa;        self.schema_version = 1&#xa;        self.categories: Dict[str, Category] = {}&#xa;        if os.path.exists(path):&#xa;            self._load()&#xa;        else:&#xa;            self._save()&#xa;&#xa;&#xa;    def _load(self):&#xa;        with open(self.path, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:&#xa;            data = json.load(f)&#xa;        for c in data.get(&quot;categories&quot;, []):&#xa;            self.categories[c[&quot;id&quot;]] = Category(**c)&#xa;&#xa;&#xa;    def _save(self):&#xa;        data = {&#xa;            &quot;schema_version&quot;: self.schema_version,&#xa;            &quot;categories&quot;: [vars(c) for c in self.categories.values()],&#xa;        }&#xa;        with open(self.path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:&#xa;            json.dump(data, f, ensure_ascii=False, indent=2)&#xa;&#xa;&#xa;    def all(self) -&gt; List[Category]:&#xa;        return list(self.categories.values())&#xa;&#xa;&#xa;    def upsert(self, cat: Category):&#xa;        self.categories[cat.id] = cat&#xa;        self._save()&#xa;&#xa;&#xa;    def get_by_name(self, name_lower: str) -&gt; Optional[Category]:&#xa;        for c in self.categories.values():&#xa;            if c.name.lower() == name_lower:&#xa;                return c&#xa;        return None&#xa;&#xa;&#xa;    def ensure_embeddings(self):&#xa;        &quot;&quot;&quot;Считает эмбеддинги для тех категорий, у кого их нет.&quot;&quot;&quot;&#xa;        to_update = []&#xa;        payloads = []&#xa;        for c in self.categories.values():&#xa;            if not c.embedding:&#xa;                text = f&quot;{c.name}. {c.description}. Ключевые слова: {&#39;, &#39;.join(c.keywords)}&quot;&#xa;                payloads.append(text)&#xa;                to_update.append(c.id)&#xa;        if not payloads:&#xa;            return&#xa;        # пакетно считаем эмбеддинги&#xa;        embs = embed(payloads)&#xa;        for cid, vec in zip(to_update, embs):&#xa;            self.categories[cid].embedding = vec&#xa;        self._save()&#xa;&#xa;&#xa;    def nearest(self, text: str, top_k: int = 12) -&gt; List[Category]:&#xa;        if not self.categories:&#xa;            return []&#xa;        self.ensure_embeddings()&#xa;        matrix = np.array([c.embedding for c in self.categories.values()], dtype=np.float32)&#xa;        q = np.array(embed([text])[0], dtype=np.float32).reshape(1, -1)&#xa;        sims = cos_sim(q, matrix)[0]&#xa;        order = np.argsort(-sims)[:top_k]&#xa;        cats = list(self.categories.values())&#xa;        return [cats[i] for i in order]&#xa;&#xa;&#xa;# =====================&#xa;#  Обёртки вокруг OpenAI&#xa;# =====================&#xa;client = OpenAI(api_key=OPENAI_API_KEY) if OPENAI_API_KEY else None&#xa;&#xa;&#xa;def embed(texts: List[str]) -&gt; List[List[float]]:&#xa;    if not client:&#xa;        # Фолбэк: случайный вектор (для сухого прогона без ключа) — НЕ для продакшна&#xa;        rng = np.random.default_rng(0)&#xa;        return rng.normal(size=(len(texts), 1536)).tolist()&#xa;    resp = client.embeddings.create(model=MODEL_EMBED, input=texts)&#xa;    return [d.embedding for d in resp.data]&#xa;&#xa;&#xa;# Ретраи для классификации&#xa;class Retry:&#xa;    def __init__(self, tries=3, base=1.0):&#xa;        self.tries = tries&#xa;        self.base = base&#xa;    def __call__(self, fn):&#xa;        def wrapped(*args, **kwargs):&#xa;            exc = None&#xa;            for i in range(self.tries):&#xa;                try:&#xa;                    return fn(*args, **kwargs)&#xa;                except Exception as e:&#xa;                    exc = e&#xa;                    time.sleep(self.base * (2 ** i))&#xa;            raise exc&#xa;        return wrapped&#xa;&#xa;&#xa;@Retry(tries=4, base=1.0)&#xa;def llm_classify(case_text: str, candidate_categories: List[Category]) -&gt; TicketClassification:&#xa;    &quot;&quot;&quot;Вызывает LLM с жёсткой схемой SGR и возвращает парсенный объект.&quot;&quot;&quot;&#xa;    # Сжимаем список категорий в компактный JSON для подсказки&#xa;    cats_brief = [&#xa;        {&#xa;            &quot;id&quot;: c.id,&#xa;            &quot;name&quot;: c.name,&#xa;            &quot;description&quot;: c.description,&#xa;            &quot;keywords&quot;: c.keywords[:8],&#xa;        }&#xa;        for c in candidate_categories&#xa;    ]&#xa;&#xa;&#xa;    system = (&#xa;        &quot;Ты — классификатор обращений поддержки в банковском кредитном процессе. &quot;&#xa;        &quot;Строго следуй схеме ответа, не выходи за пределы. &quot;&#xa;        &quot;Если нет подходящей категории — создай новую краткую бизнес‑категорию. &quot;&#xa;        &quot;Избегай PII, не копируй целиком тексты клиента.&quot;&#xa;    )&#xa;    developer = (&#xa;        &quot;Полезные категории (топ‑N по близости):\n&quot; + json.dumps(cats_brief, ensure_ascii=False)&#xa;        + &quot;\nВыбирай существующую **только** если смысловое совпадение высокое.&quot;&#xa;    )&#xa;&#xa;&#xa;    messages = [&#xa;        {&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: system},&#xa;        {&quot;role&quot;: &quot;developer&quot;, &quot;content&quot;: developer},&#xa;        {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: case_text},&#xa;    ]&#xa;&#xa;&#xa;    if not client:&#xa;        # Офлайн режим (без API ключа) — имитируем создание НОВОЙ категории&#xa;        return TicketClassification(&#xa;            normalized_problem=case_text[:200],&#xa;            signals_detected=[&quot;offline&quot;, &quot;no_api_key&quot;],&#xa;            proposed_labels=[ProposedLabel(name=&quot;Тестовая категория&quot;, rationale=&quot;Фолбэк режим&quot;, confidence=10)],&#xa;            decision=CreateNew(kind=&quot;new&quot;, proposed_name=&quot;Тестовая категория&quot;, description=&quot;Пример новой категории в офлайн режиме.&quot;, keywords=[&quot;тест&quot;, &quot;пример&quot;, &quot;офлайн&quot;], parent_hint=None, duplicates_of=[]),&#xa;            qa_consistency=&quot;ok&quot;,&#xa;            final_confidence=1,&#xa;        )&#xa;&#xa;&#xa;    comp = client.beta.chat.completions.parse(&#xa;        model=MODEL_CLASSIFY,&#xa;        response_format=TicketClassification,&#xa;        messages=messages,&#xa;        max_completion_tokens=MAX_TOKENS,&#xa;        temperature=TEMP,&#xa;    )&#xa;    parsed: TicketClassification = comp.choices[0].message.parsed&#xa;    return parsed&#xa;&#xa;&#xa;# =====================&#xa;#  Утилиты&#xa;# =====================&#xa;def compact_case(request: str, response: Optional[str]) -&gt; str:&#xa;    req = (request or &quot;&quot;).strip()&#xa;    res = (response or &quot;&quot;).strip()&#xa;    text = f&quot;Запрос: {req}&quot;&#xa;    if res:&#xa;        text += f&quot;\nОтвет поддержки: {res}&quot;&#xa;    return text[:4000]  # safety&#xa;&#xa;&#xa;&#xa;&#xa;def new_category_id(existing: Dict[str, Category]) -&gt; str:&#xa;    base = 1&#xa;    if existing:&#xa;        nums = []&#xa;        for cid in existing:&#xa;            try:&#xa;                nums.append(int(cid.replace(&quot;C&quot;, &quot;&quot;)))&#xa;            except Exception:&#xa;                pass&#xa;        base = (max(nums) + 1) if nums else (len(existing) + 1)&#xa;    return f&quot;C{base:04d}&quot;&#xa;&#xa;&#xa;# =====================&#xa;# ▶️ Основной цикл&#xa;# =====================&#xa;&#xa;&#xa;def run_classification():&#xa;    if not os.path.exists(EXCEL_PATH):&#xa;        raise FileNotFoundError(f&quot;Excel не найден: {EXCEL_PATH}&quot;)&#xa;&#xa;&#xa;    df = pd.read_excel(EXCEL_PATH, sheet_name=SHEET_NAME)&#xa;    for col in [COL_ID, COL_REQ]:&#xa;        if col not in df.columns:&#xa;            raise KeyError(f&quot;Колонка &#39;{col}&#39; отсутствует в Excel&quot;)&#xa;&#xa;&#xa;    # Готовим реестр&#xa;    registry = CategoryRegistry(REGISTRY_JSON, client)&#xa;&#xa;&#xa;    # Подготовим файл присвоений&#xa;    if os.path.exists(ASSIGNMENTS_CSV):&#xa;        assignments = pd.read_csv(ASSIGNMENTS_CSV)&#xa;    else:&#xa;        assignments = pd.DataFrame(columns=[&quot;id&quot;, &quot;category_id&quot;, &quot;category_name&quot;, &quot;is_new_category&quot;, &quot;confidence_1_10&quot;, &quot;qa_consistency&quot;])    &#xa;&#xa;&#xa;    # Ограничение батча для отладки&#xa;    it_df = df if BATCH_LIMIT is None else df.head(BATCH_LIMIT)&#xa;&#xa;&#xa;    for _, row in tqdm(it_df.iterrows(), total=len(it_df)):&#xa;        rid = str(row[COL_ID])&#xa;        if (assignments[&quot;id&quot;] == rid).any():&#xa;            continue  # уже классифицировано&#xa;&#xa;&#xa;        request = str(row[COL_REQ]) if not pd.isna(row[COL_REQ]) else &quot;&quot;&#xa;        response = str(row[COL_RES]) if (COL_RES in df.columns and not pd.isna(row[COL_RES])) else &quot;&quot;&#xa;        case_text = compact_case(request, response)&#xa;&#xa;&#xa;        # 1) Подбор кандидатов&#xa;        seed_text = request + &quot;\n&quot; + response&#xa;        cand = registry.nearest(seed_text, top_k=TOP_K_CANDIDATES)&#xa;&#xa;&#xa;        # 2) Классификация по схеме SGR&#xa;        job = llm_classify(case_text, cand)&#xa;&#xa;&#xa;        # 3) Разбор решения&#xa;        is_new = False&#xa;        if isinstance(job.decision, AssignExisting):&#xa;            cid = job.decision.category_id&#xa;            cat = registry.categories.get(cid)&#xa;            if not cat:&#xa;                # страховка: если модель вернула старый id, но такой не найден — создадим новую как fallback&#xa;                is_new = True&#xa;            else:&#xa;                assignments.loc[len(assignments)] = [&#xa;                    rid, cid, cat.name, False, job.final_confidence, job.qa_consistency&#xa;                ]&#xa;                continue&#xa;&#xa;&#xa;        if isinstance(job.decision, CreateNew) or is_new:&#xa;            decide = job.decision if isinstance(job.decision, CreateNew) else None&#xa;            # Проверяем: вдруг имя совпадает с существующим (по точному имени)&#xa;            existing = registry.get_by_name(decide.proposed_name.lower()) if decide else None&#xa;            if existing:&#xa;                cid = existing.id&#xa;                cat_name = existing.name&#xa;            else:&#xa;                cid = new_category_id(registry.categories)&#xa;                cat_name = decide.proposed_name if decide else &quot;Категория без имени&quot;&#xa;                new_cat = Category(&#xa;                    id=cid,&#xa;                    name=cat_name,&#xa;                    description=(decide.description if decide else &quot;Описание не задано&quot;),&#xa;                    keywords=(decide.keywords if decide else []),&#xa;                    created_at=pd.Timestamp.utcnow().strftime(&#39;%Y-%m-%dT%H:%M:%SZ&#39;),&#xa;                    examples=[case_text[:300]],&#xa;                    synonyms=[],&#xa;                )&#xa;                registry.upsert(new_cat)&#xa;                # Сразу посчитаем эмбеддинг для новой категории — чтобы она участвовала в следующих итерациях&#xa;                registry.ensure_embeddings()&#xa;&#xa;&#xa;            assignments.loc[len(assignments)] = [&#xa;                rid, cid, cat_name, True, job.final_confidence, job.qa_consistency&#xa;            ]&#xa;&#xa;&#xa;        # Сохраняем присвоения порциями, чтобы не потерять прогресс&#xa;        if len(assignments) % 10 == 0:&#xa;            assignments.to_csv(ASSIGNMENTS_CSV, index=False)&#xa;&#xa;&#xa;    # Финальный сейв&#xa;    assignments.to_csv(ASSIGNMENTS_CSV, index=False)&#xa;&#xa;&#xa;# %%&#xa;if __name__ == &quot;__main__&quot;:&#xa;    print(&quot;Starting classification…&quot;)&#xa;    if not OPENAI_API_KEY:&#xa;        print(&quot;⚠️ Внимание: OPENAI_API_KEY не задан — будет офлайн‑эмуляция (для отладки).&quot;)&#xa;    run_classification()&#xa;    print(&quot;Готово. Проверьте файлы:&quot;)&#xa;    print(f&quot;  • Реестр категорий: {REGISTRY_JSON}&quot;)&#xa;    print(f&quot;  • Присвоения:       {ASSIGNMENTS_CSV}&quot;)" id="ntieQa3HnKI0EJcjRLTN-1">
          <mxCell style="text;whiteSpace=wrap;" vertex="1" parent="1">
            <mxGeometry x="130" y="460" width="560" height="6730" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="# %% [markdown]&#xa;# # Классификация обращений бизнес‑пользователей в поддержку кредитного процесса&#xa;# &#xa;# **Подход:** Schema‑Guided Reasoning (SGR) + Structured Output, инкрементальная онтология категорий.&#xa;# &#xa;# Что делает ноутбук:&#xa;# 1) Загружает Excel с обращениями (колонки: `id`, `request`, `response` — переименуйте ниже, если у вас иначе).&#xa;# 2) Для каждой строки создаёт компактный контекст (вопрос+ответ), подбирает N ближайших категорий из реестра (через эмбеддинги),&#xa;# 3) Отправляет запрос к LLM с **жёсткой схемой ответа** (Pydantic) — либо сопоставляет с существующей категорией, либо создаёт новую (имя + описание + ключевые слова).&#xa;# 4) Сохраняет:&#xa;#    - присвоение категории для строки (CSV),&#xa;#    - расширенный реестр категорий (JSON),&#xa;#    - эмбеддинги для ускорения следующей итерации (встроены в JSON).&#xa;# &#xa;# ⚙️ Требования: `openai&gt;=1.40`, `pydantic&gt;=2`, `pandas`, `tqdm`, `numpy`, `scikit-learn` (для косинусной близости) &#xa;# &#xa;# ⚠️ Безопасность: модель не должна выдумывать. Все поля строго ограничены схемой. Новые категории краткие, бизнес‑язык, без PII.&#xa;&#xa;&#xa;# %%&#xa;import os&#xa;import json&#xa;import time&#xa;import math&#xa;from dataclasses import dataclass&#xa;from typing import List, Optional, Union, Literal, Dict, Any&#xa;&#xa;&#xa;import pandas as pd&#xa;import numpy as np&#xa;from pydantic import BaseModel, Field, conint, constr&#xa;from typing_extensions import Annotated&#xa;from annotated_types import MinLen, MaxLen&#xa;from tqdm import tqdm&#xa;&#xa;&#xa;# Если scikit-learn отсутствует, используем косинус вручную&#xa;try:&#xa;    from sklearn.metrics.pairwise import cosine_similarity&#xa;    def cos_sim(a: np.ndarray, b: np.ndarray) -&gt; np.ndarray:&#xa;        return cosine_similarity(a, b)&#xa;except Exception:&#xa;    def _norm(x: np.ndarray) -&gt; np.ndarray:&#xa;        n = np.linalg.norm(x, axis=1, keepdims=True) + 1e-12&#xa;        return x / n&#xa;    def cos_sim(a: np.ndarray, b: np.ndarray) -&gt; np.ndarray:&#xa;        a_n, b_n = _norm(a), _norm(b)&#xa;        return a_n @ b_n.T&#xa;&#xa;&#xa;# OpenAI SDK (см. https://pypi.org/project/openai/)&#xa;from openai import OpenAI&#xa;&#xa;&#xa;# =====================&#xa;#  НАСТРОЙКИ&#xa;# =====================&#xa;OPENAI_API_KEY = os.getenv(&quot;OPENAI_API_KEY&quot;, &quot;&quot;)  # положите ключ в переменную окружения&#xa;MODEL_CLASSIFY = os.getenv(&quot;LLM_CLASSIFY_MODEL&quot;, &quot;gpt-4o-mini&quot;)  # модель для классификации&#xa;MODEL_EMBED = os.getenv(&quot;EMBED_MODEL&quot;, &quot;text-embedding-3-small&quot;)  # эмбеддинги&#xa;&#xa;&#xa;EXCEL_PATH = &quot;./tickets.xlsx&quot;          # &lt;- поменяйте на ваш файл Excel&#xa;SHEET_NAME = 0                          # имя листа или индекс&#xa;COL_ID = &quot;id&quot;                           # имя колонки с уникальным идентификатором обращения&#xa;COL_REQ = &quot;request&quot;                      # имя колонки с текстом запроса&#xa;COL_RES = &quot;response&quot;                     # имя колонки с ответом (если есть)&#xa;&#xa;&#xa;REGISTRY_JSON = &quot;./category_registry.json&quot;   # файл онтологии категорий&#xa;ASSIGNMENTS_CSV = &quot;./assignments.csv&quot;        # файл присвоений (итоги классификации)&#xa;&#xa;&#xa;TOP_K_CANDIDATES = 12  # сколько ближайших категорий подмешивать в подсказку&#xa;TEMP = 0.2              # температура модели&#xa;MAX_TOKENS = 1500       # лимит на structured‑output ответ&#xa;BATCH_LIMIT = None      # ограничить количество строк для отладки: например 100; None = всё&#xa;&#xa;&#xa;# =====================&#xa;#  SGR: Схема ответа&#xa;# =====================&#xa;class ProposedLabel(BaseModel):&#xa;    name: constr(strip_whitespace=True, min_length=2, max_length=50)&#xa;    rationale: constr(strip_whitespace=True, min_length=5, max_length=300)&#xa;    confidence: conint(ge=0, le=100) = Field(..., description=&quot;0..100, субъективная уверенность в предложенной метке&quot;)&#xa;&#xa;&#xa;class AssignExisting(BaseModel):&#xa;    kind: Literal[&quot;existing&quot;]&#xa;    category_id: str&#xa;&#xa;&#xa;class CreateNew(BaseModel):&#xa;    kind: Literal[&quot;new&quot;]&#xa;    proposed_name: constr(strip_whitespace=True, min_length=3, max_length=40) = Field(&#xa;        ..., description=&quot;Короткое имя категории до 4 слов, без спецсимволов, на русском&quot;&#xa;    )&#xa;    description: constr(strip_whitespace=True, min_length=20, max_length=300) = Field(&#xa;        ..., description=&quot;1–2 предложения деловым языком: что это за обращения и ожидаемая обработка&quot;&#xa;    )&#xa;    keywords: Annotated[List[constr(strip_whitespace=True, min_length=2, max_length=30)], MinLen(3), MaxLen(8)]&#xa;    parent_hint: Optional[constr(strip_whitespace=True, max_length=40)] = Field(&#xa;        None, description=&quot;Необязательно: надкатегория/область (напр. &#39;Заявка&#39;, &#39;Скоринг&#39;, &#39;Документы&#39;)&quot;&#xa;    )&#xa;    duplicates_of: List[str] = Field(default_factory=list, description=&quot;Список ID близких существующих категорий, если есть&quot;)&#xa;&#xa;&#xa;class TicketClassification(BaseModel):&#xa;    # --- Cascade: нормализуем запрос ---&#xa;    normalized_problem: constr(strip_whitespace=True, min_length=10, max_length=300)&#xa;    # --- Cycle: выделим ключевые сигналы (2..5) ---&#xa;    signals_detected: Annotated[List[constr(strip_whitespace=True, min_length=2, max_length=80)], MinLen(2), MaxLen(5)]&#xa;    # --- Варианты ---&#xa;    proposed_labels: Annotated[List[ProposedLabel], MinLen(1), MaxLen(3)]&#xa;    # --- Routing: выбор ветки ---&#xa;    decision: Union[AssignExisting, CreateNew]&#xa;    # --- Контроль качества ---&#xa;    qa_consistency: Literal[&quot;ok&quot;, &quot;mismatch&quot;] = Field(..., description=&quot;Совпадает ли ответ поддержки с запросом по смыслу&quot;)&#xa;    final_confidence: conint(ge=1, le=10)&#xa;&#xa;&#xa;# =====================&#xa;# ️ Реестр категорий + эмбеддинги&#xa;# =====================&#xa;@dataclass&#xa;class Category:&#xa;    id: str&#xa;    name: str&#xa;    description: str&#xa;    keywords: List[str]&#xa;    created_at: str&#xa;    created_by: str = &quot;llm&quot;&#xa;    examples: Optional[List[str]] = None&#xa;    synonyms: Optional[List[str]] = None&#xa;    embedding: Optional[List[float]] = None&#xa;&#xa;&#xa;class CategoryRegistry:&#xa;    def __init__(self, path: str, client: OpenAI):&#xa;        self.path = path&#xa;        self.client = client&#xa;        self.schema_version = 1&#xa;        self.categories: Dict[str, Category] = {}&#xa;        if os.path.exists(path):&#xa;            self._load()&#xa;        else:&#xa;            self._save()&#xa;&#xa;&#xa;    def _load(self):&#xa;        with open(self.path, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:&#xa;            data = json.load(f)&#xa;        for c in data.get(&quot;categories&quot;, []):&#xa;            self.categories[c[&quot;id&quot;]] = Category(**c)&#xa;&#xa;&#xa;    def _save(self):&#xa;        data = {&#xa;            &quot;schema_version&quot;: self.schema_version,&#xa;            &quot;categories&quot;: [vars(c) for c in self.categories.values()],&#xa;        }&#xa;        with open(self.path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:&#xa;            json.dump(data, f, ensure_ascii=False, indent=2)&#xa;&#xa;&#xa;    def all(self) -&gt; List[Category]:&#xa;        return list(self.categories.values())&#xa;&#xa;&#xa;    def upsert(self, cat: Category):&#xa;        self.categories[cat.id] = cat&#xa;        self._save()&#xa;&#xa;&#xa;    def get_by_name(self, name_lower: str) -&gt; Optional[Category]:&#xa;        for c in self.categories.values():&#xa;            if c.name.lower() == name_lower:&#xa;                return c&#xa;        return None&#xa;&#xa;&#xa;    def ensure_embeddings(self):&#xa;        &quot;&quot;&quot;Считает эмбеддинги для тех категорий, у кого их нет.&quot;&quot;&quot;&#xa;        to_update = []&#xa;        payloads = []&#xa;        for c in self.categories.values():&#xa;            if not c.embedding:&#xa;                text = f&quot;{c.name}. {c.description}. Ключевые слова: {&#39;, &#39;.join(c.keywords)}&quot;&#xa;                payloads.append(text)&#xa;                to_update.append(c.id)&#xa;        if not payloads:&#xa;            return&#xa;        # пакетно считаем эмбеддинги&#xa;        embs = embed(payloads)&#xa;        for cid, vec in zip(to_update, embs):&#xa;            self.categories[cid].embedding = vec&#xa;        self._save()&#xa;&#xa;&#xa;    def nearest(self, text: str, top_k: int = 12) -&gt; List[Category]:&#xa;        if not self.categories:&#xa;            return []&#xa;        self.ensure_embeddings()&#xa;        matrix = np.array([c.embedding for c in self.categories.values()], dtype=np.float32)&#xa;        q = np.array(embed([text])[0], dtype=np.float32).reshape(1, -1)&#xa;        sims = cos_sim(q, matrix)[0]&#xa;        order = np.argsort(-sims)[:top_k]&#xa;        cats = list(self.categories.values())&#xa;        return [cats[i] for i in order]&#xa;&#xa;&#xa;# =====================&#xa;#  Обёртки вокруг OpenAI&#xa;# =====================&#xa;client = OpenAI(api_key=OPENAI_API_KEY) if OPENAI_API_KEY else None&#xa;&#xa;&#xa;def embed(texts: List[str]) -&gt; List[List[float]]:&#xa;    if not client:&#xa;        # Фолбэк: случайный вектор (для сухого прогона без ключа) — НЕ для продакшна&#xa;        rng = np.random.default_rng(0)&#xa;        return rng.normal(size=(len(texts), 1536)).tolist()&#xa;    resp = client.embeddings.create(model=MODEL_EMBED, input=texts)&#xa;    return [d.embedding for d in resp.data]&#xa;&#xa;&#xa;# Ретраи для классификации&#xa;class Retry:&#xa;    def __init__(self, tries=3, base=1.0):&#xa;        self.tries = tries&#xa;        self.base = base&#xa;    def __call__(self, fn):&#xa;        def wrapped(*args, **kwargs):&#xa;            exc = None&#xa;            for i in range(self.tries):&#xa;                try:&#xa;                    return fn(*args, **kwargs)&#xa;                except Exception as e:&#xa;                    exc = e&#xa;                    time.sleep(self.base * (2 ** i))&#xa;            raise exc&#xa;        return wrapped&#xa;&#xa;&#xa;@Retry(tries=4, base=1.0)&#xa;def llm_classify(case_text: str, candidate_categories: List[Category]) -&gt; TicketClassification:&#xa;    &quot;&quot;&quot;Вызывает LLM с жёсткой схемой SGR и возвращает парсенный объект.&quot;&quot;&quot;&#xa;    # Сжимаем список категорий в компактный JSON для подсказки&#xa;    cats_brief = [&#xa;        {&#xa;            &quot;id&quot;: c.id,&#xa;            &quot;name&quot;: c.name,&#xa;            &quot;description&quot;: c.description,&#xa;            &quot;keywords&quot;: c.keywords[:8],&#xa;        }&#xa;        for c in candidate_categories&#xa;    ]&#xa;&#xa;&#xa;    system = (&#xa;        &quot;Ты — классификатор обращений поддержки в банковском кредитном процессе. &quot;&#xa;        &quot;Строго следуй схеме ответа, не выходи за пределы. &quot;&#xa;        &quot;Если нет подходящей категории — создай новую краткую бизнес‑категорию. &quot;&#xa;        &quot;Избегай PII, не копируй целиком тексты клиента.&quot;&#xa;    )&#xa;    developer = (&#xa;        &quot;Полезные категории (топ‑N по близости):\n&quot; + json.dumps(cats_brief, ensure_ascii=False)&#xa;        + &quot;\nВыбирай существующую **только** если смысловое совпадение высокое.&quot;&#xa;    )&#xa;&#xa;&#xa;    messages = [&#xa;        {&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: system},&#xa;        {&quot;role&quot;: &quot;developer&quot;, &quot;content&quot;: developer},&#xa;        {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: case_text},&#xa;    ]&#xa;&#xa;&#xa;    if not client:&#xa;        # Офлайн режим (без API ключа) — имитируем создание НОВОЙ категории&#xa;        return TicketClassification(&#xa;            normalized_problem=case_text[:200],&#xa;            signals_detected=[&quot;offline&quot;, &quot;no_api_key&quot;],&#xa;            proposed_labels=[ProposedLabel(name=&quot;Тестовая категория&quot;, rationale=&quot;Фолбэк режим&quot;, confidence=10)],&#xa;            decision=CreateNew(kind=&quot;new&quot;, proposed_name=&quot;Тестовая категория&quot;, description=&quot;Пример новой категории в офлайн режиме.&quot;, keywords=[&quot;тест&quot;, &quot;пример&quot;, &quot;офлайн&quot;], parent_hint=None, duplicates_of=[]),&#xa;            qa_consistency=&quot;ok&quot;,&#xa;            final_confidence=1,&#xa;        )&#xa;&#xa;&#xa;    comp = client.beta.chat.completions.parse(&#xa;        model=MODEL_CLASSIFY,&#xa;        response_format=TicketClassification,&#xa;        messages=messages,&#xa;        max_completion_tokens=MAX_TOKENS,&#xa;        temperature=TEMP,&#xa;    )&#xa;    parsed: TicketClassification = comp.choices[0].message.parsed&#xa;    return parsed&#xa;&#xa;&#xa;# =====================&#xa;#  Утилиты&#xa;# =====================&#xa;def compact_case(request: str, response: Optional[str]) -&gt; str:&#xa;    req = (request or &quot;&quot;).strip()&#xa;    res = (response or &quot;&quot;).strip()&#xa;    text = f&quot;Запрос: {req}&quot;&#xa;    if res:&#xa;        text += f&quot;\nОтвет поддержки: {res}&quot;&#xa;    return text[:4000]  # safety&#xa;&#xa;&#xa;&#xa;&#xa;def new_category_id(existing: Dict[str, Category]) -&gt; str:&#xa;    base = 1&#xa;    if existing:&#xa;        nums = []&#xa;        for cid in existing:&#xa;            try:&#xa;                nums.append(int(cid.replace(&quot;C&quot;, &quot;&quot;)))&#xa;            except Exception:&#xa;                pass&#xa;        base = (max(nums) + 1) if nums else (len(existing) + 1)&#xa;    return f&quot;C{base:04d}&quot;&#xa;&#xa;&#xa;# =====================&#xa;# ▶️ Основной цикл&#xa;# =====================&#xa;&#xa;&#xa;def run_classification():&#xa;    if not os.path.exists(EXCEL_PATH):&#xa;        raise FileNotFoundError(f&quot;Excel не найден: {EXCEL_PATH}&quot;)&#xa;&#xa;&#xa;    df = pd.read_excel(EXCEL_PATH, sheet_name=SHEET_NAME)&#xa;    for col in [COL_ID, COL_REQ]:&#xa;        if col not in df.columns:&#xa;            raise KeyError(f&quot;Колонка &#39;{col}&#39; отсутствует в Excel&quot;)&#xa;&#xa;&#xa;    # Готовим реестр&#xa;    registry = CategoryRegistry(REGISTRY_JSON, client)&#xa;&#xa;&#xa;    # Подготовим файл присвоений&#xa;    if os.path.exists(ASSIGNMENTS_CSV):&#xa;        assignments = pd.read_csv(ASSIGNMENTS_CSV)&#xa;    else:&#xa;        assignments = pd.DataFrame(columns=[&quot;id&quot;, &quot;category_id&quot;, &quot;category_name&quot;, &quot;is_new_category&quot;, &quot;confidence_1_10&quot;, &quot;qa_consistency&quot;])    &#xa;&#xa;&#xa;    # Ограничение батча для отладки&#xa;    it_df = df if BATCH_LIMIT is None else df.head(BATCH_LIMIT)&#xa;&#xa;&#xa;    for _, row in tqdm(it_df.iterrows(), total=len(it_df)):&#xa;        rid = str(row[COL_ID])&#xa;        if (assignments[&quot;id&quot;] == rid).any():&#xa;            continue  # уже классифицировано&#xa;&#xa;&#xa;        request = str(row[COL_REQ]) if not pd.isna(row[COL_REQ]) else &quot;&quot;&#xa;        response = str(row[COL_RES]) if (COL_RES in df.columns and not pd.isna(row[COL_RES])) else &quot;&quot;&#xa;        case_text = compact_case(request, response)&#xa;&#xa;&#xa;        # 1) Подбор кандидатов&#xa;        seed_text = request + &quot;\n&quot; + response&#xa;        cand = registry.nearest(seed_text, top_k=TOP_K_CANDIDATES)&#xa;&#xa;&#xa;        # 2) Классификация по схеме SGR&#xa;        job = llm_classify(case_text, cand)&#xa;&#xa;&#xa;        # 3) Разбор решения&#xa;        is_new = False&#xa;        if isinstance(job.decision, AssignExisting):&#xa;            cid = job.decision.category_id&#xa;            cat = registry.categories.get(cid)&#xa;            if not cat:&#xa;                # страховка: если модель вернула старый id, но такой не найден — создадим новую как fallback&#xa;                is_new = True&#xa;            else:&#xa;                assignments.loc[len(assignments)] = [&#xa;                    rid, cid, cat.name, False, job.final_confidence, job.qa_consistency&#xa;                ]&#xa;                continue&#xa;&#xa;&#xa;        if isinstance(job.decision, CreateNew) or is_new:&#xa;            decide = job.decision if isinstance(job.decision, CreateNew) else None&#xa;            # Проверяем: вдруг имя совпадает с существующим (по точному имени)&#xa;            existing = registry.get_by_name(decide.proposed_name.lower()) if decide else None&#xa;            if existing:&#xa;                cid = existing.id&#xa;                cat_name = existing.name&#xa;            else:&#xa;                cid = new_category_id(registry.categories)&#xa;                cat_name = decide.proposed_name if decide else &quot;Категория без имени&quot;&#xa;                new_cat = Category(&#xa;                    id=cid,&#xa;                    name=cat_name,&#xa;                    description=(decide.description if decide else &quot;Описание не задано&quot;),&#xa;                    keywords=(decide.keywords if decide else []),&#xa;                    created_at=pd.Timestamp.utcnow().strftime(&#39;%Y-%m-%dT%H:%M:%SZ&#39;),&#xa;                    examples=[case_text[:300]],&#xa;                    synonyms=[],&#xa;                )&#xa;                registry.upsert(new_cat)&#xa;                # Сразу посчитаем эмбеддинг для новой категории — чтобы она участвовала в следующих итерациях&#xa;                registry.ensure_embeddings()&#xa;&#xa;&#xa;            assignments.loc[len(assignments)] = [&#xa;                rid, cid, cat_name, True, job.final_confidence, job.qa_consistency&#xa;            ]&#xa;&#xa;&#xa;        # Сохраняем присвоения порциями, чтобы не потерять прогресс&#xa;        if len(assignments) % 10 == 0:&#xa;            assignments.to_csv(ASSIGNMENTS_CSV, index=False)&#xa;&#xa;&#xa;    # Финальный сейв&#xa;    assignments.to_csv(ASSIGNMENTS_CSV, index=False)&#xa;&#xa;&#xa;# %%&#xa;if __name__ == &quot;__main__&quot;:&#xa;    print(&quot;Starting classification…&quot;)&#xa;    if not OPENAI_API_KEY:&#xa;        print(&quot;⚠️ Внимание: OPENAI_API_KEY не задан — будет офлайн‑эмуляция (для отладки).&quot;)&#xa;    run_classification()&#xa;    print(&quot;Готово. Проверьте файлы:&quot;)&#xa;    print(f&quot;  • Реестр категорий: {REGISTRY_JSON}&quot;)&#xa;    print(f&quot;  • Присвоения:       {ASSIGNMENTS_CSV}&quot;)" link="# %% [markdown]&#xa;# # Классификация обращений бизнес‑пользователей в поддержку кредитного процесса&#xa;# &#xa;# **Подход:** Schema‑Guided Reasoning (SGR) + Structured Output, инкрементальная онтология категорий.&#xa;# &#xa;# Что делает ноутбук:&#xa;# 1) Загружает Excel с обращениями (колонки: `id`, `request`, `response` — переименуйте ниже, если у вас иначе).&#xa;# 2) Для каждой строки создаёт компактный контекст (вопрос+ответ), подбирает N ближайших категорий из реестра (через эмбеддинги),&#xa;# 3) Отправляет запрос к LLM с **жёсткой схемой ответа** (Pydantic) — либо сопоставляет с существующей категорией, либо создаёт новую (имя + описание + ключевые слова).&#xa;# 4) Сохраняет:&#xa;#    - присвоение категории для строки (CSV),&#xa;#    - расширенный реестр категорий (JSON),&#xa;#    - эмбеддинги для ускорения следующей итерации (встроены в JSON).&#xa;# &#xa;# ⚙️ Требования: `openai&gt;=1.40`, `pydantic&gt;=2`, `pandas`, `tqdm`, `numpy`, `scikit-learn` (для косинусной близости) &#xa;# &#xa;# ⚠️ Безопасность: модель не должна выдумывать. Все поля строго ограничены схемой. Новые категории краткие, бизнес‑язык, без PII.&#xa;&#xa;&#xa;# %%&#xa;import os&#xa;import json&#xa;import time&#xa;import math&#xa;from dataclasses import dataclass&#xa;from typing import List, Optional, Union, Literal, Dict, Any&#xa;&#xa;&#xa;import pandas as pd&#xa;import numpy as np&#xa;from pydantic import BaseModel, Field, conint, constr&#xa;from typing_extensions import Annotated&#xa;from annotated_types import MinLen, MaxLen&#xa;from tqdm import tqdm&#xa;&#xa;&#xa;# Если scikit-learn отсутствует, используем косинус вручную&#xa;try:&#xa;    from sklearn.metrics.pairwise import cosine_similarity&#xa;    def cos_sim(a: np.ndarray, b: np.ndarray) -&gt; np.ndarray:&#xa;        return cosine_similarity(a, b)&#xa;except Exception:&#xa;    def _norm(x: np.ndarray) -&gt; np.ndarray:&#xa;        n = np.linalg.norm(x, axis=1, keepdims=True) + 1e-12&#xa;        return x / n&#xa;    def cos_sim(a: np.ndarray, b: np.ndarray) -&gt; np.ndarray:&#xa;        a_n, b_n = _norm(a), _norm(b)&#xa;        return a_n @ b_n.T&#xa;&#xa;&#xa;# OpenAI SDK (см. https://pypi.org/project/openai/)&#xa;from openai import OpenAI&#xa;&#xa;&#xa;# =====================&#xa;#  НАСТРОЙКИ&#xa;# =====================&#xa;OPENAI_API_KEY = os.getenv(&quot;OPENAI_API_KEY&quot;, &quot;&quot;)  # положите ключ в переменную окружения&#xa;MODEL_CLASSIFY = os.getenv(&quot;LLM_CLASSIFY_MODEL&quot;, &quot;gpt-4o-mini&quot;)  # модель для классификации&#xa;MODEL_EMBED = os.getenv(&quot;EMBED_MODEL&quot;, &quot;text-embedding-3-small&quot;)  # эмбеддинги&#xa;&#xa;&#xa;EXCEL_PATH = &quot;./tickets.xlsx&quot;          # &lt;- поменяйте на ваш файл Excel&#xa;SHEET_NAME = 0                          # имя листа или индекс&#xa;COL_ID = &quot;id&quot;                           # имя колонки с уникальным идентификатором обращения&#xa;COL_REQ = &quot;request&quot;                      # имя колонки с текстом запроса&#xa;COL_RES = &quot;response&quot;                     # имя колонки с ответом (если есть)&#xa;&#xa;&#xa;REGISTRY_JSON = &quot;./category_registry.json&quot;   # файл онтологии категорий&#xa;ASSIGNMENTS_CSV = &quot;./assignments.csv&quot;        # файл присвоений (итоги классификации)&#xa;&#xa;&#xa;TOP_K_CANDIDATES = 12  # сколько ближайших категорий подмешивать в подсказку&#xa;TEMP = 0.2              # температура модели&#xa;MAX_TOKENS = 1500       # лимит на structured‑output ответ&#xa;BATCH_LIMIT = None      # ограничить количество строк для отладки: например 100; None = всё&#xa;&#xa;&#xa;# =====================&#xa;#  SGR: Схема ответа&#xa;# =====================&#xa;class ProposedLabel(BaseModel):&#xa;    name: constr(strip_whitespace=True, min_length=2, max_length=50)&#xa;    rationale: constr(strip_whitespace=True, min_length=5, max_length=300)&#xa;    confidence: conint(ge=0, le=100) = Field(..., description=&quot;0..100, субъективная уверенность в предложенной метке&quot;)&#xa;&#xa;&#xa;class AssignExisting(BaseModel):&#xa;    kind: Literal[&quot;existing&quot;]&#xa;    category_id: str&#xa;&#xa;&#xa;class CreateNew(BaseModel):&#xa;    kind: Literal[&quot;new&quot;]&#xa;    proposed_name: constr(strip_whitespace=True, min_length=3, max_length=40) = Field(&#xa;        ..., description=&quot;Короткое имя категории до 4 слов, без спецсимволов, на русском&quot;&#xa;    )&#xa;    description: constr(strip_whitespace=True, min_length=20, max_length=300) = Field(&#xa;        ..., description=&quot;1–2 предложения деловым языком: что это за обращения и ожидаемая обработка&quot;&#xa;    )&#xa;    keywords: Annotated[List[constr(strip_whitespace=True, min_length=2, max_length=30)], MinLen(3), MaxLen(8)]&#xa;    parent_hint: Optional[constr(strip_whitespace=True, max_length=40)] = Field(&#xa;        None, description=&quot;Необязательно: надкатегория/область (напр. &#39;Заявка&#39;, &#39;Скоринг&#39;, &#39;Документы&#39;)&quot;&#xa;    )&#xa;    duplicates_of: List[str] = Field(default_factory=list, description=&quot;Список ID близких существующих категорий, если есть&quot;)&#xa;&#xa;&#xa;class TicketClassification(BaseModel):&#xa;    # --- Cascade: нормализуем запрос ---&#xa;    normalized_problem: constr(strip_whitespace=True, min_length=10, max_length=300)&#xa;    # --- Cycle: выделим ключевые сигналы (2..5) ---&#xa;    signals_detected: Annotated[List[constr(strip_whitespace=True, min_length=2, max_length=80)], MinLen(2), MaxLen(5)]&#xa;    # --- Варианты ---&#xa;    proposed_labels: Annotated[List[ProposedLabel], MinLen(1), MaxLen(3)]&#xa;    # --- Routing: выбор ветки ---&#xa;    decision: Union[AssignExisting, CreateNew]&#xa;    # --- Контроль качества ---&#xa;    qa_consistency: Literal[&quot;ok&quot;, &quot;mismatch&quot;] = Field(..., description=&quot;Совпадает ли ответ поддержки с запросом по смыслу&quot;)&#xa;    final_confidence: conint(ge=1, le=10)&#xa;&#xa;&#xa;# =====================&#xa;# ️ Реестр категорий + эмбеддинги&#xa;# =====================&#xa;@dataclass&#xa;class Category:&#xa;    id: str&#xa;    name: str&#xa;    description: str&#xa;    keywords: List[str]&#xa;    created_at: str&#xa;    created_by: str = &quot;llm&quot;&#xa;    examples: Optional[List[str]] = None&#xa;    synonyms: Optional[List[str]] = None&#xa;    embedding: Optional[List[float]] = None&#xa;&#xa;&#xa;class CategoryRegistry:&#xa;    def __init__(self, path: str, client: OpenAI):&#xa;        self.path = path&#xa;        self.client = client&#xa;        self.schema_version = 1&#xa;        self.categories: Dict[str, Category] = {}&#xa;        if os.path.exists(path):&#xa;            self._load()&#xa;        else:&#xa;            self._save()&#xa;&#xa;&#xa;    def _load(self):&#xa;        with open(self.path, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:&#xa;            data = json.load(f)&#xa;        for c in data.get(&quot;categories&quot;, []):&#xa;            self.categories[c[&quot;id&quot;]] = Category(**c)&#xa;&#xa;&#xa;    def _save(self):&#xa;        data = {&#xa;            &quot;schema_version&quot;: self.schema_version,&#xa;            &quot;categories&quot;: [vars(c) for c in self.categories.values()],&#xa;        }&#xa;        with open(self.path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:&#xa;            json.dump(data, f, ensure_ascii=False, indent=2)&#xa;&#xa;&#xa;    def all(self) -&gt; List[Category]:&#xa;        return list(self.categories.values())&#xa;&#xa;&#xa;    def upsert(self, cat: Category):&#xa;        self.categories[cat.id] = cat&#xa;        self._save()&#xa;&#xa;&#xa;    def get_by_name(self, name_lower: str) -&gt; Optional[Category]:&#xa;        for c in self.categories.values():&#xa;            if c.name.lower() == name_lower:&#xa;                return c&#xa;        return None&#xa;&#xa;&#xa;    def ensure_embeddings(self):&#xa;        &quot;&quot;&quot;Считает эмбеддинги для тех категорий, у кого их нет.&quot;&quot;&quot;&#xa;        to_update = []&#xa;        payloads = []&#xa;        for c in self.categories.values():&#xa;            if not c.embedding:&#xa;                text = f&quot;{c.name}. {c.description}. Ключевые слова: {&#39;, &#39;.join(c.keywords)}&quot;&#xa;                payloads.append(text)&#xa;                to_update.append(c.id)&#xa;        if not payloads:&#xa;            return&#xa;        # пакетно считаем эмбеддинги&#xa;        embs = embed(payloads)&#xa;        for cid, vec in zip(to_update, embs):&#xa;            self.categories[cid].embedding = vec&#xa;        self._save()&#xa;&#xa;&#xa;    def nearest(self, text: str, top_k: int = 12) -&gt; List[Category]:&#xa;        if not self.categories:&#xa;            return []&#xa;        self.ensure_embeddings()&#xa;        matrix = np.array([c.embedding for c in self.categories.values()], dtype=np.float32)&#xa;        q = np.array(embed([text])[0], dtype=np.float32).reshape(1, -1)&#xa;        sims = cos_sim(q, matrix)[0]&#xa;        order = np.argsort(-sims)[:top_k]&#xa;        cats = list(self.categories.values())&#xa;        return [cats[i] for i in order]&#xa;&#xa;&#xa;# =====================&#xa;#  Обёртки вокруг OpenAI&#xa;# =====================&#xa;client = OpenAI(api_key=OPENAI_API_KEY) if OPENAI_API_KEY else None&#xa;&#xa;&#xa;def embed(texts: List[str]) -&gt; List[List[float]]:&#xa;    if not client:&#xa;        # Фолбэк: случайный вектор (для сухого прогона без ключа) — НЕ для продакшна&#xa;        rng = np.random.default_rng(0)&#xa;        return rng.normal(size=(len(texts), 1536)).tolist()&#xa;    resp = client.embeddings.create(model=MODEL_EMBED, input=texts)&#xa;    return [d.embedding for d in resp.data]&#xa;&#xa;&#xa;# Ретраи для классификации&#xa;class Retry:&#xa;    def __init__(self, tries=3, base=1.0):&#xa;        self.tries = tries&#xa;        self.base = base&#xa;    def __call__(self, fn):&#xa;        def wrapped(*args, **kwargs):&#xa;            exc = None&#xa;            for i in range(self.tries):&#xa;                try:&#xa;                    return fn(*args, **kwargs)&#xa;                except Exception as e:&#xa;                    exc = e&#xa;                    time.sleep(self.base * (2 ** i))&#xa;            raise exc&#xa;        return wrapped&#xa;&#xa;&#xa;@Retry(tries=4, base=1.0)&#xa;def llm_classify(case_text: str, candidate_categories: List[Category]) -&gt; TicketClassification:&#xa;    &quot;&quot;&quot;Вызывает LLM с жёсткой схемой SGR и возвращает парсенный объект.&quot;&quot;&quot;&#xa;    # Сжимаем список категорий в компактный JSON для подсказки&#xa;    cats_brief = [&#xa;        {&#xa;            &quot;id&quot;: c.id,&#xa;            &quot;name&quot;: c.name,&#xa;            &quot;description&quot;: c.description,&#xa;            &quot;keywords&quot;: c.keywords[:8],&#xa;        }&#xa;        for c in candidate_categories&#xa;    ]&#xa;&#xa;&#xa;    system = (&#xa;        &quot;Ты — классификатор обращений поддержки в банковском кредитном процессе. &quot;&#xa;        &quot;Строго следуй схеме ответа, не выходи за пределы. &quot;&#xa;        &quot;Если нет подходящей категории — создай новую краткую бизнес‑категорию. &quot;&#xa;        &quot;Избегай PII, не копируй целиком тексты клиента.&quot;&#xa;    )&#xa;    developer = (&#xa;        &quot;Полезные категории (топ‑N по близости):\n&quot; + json.dumps(cats_brief, ensure_ascii=False)&#xa;        + &quot;\nВыбирай существующую **только** если смысловое совпадение высокое.&quot;&#xa;    )&#xa;&#xa;&#xa;    messages = [&#xa;        {&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: system},&#xa;        {&quot;role&quot;: &quot;developer&quot;, &quot;content&quot;: developer},&#xa;        {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: case_text},&#xa;    ]&#xa;&#xa;&#xa;    if not client:&#xa;        # Офлайн режим (без API ключа) — имитируем создание НОВОЙ категории&#xa;        return TicketClassification(&#xa;            normalized_problem=case_text[:200],&#xa;            signals_detected=[&quot;offline&quot;, &quot;no_api_key&quot;],&#xa;            proposed_labels=[ProposedLabel(name=&quot;Тестовая категория&quot;, rationale=&quot;Фолбэк режим&quot;, confidence=10)],&#xa;            decision=CreateNew(kind=&quot;new&quot;, proposed_name=&quot;Тестовая категория&quot;, description=&quot;Пример новой категории в офлайн режиме.&quot;, keywords=[&quot;тест&quot;, &quot;пример&quot;, &quot;офлайн&quot;], parent_hint=None, duplicates_of=[]),&#xa;            qa_consistency=&quot;ok&quot;,&#xa;            final_confidence=1,&#xa;        )&#xa;&#xa;&#xa;    comp = client.beta.chat.completions.parse(&#xa;        model=MODEL_CLASSIFY,&#xa;        response_format=TicketClassification,&#xa;        messages=messages,&#xa;        max_completion_tokens=MAX_TOKENS,&#xa;        temperature=TEMP,&#xa;    )&#xa;    parsed: TicketClassification = comp.choices[0].message.parsed&#xa;    return parsed&#xa;&#xa;&#xa;# =====================&#xa;#  Утилиты&#xa;# =====================&#xa;def compact_case(request: str, response: Optional[str]) -&gt; str:&#xa;    req = (request or &quot;&quot;).strip()&#xa;    res = (response or &quot;&quot;).strip()&#xa;    text = f&quot;Запрос: {req}&quot;&#xa;    if res:&#xa;        text += f&quot;\nОтвет поддержки: {res}&quot;&#xa;    return text[:4000]  # safety&#xa;&#xa;&#xa;&#xa;&#xa;def new_category_id(existing: Dict[str, Category]) -&gt; str:&#xa;    base = 1&#xa;    if existing:&#xa;        nums = []&#xa;        for cid in existing:&#xa;            try:&#xa;                nums.append(int(cid.replace(&quot;C&quot;, &quot;&quot;)))&#xa;            except Exception:&#xa;                pass&#xa;        base = (max(nums) + 1) if nums else (len(existing) + 1)&#xa;    return f&quot;C{base:04d}&quot;&#xa;&#xa;&#xa;# =====================&#xa;# ▶️ Основной цикл&#xa;# =====================&#xa;&#xa;&#xa;def run_classification():&#xa;    if not os.path.exists(EXCEL_PATH):&#xa;        raise FileNotFoundError(f&quot;Excel не найден: {EXCEL_PATH}&quot;)&#xa;&#xa;&#xa;    df = pd.read_excel(EXCEL_PATH, sheet_name=SHEET_NAME)&#xa;    for col in [COL_ID, COL_REQ]:&#xa;        if col not in df.columns:&#xa;            raise KeyError(f&quot;Колонка &#39;{col}&#39; отсутствует в Excel&quot;)&#xa;&#xa;&#xa;    # Готовим реестр&#xa;    registry = CategoryRegistry(REGISTRY_JSON, client)&#xa;&#xa;&#xa;    # Подготовим файл присвоений&#xa;    if os.path.exists(ASSIGNMENTS_CSV):&#xa;        assignments = pd.read_csv(ASSIGNMENTS_CSV)&#xa;    else:&#xa;        assignments = pd.DataFrame(columns=[&quot;id&quot;, &quot;category_id&quot;, &quot;category_name&quot;, &quot;is_new_category&quot;, &quot;confidence_1_10&quot;, &quot;qa_consistency&quot;])    &#xa;&#xa;&#xa;    # Ограничение батча для отладки&#xa;    it_df = df if BATCH_LIMIT is None else df.head(BATCH_LIMIT)&#xa;&#xa;&#xa;    for _, row in tqdm(it_df.iterrows(), total=len(it_df)):&#xa;        rid = str(row[COL_ID])&#xa;        if (assignments[&quot;id&quot;] == rid).any():&#xa;            continue  # уже классифицировано&#xa;&#xa;&#xa;        request = str(row[COL_REQ]) if not pd.isna(row[COL_REQ]) else &quot;&quot;&#xa;        response = str(row[COL_RES]) if (COL_RES in df.columns and not pd.isna(row[COL_RES])) else &quot;&quot;&#xa;        case_text = compact_case(request, response)&#xa;&#xa;&#xa;        # 1) Подбор кандидатов&#xa;        seed_text = request + &quot;\n&quot; + response&#xa;        cand = registry.nearest(seed_text, top_k=TOP_K_CANDIDATES)&#xa;&#xa;&#xa;        # 2) Классификация по схеме SGR&#xa;        job = llm_classify(case_text, cand)&#xa;&#xa;&#xa;        # 3) Разбор решения&#xa;        is_new = False&#xa;        if isinstance(job.decision, AssignExisting):&#xa;            cid = job.decision.category_id&#xa;            cat = registry.categories.get(cid)&#xa;            if not cat:&#xa;                # страховка: если модель вернула старый id, но такой не найден — создадим новую как fallback&#xa;                is_new = True&#xa;            else:&#xa;                assignments.loc[len(assignments)] = [&#xa;                    rid, cid, cat.name, False, job.final_confidence, job.qa_consistency&#xa;                ]&#xa;                continue&#xa;&#xa;&#xa;        if isinstance(job.decision, CreateNew) or is_new:&#xa;            decide = job.decision if isinstance(job.decision, CreateNew) else None&#xa;            # Проверяем: вдруг имя совпадает с существующим (по точному имени)&#xa;            existing = registry.get_by_name(decide.proposed_name.lower()) if decide else None&#xa;            if existing:&#xa;                cid = existing.id&#xa;                cat_name = existing.name&#xa;            else:&#xa;                cid = new_category_id(registry.categories)&#xa;                cat_name = decide.proposed_name if decide else &quot;Категория без имени&quot;&#xa;                new_cat = Category(&#xa;                    id=cid,&#xa;                    name=cat_name,&#xa;                    description=(decide.description if decide else &quot;Описание не задано&quot;),&#xa;                    keywords=(decide.keywords if decide else []),&#xa;                    created_at=pd.Timestamp.utcnow().strftime(&#39;%Y-%m-%dT%H:%M:%SZ&#39;),&#xa;                    examples=[case_text[:300]],&#xa;                    synonyms=[],&#xa;                )&#xa;                registry.upsert(new_cat)&#xa;                # Сразу посчитаем эмбеддинг для новой категории — чтобы она участвовала в следующих итерациях&#xa;                registry.ensure_embeddings()&#xa;&#xa;&#xa;            assignments.loc[len(assignments)] = [&#xa;                rid, cid, cat_name, True, job.final_confidence, job.qa_consistency&#xa;            ]&#xa;&#xa;&#xa;        # Сохраняем присвоения порциями, чтобы не потерять прогресс&#xa;        if len(assignments) % 10 == 0:&#xa;            assignments.to_csv(ASSIGNMENTS_CSV, index=False)&#xa;&#xa;&#xa;    # Финальный сейв&#xa;    assignments.to_csv(ASSIGNMENTS_CSV, index=False)&#xa;&#xa;&#xa;# %%&#xa;if __name__ == &quot;__main__&quot;:&#xa;    print(&quot;Starting classification…&quot;)&#xa;    if not OPENAI_API_KEY:&#xa;        print(&quot;⚠️ Внимание: OPENAI_API_KEY не задан — будет офлайн‑эмуляция (для отладки).&quot;)&#xa;    run_classification()&#xa;    print(&quot;Готово. Проверьте файлы:&quot;)&#xa;    print(f&quot;  • Реестр категорий: {REGISTRY_JSON}&quot;)&#xa;    print(f&quot;  • Присвоения:       {ASSIGNMENTS_CSV}&quot;)" id="ntieQa3HnKI0EJcjRLTN-2">
          <mxCell style="text;whiteSpace=wrap;" vertex="1" parent="1">
            <mxGeometry x="1330" y="40" width="560" height="6730" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="{&#xa; &quot;cells&quot;: [&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;markdown&quot;,&#xa;   &quot;id&quot;: &quot;8bde4f41&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;source&quot;: [&#xa;    &quot;# Классификация обращений: без эмбеддингов, с SGR через промпт и кастомный LLM\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;**Ключевые требования, учтены:**\n&quot;,&#xa;    &quot;- **Без эмбеддингов.** Актуальный список категорий целиком передаём в промпт на каждом шаге.\n&quot;,&#xa;    &quot;- **Свой LLM.** Оставлен шаблон `call_llm(...)` — реализуйте обращение к вашей модели.\n&quot;,&#xa;    &quot;- **Structured Output — через промпт.** Жёсткая схема ответа задаётся в подсказке; парсинг и валидация делаются в Python.\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;**Что делает ноутбук:**\n&quot;,&#xa;    &quot;- Читает Excel с обращениями (колонки `id`, `request`, `response` — можно переименовать ниже).\n&quot;,&#xa;    &quot;- На каждую строку строит промпт: весь список категорий + SGR‑инструкции + строгая JSON‑схема ответа.\n&quot;,&#xa;    &quot;- Вызывает вашу модель (заглушка `call_llm`).\n&quot;,&#xa;    &quot;- Парсит JSON‑ответ, валидирует по pydantic, сохраняет присвоения и при необходимости добавляет новую категорию в реестр.\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;**Выходные файлы:**\n&quot;,&#xa;    &quot;- `category_registry.json` — список категорий (нарастающий).\n&quot;,&#xa;    &quot;- `assignments.csv` — результат классификации построчно.\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: 1,&#xa;   &quot;id&quot;: &quot;647d947c&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [&#xa;    {&#xa;     &quot;ename&quot;: &quot;ModuleNotFoundError&quot;,&#xa;     &quot;evalue&quot;: &quot;No module named &#39;pandas&#39;&quot;,&#xa;     &quot;output_type&quot;: &quot;error&quot;,&#xa;     &quot;traceback&quot;: [&#xa;      &quot;\u001b[31m---------------------------------------------------------------------------\u001b[39m&quot;,&#xa;      &quot;\u001b[31mModuleNotFoundError\u001b[39m                       Traceback (most recent call last)&quot;,&#xa;      &quot;\u001b[36mCell\u001b[39m\u001b[36m \u001b[39m\u001b[32mIn[1]\u001b[39m\u001b[32m, line 10\u001b[39m\n\u001b[32m      7\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mdataclasses\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m dataclass\n\u001b[32m      8\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mtyping\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m List, Optional, Dict, Any, Literal, Union\n\u001b[32m---&amp;gt; \u001b[39m\u001b[32m10\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mpandas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mpd\u001b[39;00m\n\u001b[32m     11\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mpydantic\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m BaseModel, Field, ValidationError, constr, conint\n\u001b[32m     12\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mtyping_extensions\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m Annotated\n&quot;,&#xa;      &quot;\u001b[31mModuleNotFoundError\u001b[39m: No module named &#39;pandas&#39;&quot;&#xa;     ]&#xa;    }&#xa;   ],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  НАСТРОЙКИ\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;import os\n&quot;,&#xa;    &quot;import json\n&quot;,&#xa;    &quot;import re\n&quot;,&#xa;    &quot;from dataclasses import dataclass\n&quot;,&#xa;    &quot;from typing import List, Optional, Dict, Any, Literal, Union\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;import pandas as pd\n&quot;,&#xa;    &quot;from pydantic import BaseModel, Field, ValidationError, constr, conint\n&quot;,&#xa;    &quot;from typing_extensions import Annotated\n&quot;,&#xa;    &quot;from annotated_types import MinLen, MaxLen\n&quot;,&#xa;    &quot;from tqdm import tqdm\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;EXCEL_PATH = \&quot;./tickets.xlsx\&quot;     # &amp;lt;- путь к вашему Excel\n&quot;,&#xa;    &quot;SHEET_NAME = 0                      # имя листа или индекс\n&quot;,&#xa;    &quot;COL_ID = \&quot;id\&quot;                      # колонка с уникальным идентификатором\n&quot;,&#xa;    &quot;COL_REQ = \&quot;request\&quot;                # колонка с текстом запроса\n&quot;,&#xa;    &quot;COL_RES = \&quot;response\&quot;               # колонка с ответом поддержки (если есть)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;REGISTRY_JSON = \&quot;./category_registry.json\&quot;   # текущий реестр категорий\n&quot;,&#xa;    &quot;ASSIGNMENTS_CSV = \&quot;./assignments.csv\&quot;        # файл присвоений\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;BATCH_LIMIT = None   # например 100 для отладки; None = обработать всё\n&quot;,&#xa;    &quot;SAVE_EVERY = 10      # как часто сохранять прогресс в CSV\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;CATEGORIES_IN_PROMPT_STRATEGY: Literal[\&quot;all\&quot;, \&quot;recent_n\&quot;] = \&quot;all\&quot;\n&quot;,&#xa;    &quot;RECENT_N = 300  # актуально, если выбрано \&quot;recent_n\&quot;\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;26d846e1&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  Схемы (валидация ответа модели)\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;class ProposedLabel(BaseModel):\n&quot;,&#xa;    &quot;    name: constr(strip_whitespace=True, min_length=2, max_length=50)\n&quot;,&#xa;    &quot;    rationale: constr(strip_whitespace=True, min_length=5, max_length=300)\n&quot;,&#xa;    &quot;    confidence: conint(ge=0, le=100)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;class AssignExisting(BaseModel):\n&quot;,&#xa;    &quot;    kind: Literal[\&quot;existing\&quot;]\n&quot;,&#xa;    &quot;    category_id: constr(strip_whitespace=True, min_length=1, max_length=40)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;class CreateNew(BaseModel):\n&quot;,&#xa;    &quot;    kind: Literal[\&quot;new\&quot;]\n&quot;,&#xa;    &quot;    proposed_name: constr(strip_whitespace=True, min_length=3, max_length=40)\n&quot;,&#xa;    &quot;    description: constr(strip_whitespace=True, min_length=20, max_length=300)\n&quot;,&#xa;    &quot;    keywords: Annotated[List[constr(strip_whitespace=True, min_length=2, max_length=30)], MinLen(3), MaxLen(8)]\n&quot;,&#xa;    &quot;    parent_hint: Optional[constr(strip_whitespace=True, max_length=40)] = None\n&quot;,&#xa;    &quot;    duplicates_of: List[str] = Field(default_factory=list)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;class TicketClassification(BaseModel):\n&quot;,&#xa;    &quot;    normalized_problem: constr(strip_whitespace=True, min_length=10, max_length=300)\n&quot;,&#xa;    &quot;    signals_detected: Annotated[List[constr(strip_whitespace=True, min_length=2, max_length=80)], MinLen(2), MaxLen(5)]\n&quot;,&#xa;    &quot;    proposed_labels: Annotated[List[ProposedLabel], MinLen(1), MaxLen(3)]\n&quot;,&#xa;    &quot;    decision: Union[AssignExisting, CreateNew]\n&quot;,&#xa;    &quot;    qa_consistency: Literal[\&quot;ok\&quot;, \&quot;mismatch\&quot;]\n&quot;,&#xa;    &quot;    final_confidence: conint(ge=1, le=10)\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;382fc13a&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;# ️ Реестр категорий (без эмбеддингов)\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;@dataclass\n&quot;,&#xa;    &quot;class Category:\n&quot;,&#xa;    &quot;    id: str\n&quot;,&#xa;    &quot;    name: str\n&quot;,&#xa;    &quot;    description: str\n&quot;,&#xa;    &quot;    keywords: List[str]\n&quot;,&#xa;    &quot;    created_at: str\n&quot;,&#xa;    &quot;    created_by: str = \&quot;llm\&quot;\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;class CategoryRegistry:\n&quot;,&#xa;    &quot;    def __init__(self, path: str):\n&quot;,&#xa;    &quot;        self.path = path\n&quot;,&#xa;    &quot;        self.categories: Dict[str, Category] = {}\n&quot;,&#xa;    &quot;        if os.path.exists(path):\n&quot;,&#xa;    &quot;            self._load()\n&quot;,&#xa;    &quot;        else:\n&quot;,&#xa;    &quot;            self._save()\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    def _load(self):\n&quot;,&#xa;    &quot;        with open(self.path, \&quot;r\&quot;, encoding=\&quot;utf-8\&quot;) as f:\n&quot;,&#xa;    &quot;            data = json.load(f)\n&quot;,&#xa;    &quot;        for c in data.get(\&quot;categories\&quot;, []):\n&quot;,&#xa;    &quot;            self.categories[c[\&quot;id\&quot;]] = Category(**c)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    def _save(self):\n&quot;,&#xa;    &quot;        data = {\n&quot;,&#xa;    &quot;            \&quot;schema_version\&quot;: 1,\n&quot;,&#xa;    &quot;            \&quot;categories\&quot;: [vars(c) for c in self.categories.values()],\n&quot;,&#xa;    &quot;        }\n&quot;,&#xa;    &quot;        with open(self.path, \&quot;w\&quot;, encoding=\&quot;utf-8\&quot;) as f:\n&quot;,&#xa;    &quot;            json.dump(data, f, ensure_ascii=False, indent=2)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    def all(self) -&amp;gt; List[Category]:\n&quot;,&#xa;    &quot;        # Возвращаем в стабильном порядке по id\n&quot;,&#xa;    &quot;        return [self.categories[k] for k in sorted(self.categories.keys())]\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    def upsert(self, cat: Category):\n&quot;,&#xa;    &quot;        self.categories[cat.id] = cat\n&quot;,&#xa;    &quot;        self._save()\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    def get_by_id(self, cid: str) -&amp;gt; Optional[Category]:\n&quot;,&#xa;    &quot;        return self.categories.get(cid)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    def get_by_name_lower(self, name_lower: str) -&amp;gt; Optional[Category]:\n&quot;,&#xa;    &quot;        for c in self.categories.values():\n&quot;,&#xa;    &quot;            if c.name.lower() == name_lower:\n&quot;,&#xa;    &quot;                return c\n&quot;,&#xa;    &quot;        return None\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;4508dbf7&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  Заглушка вызова вашей модели\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;def call_llm(system: str, prompt: str, **kwargs) -&amp;gt; str:\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;\n&quot;,&#xa;    &quot;    Реализуйте вызов своей LLM здесь. Функция должна вернуть СТРОКУ с JSON-объектом,\n&quot;,&#xa;    &quot;    соответствующим схеме ниже. Никаких подсказок пользователю возвращать не нужно.\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    Пример интеграции (псевдокод):\n&quot;,&#xa;    &quot;    response = my_model.chat(system=system, prompt=prompt, temperature=0.2, max_tokens=1500)\n&quot;,&#xa;    &quot;    return response.text\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;\n&quot;,&#xa;    &quot;    raise NotImplementedError(\&quot;Подставьте вызов вашей модели в call_llm()\&quot;)\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;4c75510c&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  Построение промпта (SGR + строгая JSON-схема)\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;def build_prompt(case_text: str, categories_payload: List[Dict[str, Any]]) -&amp;gt; Dict[str, str]:\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;Возвращает {system, user} строки для чата с вашей моделью.\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    ВАЖНО: модель должна вернуть ТОЛЬКО один JSON-объект без префиксов/суффиксов.\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;\n&quot;,&#xa;    &quot;    system = (\n&quot;,&#xa;    &quot;        \&quot;Ты — классификатор обращений поддержки в банковском кредитном процессе. \&quot;\n&quot;,&#xa;    &quot;        \&quot;Отвечай строго по схеме JSON, без пояснений и без форматирования в код-блоках. \&quot;\n&quot;,&#xa;    &quot;        \&quot;Не раскрывай персональные данные, не цитируй длинные тексты пользователя.\&quot;\n&quot;,&#xa;    &quot;    )\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Компактно кодируем список категорий\n&quot;,&#xa;    &quot;    cats_json = json.dumps([\n&quot;,&#xa;    &quot;        {\n&quot;,&#xa;    &quot;            \&quot;id\&quot;: c.get(\&quot;id\&quot;),\n&quot;,&#xa;    &quot;            \&quot;name\&quot;: c.get(\&quot;name\&quot;),\n&quot;,&#xa;    &quot;            \&quot;description\&quot;: c.get(\&quot;description\&quot;),\n&quot;,&#xa;    &quot;            \&quot;keywords\&quot;: c.get(\&quot;keywords\&quot;, [])[:8],\n&quot;,&#xa;    &quot;        }\n&quot;,&#xa;    &quot;        for c in categories_payload\n&quot;,&#xa;    &quot;    ], ensure_ascii=False)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Инструкции SGR + строгие правила вывода\n&quot;,&#xa;    &quot;    user = f\&quot;\&quot;\&quot;\n&quot;,&#xa;    &quot;    Задача: Классифицировать обращение бизнес-пользователя.\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    \n&quot;,&#xa;    &quot;    {case_text}\n&quot;,&#xa;    &quot;    \n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    \n&quot;,&#xa;    &quot;    {cats_json}\n&quot;,&#xa;    &quot;    \n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    Требования (SGR):\n&quot;,&#xa;    &quot;    1) #Cascade — кратко нормализуй проблему (1–2 предложения).\n&quot;,&#xa;    &quot;    2) #Cycle — выдели 2–5 ключевых сигналов.\n&quot;,&#xa;    &quot;    3) Предложи 1–3 метки (name + rationale + confidence 0..100).\n&quot;,&#xa;    &quot;    4) #Routing — если одна из **существующих** категорий подходит, выбери её по `category_id`.\n&quot;,&#xa;    &quot;       Иначе создай новую категорию с кратким деловым названием (до 4 слов),\n&quot;,&#xa;    &quot;       чётким описанием (1–2 предложения) и 3–8 ключевыми словами.\n&quot;,&#xa;    &quot;    5) Проведи QA-проверку согласованности запроса и ответа: `qa_consistency` = \&quot;ok\&quot; или \&quot;mismatch\&quot;.\n&quot;,&#xa;    &quot;    6) Поставь итоговую уверенность по 10-балльной шкале (`final_confidence`).\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    Строгая схема JSON (верни ТОЛЬКО этот объект, без пояснений):\n&quot;,&#xa;    &quot;    {\n&quot;,&#xa;    &quot;      \&quot;normalized_problem\&quot;: string (10..300),\n&quot;,&#xa;    &quot;      \&quot;signals_detected\&quot;: [string, ...] (2..5 элементов),\n&quot;,&#xa;    &quot;      \&quot;proposed_labels\&quot;: [\n&quot;,&#xa;    &quot;        {\&quot;name\&quot;: string(2..50), \&quot;rationale\&quot;: string(5..300), \&quot;confidence\&quot;: int 0..100},\n&quot;,&#xa;    &quot;        ... 1..3 элемента\n&quot;,&#xa;    &quot;      ],\n&quot;,&#xa;    &quot;      \&quot;decision\&quot;: EITHER\n&quot;,&#xa;    &quot;        {\&quot;kind\&quot;:\&quot;existing\&quot;, \&quot;category_id\&quot;: string} OR\n&quot;,&#xa;    &quot;        {\&quot;kind\&quot;:\&quot;new\&quot;, \&quot;proposed_name\&quot;: string(&amp;lt;=4 слова), \&quot;description\&quot;: string(20..300),\n&quot;,&#xa;    &quot;         \&quot;keywords\&quot;: [string, ...] (3..8 элементов), \&quot;parent_hint\&quot;: string|null, \&quot;duplicates_of\&quot;: [string, ...]},\n&quot;,&#xa;    &quot;      \&quot;qa_consistency\&quot;: \&quot;ok\&quot; | \&quot;mismatch\&quot;,\n&quot;,&#xa;    &quot;      \&quot;final_confidence\&quot;: int 1..10\n&quot;,&#xa;    &quot;    }\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    Жёсткие правила вывода:\n&quot;,&#xa;    &quot;    - Верни ОДИН чистый JSON-объект. Без преамбулы, без комментариев, без ```json.\n&quot;,&#xa;    &quot;    - Используй только `category_id` из .\n&quot;,&#xa;    &quot;    - Не используй спецсимволы в названиях. Русский деловой стиль. Избегай ПДн.\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    return {\&quot;system\&quot;: system, \&quot;user\&quot;: user}\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;28c26547&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  Парсинг JSON без native structured output\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;def extract_json(text: str) -&amp;gt; Dict[str, Any]:\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;Извлекает первый корректный JSON-объект из ответа.\n&quot;,&#xa;    &quot;    Пытается убрать код-блоки и лишний текст.\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;\n&quot;,&#xa;    &quot;    if text is None:\n&quot;,&#xa;    &quot;        raise ValueError(\&quot;Пустой ответ модели\&quot;)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Удалим обёртки ```json ... ``` если вдруг есть\n&quot;,&#xa;    &quot;    fence = re.search(r\&quot;```(?:json)?\\s*([\\s\\S]*?)\\s*```\&quot;, text)\n&quot;,&#xa;    &quot;    if fence:\n&quot;,&#xa;    &quot;        candidate = fence.group(1)\n&quot;,&#xa;    &quot;        try:\n&quot;,&#xa;    &quot;            return json.loads(candidate)\n&quot;,&#xa;    &quot;        except Exception:\n&quot;,&#xa;    &quot;            pass\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Попробуем найти первый { ... } балансируя скобки\n&quot;,&#xa;    &quot;    idx = text.find(\&quot;{\&quot;)\n&quot;,&#xa;    &quot;    last = text.rfind(\&quot;}\&quot;)\n&quot;,&#xa;    &quot;    while idx != -1 and last != -1 and last &amp;gt;= idx:\n&quot;,&#xa;    &quot;        chunk = text[idx:last+1]\n&quot;,&#xa;    &quot;        try:\n&quot;,&#xa;    &quot;            return json.loads(chunk)\n&quot;,&#xa;    &quot;        except Exception:\n&quot;,&#xa;    &quot;            last = text.rfind(\&quot;}\&quot;, idx, last)\n&quot;,&#xa;    &quot;    # Последний шанс: удалить не-JSON мусор\n&quot;,&#xa;    &quot;    raise ValueError(\&quot;Не удалось извлечь корректный JSON из ответа модели\&quot;)\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;ad683d28&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  Утилиты\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;def new_category_id(existing_ids: List[str]) -&amp;gt; str:\n&quot;,&#xa;    &quot;    base = 1\n&quot;,&#xa;    &quot;    nums = []\n&quot;,&#xa;    &quot;    for cid in existing_ids:\n&quot;,&#xa;    &quot;        if cid.startswith(\&quot;C\&quot;):\n&quot;,&#xa;    &quot;            try:\n&quot;,&#xa;    &quot;                nums.append(int(cid[1:]))\n&quot;,&#xa;    &quot;            except Exception:\n&quot;,&#xa;    &quot;                pass\n&quot;,&#xa;    &quot;    if nums:\n&quot;,&#xa;    &quot;        base = max(nums) + 1\n&quot;,&#xa;    &quot;    else:\n&quot;,&#xa;    &quot;        base = len(existing_ids) + 1\n&quot;,&#xa;    &quot;    return f\&quot;C{base:04d}\&quot;\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;cd376e14&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;# ▶️ Основной цикл\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;def run_classification():\n&quot;,&#xa;    &quot;    if not os.path.exists(EXCEL_PATH):\n&quot;,&#xa;    &quot;        raise FileNotFoundError(f\&quot;Excel не найден: {EXCEL_PATH}\&quot;)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    df = pd.read_excel(EXCEL_PATH, sheet_name=SHEET_NAME)\n&quot;,&#xa;    &quot;    for col in [COL_ID, COL_REQ]:\n&quot;,&#xa;    &quot;        if col not in df.columns:\n&quot;,&#xa;    &quot;            raise KeyError(f\&quot;Колонка &#39;{col}&#39; отсутствует в Excel\&quot;)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Загрузим или создадим пустой реестр\n&quot;,&#xa;    &quot;    registry = CategoryRegistry(REGISTRY_JSON)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Загрузим текущие присвоения, если есть\n&quot;,&#xa;    &quot;    if os.path.exists(ASSIGNMENTS_CSV):\n&quot;,&#xa;    &quot;        assignments = pd.read_csv(ASSIGNMENTS_CSV)\n&quot;,&#xa;    &quot;    else:\n&quot;,&#xa;    &quot;        assignments = pd.DataFrame(columns=[\&quot;id\&quot;, \&quot;category_id\&quot;, \&quot;category_name\&quot;, \&quot;is_new_category\&quot;, \&quot;confidence_1_10\&quot;, \&quot;qa_consistency\&quot;])    \n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    it_df = df if BATCH_LIMIT is None else df.head(BATCH_LIMIT)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    for _, row in tqdm(it_df.iterrows(), total=len(it_df)):\n&quot;,&#xa;    &quot;        rid = str(row[COL_ID])\n&quot;,&#xa;    &quot;        if (assignments[\&quot;id\&quot;] == rid).any():\n&quot;,&#xa;    &quot;            continue\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;        request = str(row[COL_REQ]) if pd.notna(row[COL_REQ]) else \&quot;\&quot;\n&quot;,&#xa;    &quot;        response = str(row[COL_RES]) if (COL_RES in df.columns and pd.notna(row[COL_RES])) else \&quot;\&quot;\n&quot;,&#xa;    &quot;        case_text = (f\&quot;Запрос: {request}\\n\&quot; + (f\&quot;Ответ поддержки: {response}\&quot; if response else \&quot;\&quot;)).strip()\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;        # Подготовим список категорий, который уйдёт в промпт\n&quot;,&#xa;    &quot;        all_cats = registry.all()\n&quot;,&#xa;    &quot;        if CATEGORIES_IN_PROMPT_STRATEGY == \&quot;recent_n\&quot; and len(all_cats) &amp;gt; RECENT_N:\n&quot;,&#xa;    &quot;            cats_for_prompt = all_cats[-RECENT_N:]\n&quot;,&#xa;    &quot;        else:\n&quot;,&#xa;    &quot;            cats_for_prompt = all_cats\n&quot;,&#xa;    &quot;        cats_payload = [vars(c) for c in cats_for_prompt]\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;        # Построим промпт и вызовем LLM\n&quot;,&#xa;    &quot;        prompts = build_prompt(case_text, cats_payload)\n&quot;,&#xa;    &quot;        try:\n&quot;,&#xa;    &quot;            raw = call_llm(system=prompts[\&quot;system\&quot;], prompt=prompts[\&quot;user\&quot;], temperature=0.2, max_tokens=1500)\n&quot;,&#xa;    &quot;        except NotImplementedError as e:\n&quot;,&#xa;    &quot;            raise e\n&quot;,&#xa;    &quot;        except Exception as e:\n&quot;,&#xa;    &quot;            raise RuntimeError(f\&quot;Ошибка вызова LLM для id={rid}: {e}\&quot;)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;        # Парсинг + валидация\n&quot;,&#xa;    &quot;        try:\n&quot;,&#xa;    &quot;            data = extract_json(raw)\n&quot;,&#xa;    &quot;            job = TicketClassification(**data)\n&quot;,&#xa;    &quot;        except (ValueError, ValidationError) as e:\n&quot;,&#xa;    &quot;            raise RuntimeError(f\&quot;Невалидный JSON для id={rid}: {e}\\nОтвет модели: {raw[:500]}\&quot;)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;        # Применение решения\n&quot;,&#xa;    &quot;        if isinstance(job.decision, AssignExisting):\n&quot;,&#xa;    &quot;            cid = job.decision.category_id\n&quot;,&#xa;    &quot;            cat = registry.get_by_id(cid)\n&quot;,&#xa;    &quot;            if cat is None:\n&quot;,&#xa;    &quot;                # Если модель вернула несуществующий id — трактуем как новую категорию\n&quot;,&#xa;    &quot;                # Попробуем взять название из предложенных меток, иначе дефолт\n&quot;,&#xa;    &quot;                proposed_name = (job.proposed_labels[0].name if job.proposed_labels else \&quot;Новая категория\&quot;)\n&quot;,&#xa;    &quot;                cid = new_category_id(list(registry.categories.keys()))\n&quot;,&#xa;    &quot;                cat = Category(\n&quot;,&#xa;    &quot;                    id=cid,\n&quot;,&#xa;    &quot;                    name=proposed_name,\n&quot;,&#xa;    &quot;                    description=\&quot;Категория создана из-за неизвестного ID, возвращённого моделью.\&quot;,\n&quot;,&#xa;    &quot;                    keywords=[\&quot;авто\&quot;],\n&quot;,&#xa;    &quot;                    created_at=pd.Timestamp.utcnow().strftime(&#39;%Y-%m-%dT%H:%M:%SZ&#39;),\n&quot;,&#xa;    &quot;                )\n&quot;,&#xa;    &quot;                registry.upsert(cat)\n&quot;,&#xa;    &quot;            assignments.loc[len(assignments)] = [\n&quot;,&#xa;    &quot;                rid, cid, cat.name, False, job.final_confidence, job.qa_consistency\n&quot;,&#xa;    &quot;            ]\n&quot;,&#xa;    &quot;        else:  # CreateNew\n&quot;,&#xa;    &quot;            cid = new_category_id(list(registry.categories.keys()))\n&quot;,&#xa;    &quot;            cat = Category(\n&quot;,&#xa;    &quot;                id=cid,\n&quot;,&#xa;    &quot;                name=job.decision.proposed_name,\n&quot;,&#xa;    &quot;                description=job.decision.description,\n&quot;,&#xa;    &quot;                keywords=job.decision.keywords,\n&quot;,&#xa;    &quot;                created_at=pd.Timestamp.utcnow().strftime(&#39;%Y-%m-%dT%H:%M:%SZ&#39;),\n&quot;,&#xa;    &quot;            )\n&quot;,&#xa;    &quot;            registry.upsert(cat)\n&quot;,&#xa;    &quot;            assignments.loc[len(assignments)] = [\n&quot;,&#xa;    &quot;                rid, cid, cat.name, True, job.final_confidence, job.qa_consistency\n&quot;,&#xa;    &quot;            ]\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;        # Периодически сохраняем прогресс\n&quot;,&#xa;    &quot;        if len(assignments) % SAVE_EVERY == 0:\n&quot;,&#xa;    &quot;            assignments.to_csv(ASSIGNMENTS_CSV, index=False)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Финальный сейв\n&quot;,&#xa;    &quot;    assignments.to_csv(ASSIGNMENTS_CSV, index=False)\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;ebf406ab&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  Запуск\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;if __name__ == \&quot;__main__\&quot;:\n&quot;,&#xa;    &quot;    print(\&quot;Starting classification…\&quot;)\n&quot;,&#xa;    &quot;    run_classification()\n&quot;,&#xa;    &quot;    print(\&quot;Готово. Проверьте файлы:\&quot;)\n&quot;,&#xa;    &quot;    print(f\&quot;  • Реестр категорий: {REGISTRY_JSON}\&quot;)\n&quot;,&#xa;    &quot;    print(f\&quot;  • Присвоения:       {ASSIGNMENTS_CSV}\&quot;)\n&quot;&#xa;   ]&#xa;  }&#xa; ],&#xa; &quot;metadata&quot;: {&#xa;  &quot;kernelspec&quot;: {&#xa;   &quot;display_name&quot;: &quot;venv&quot;,&#xa;   &quot;language&quot;: &quot;python&quot;,&#xa;   &quot;name&quot;: &quot;python3&quot;&#xa;  },&#xa;  &quot;language_info&quot;: {&#xa;   &quot;codemirror_mode&quot;: {&#xa;    &quot;name&quot;: &quot;ipython&quot;,&#xa;    &quot;version&quot;: 3&#xa;   },&#xa;   &quot;file_extension&quot;: &quot;.py&quot;,&#xa;   &quot;mimetype&quot;: &quot;text/x-python&quot;,&#xa;   &quot;name&quot;: &quot;python&quot;,&#xa;   &quot;nbconvert_exporter&quot;: &quot;python&quot;,&#xa;   &quot;pygments_lexer&quot;: &quot;ipython3&quot;,&#xa;   &quot;version&quot;: &quot;3.11.3&quot;&#xa;  }&#xa; },&#xa; &quot;nbformat&quot;: 4,&#xa; &quot;nbformat_minor&quot;: 5&#xa;}" link="{&#xa; &quot;cells&quot;: [&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;markdown&quot;,&#xa;   &quot;id&quot;: &quot;8bde4f41&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;source&quot;: [&#xa;    &quot;# Классификация обращений: без эмбеддингов, с SGR через промпт и кастомный LLM\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;**Ключевые требования, учтены:**\n&quot;,&#xa;    &quot;- **Без эмбеддингов.** Актуальный список категорий целиком передаём в промпт на каждом шаге.\n&quot;,&#xa;    &quot;- **Свой LLM.** Оставлен шаблон `call_llm(...)` — реализуйте обращение к вашей модели.\n&quot;,&#xa;    &quot;- **Structured Output — через промпт.** Жёсткая схема ответа задаётся в подсказке; парсинг и валидация делаются в Python.\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;**Что делает ноутбук:**\n&quot;,&#xa;    &quot;- Читает Excel с обращениями (колонки `id`, `request`, `response` — можно переименовать ниже).\n&quot;,&#xa;    &quot;- На каждую строку строит промпт: весь список категорий + SGR‑инструкции + строгая JSON‑схема ответа.\n&quot;,&#xa;    &quot;- Вызывает вашу модель (заглушка `call_llm`).\n&quot;,&#xa;    &quot;- Парсит JSON‑ответ, валидирует по pydantic, сохраняет присвоения и при необходимости добавляет новую категорию в реестр.\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;**Выходные файлы:**\n&quot;,&#xa;    &quot;- `category_registry.json` — список категорий (нарастающий).\n&quot;,&#xa;    &quot;- `assignments.csv` — результат классификации построчно.\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: 1,&#xa;   &quot;id&quot;: &quot;647d947c&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [&#xa;    {&#xa;     &quot;ename&quot;: &quot;ModuleNotFoundError&quot;,&#xa;     &quot;evalue&quot;: &quot;No module named &#39;pandas&#39;&quot;,&#xa;     &quot;output_type&quot;: &quot;error&quot;,&#xa;     &quot;traceback&quot;: [&#xa;      &quot;\u001b[31m---------------------------------------------------------------------------\u001b[39m&quot;,&#xa;      &quot;\u001b[31mModuleNotFoundError\u001b[39m                       Traceback (most recent call last)&quot;,&#xa;      &quot;\u001b[36mCell\u001b[39m\u001b[36m \u001b[39m\u001b[32mIn[1]\u001b[39m\u001b[32m, line 10\u001b[39m\n\u001b[32m      7\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mdataclasses\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m dataclass\n\u001b[32m      8\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mtyping\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m List, Optional, Dict, Any, Literal, Union\n\u001b[32m---&amp;gt; \u001b[39m\u001b[32m10\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mpandas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mpd\u001b[39;00m\n\u001b[32m     11\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mpydantic\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m BaseModel, Field, ValidationError, constr, conint\n\u001b[32m     12\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mtyping_extensions\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m Annotated\n&quot;,&#xa;      &quot;\u001b[31mModuleNotFoundError\u001b[39m: No module named &#39;pandas&#39;&quot;&#xa;     ]&#xa;    }&#xa;   ],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  НАСТРОЙКИ\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;import os\n&quot;,&#xa;    &quot;import json\n&quot;,&#xa;    &quot;import re\n&quot;,&#xa;    &quot;from dataclasses import dataclass\n&quot;,&#xa;    &quot;from typing import List, Optional, Dict, Any, Literal, Union\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;import pandas as pd\n&quot;,&#xa;    &quot;from pydantic import BaseModel, Field, ValidationError, constr, conint\n&quot;,&#xa;    &quot;from typing_extensions import Annotated\n&quot;,&#xa;    &quot;from annotated_types import MinLen, MaxLen\n&quot;,&#xa;    &quot;from tqdm import tqdm\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;EXCEL_PATH = \&quot;./tickets.xlsx\&quot;     # &amp;lt;- путь к вашему Excel\n&quot;,&#xa;    &quot;SHEET_NAME = 0                      # имя листа или индекс\n&quot;,&#xa;    &quot;COL_ID = \&quot;id\&quot;                      # колонка с уникальным идентификатором\n&quot;,&#xa;    &quot;COL_REQ = \&quot;request\&quot;                # колонка с текстом запроса\n&quot;,&#xa;    &quot;COL_RES = \&quot;response\&quot;               # колонка с ответом поддержки (если есть)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;REGISTRY_JSON = \&quot;./category_registry.json\&quot;   # текущий реестр категорий\n&quot;,&#xa;    &quot;ASSIGNMENTS_CSV = \&quot;./assignments.csv\&quot;        # файл присвоений\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;BATCH_LIMIT = None   # например 100 для отладки; None = обработать всё\n&quot;,&#xa;    &quot;SAVE_EVERY = 10      # как часто сохранять прогресс в CSV\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;CATEGORIES_IN_PROMPT_STRATEGY: Literal[\&quot;all\&quot;, \&quot;recent_n\&quot;] = \&quot;all\&quot;\n&quot;,&#xa;    &quot;RECENT_N = 300  # актуально, если выбрано \&quot;recent_n\&quot;\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;26d846e1&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  Схемы (валидация ответа модели)\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;class ProposedLabel(BaseModel):\n&quot;,&#xa;    &quot;    name: constr(strip_whitespace=True, min_length=2, max_length=50)\n&quot;,&#xa;    &quot;    rationale: constr(strip_whitespace=True, min_length=5, max_length=300)\n&quot;,&#xa;    &quot;    confidence: conint(ge=0, le=100)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;class AssignExisting(BaseModel):\n&quot;,&#xa;    &quot;    kind: Literal[\&quot;existing\&quot;]\n&quot;,&#xa;    &quot;    category_id: constr(strip_whitespace=True, min_length=1, max_length=40)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;class CreateNew(BaseModel):\n&quot;,&#xa;    &quot;    kind: Literal[\&quot;new\&quot;]\n&quot;,&#xa;    &quot;    proposed_name: constr(strip_whitespace=True, min_length=3, max_length=40)\n&quot;,&#xa;    &quot;    description: constr(strip_whitespace=True, min_length=20, max_length=300)\n&quot;,&#xa;    &quot;    keywords: Annotated[List[constr(strip_whitespace=True, min_length=2, max_length=30)], MinLen(3), MaxLen(8)]\n&quot;,&#xa;    &quot;    parent_hint: Optional[constr(strip_whitespace=True, max_length=40)] = None\n&quot;,&#xa;    &quot;    duplicates_of: List[str] = Field(default_factory=list)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;class TicketClassification(BaseModel):\n&quot;,&#xa;    &quot;    normalized_problem: constr(strip_whitespace=True, min_length=10, max_length=300)\n&quot;,&#xa;    &quot;    signals_detected: Annotated[List[constr(strip_whitespace=True, min_length=2, max_length=80)], MinLen(2), MaxLen(5)]\n&quot;,&#xa;    &quot;    proposed_labels: Annotated[List[ProposedLabel], MinLen(1), MaxLen(3)]\n&quot;,&#xa;    &quot;    decision: Union[AssignExisting, CreateNew]\n&quot;,&#xa;    &quot;    qa_consistency: Literal[\&quot;ok\&quot;, \&quot;mismatch\&quot;]\n&quot;,&#xa;    &quot;    final_confidence: conint(ge=1, le=10)\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;382fc13a&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;# ️ Реестр категорий (без эмбеддингов)\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;@dataclass\n&quot;,&#xa;    &quot;class Category:\n&quot;,&#xa;    &quot;    id: str\n&quot;,&#xa;    &quot;    name: str\n&quot;,&#xa;    &quot;    description: str\n&quot;,&#xa;    &quot;    keywords: List[str]\n&quot;,&#xa;    &quot;    created_at: str\n&quot;,&#xa;    &quot;    created_by: str = \&quot;llm\&quot;\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;class CategoryRegistry:\n&quot;,&#xa;    &quot;    def __init__(self, path: str):\n&quot;,&#xa;    &quot;        self.path = path\n&quot;,&#xa;    &quot;        self.categories: Dict[str, Category] = {}\n&quot;,&#xa;    &quot;        if os.path.exists(path):\n&quot;,&#xa;    &quot;            self._load()\n&quot;,&#xa;    &quot;        else:\n&quot;,&#xa;    &quot;            self._save()\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    def _load(self):\n&quot;,&#xa;    &quot;        with open(self.path, \&quot;r\&quot;, encoding=\&quot;utf-8\&quot;) as f:\n&quot;,&#xa;    &quot;            data = json.load(f)\n&quot;,&#xa;    &quot;        for c in data.get(\&quot;categories\&quot;, []):\n&quot;,&#xa;    &quot;            self.categories[c[\&quot;id\&quot;]] = Category(**c)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    def _save(self):\n&quot;,&#xa;    &quot;        data = {\n&quot;,&#xa;    &quot;            \&quot;schema_version\&quot;: 1,\n&quot;,&#xa;    &quot;            \&quot;categories\&quot;: [vars(c) for c in self.categories.values()],\n&quot;,&#xa;    &quot;        }\n&quot;,&#xa;    &quot;        with open(self.path, \&quot;w\&quot;, encoding=\&quot;utf-8\&quot;) as f:\n&quot;,&#xa;    &quot;            json.dump(data, f, ensure_ascii=False, indent=2)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    def all(self) -&amp;gt; List[Category]:\n&quot;,&#xa;    &quot;        # Возвращаем в стабильном порядке по id\n&quot;,&#xa;    &quot;        return [self.categories[k] for k in sorted(self.categories.keys())]\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    def upsert(self, cat: Category):\n&quot;,&#xa;    &quot;        self.categories[cat.id] = cat\n&quot;,&#xa;    &quot;        self._save()\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    def get_by_id(self, cid: str) -&amp;gt; Optional[Category]:\n&quot;,&#xa;    &quot;        return self.categories.get(cid)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    def get_by_name_lower(self, name_lower: str) -&amp;gt; Optional[Category]:\n&quot;,&#xa;    &quot;        for c in self.categories.values():\n&quot;,&#xa;    &quot;            if c.name.lower() == name_lower:\n&quot;,&#xa;    &quot;                return c\n&quot;,&#xa;    &quot;        return None\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;4508dbf7&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  Заглушка вызова вашей модели\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;def call_llm(system: str, prompt: str, **kwargs) -&amp;gt; str:\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;\n&quot;,&#xa;    &quot;    Реализуйте вызов своей LLM здесь. Функция должна вернуть СТРОКУ с JSON-объектом,\n&quot;,&#xa;    &quot;    соответствующим схеме ниже. Никаких подсказок пользователю возвращать не нужно.\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    Пример интеграции (псевдокод):\n&quot;,&#xa;    &quot;    response = my_model.chat(system=system, prompt=prompt, temperature=0.2, max_tokens=1500)\n&quot;,&#xa;    &quot;    return response.text\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;\n&quot;,&#xa;    &quot;    raise NotImplementedError(\&quot;Подставьте вызов вашей модели в call_llm()\&quot;)\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;4c75510c&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  Построение промпта (SGR + строгая JSON-схема)\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;def build_prompt(case_text: str, categories_payload: List[Dict[str, Any]]) -&amp;gt; Dict[str, str]:\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;Возвращает {system, user} строки для чата с вашей моделью.\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    ВАЖНО: модель должна вернуть ТОЛЬКО один JSON-объект без префиксов/суффиксов.\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;\n&quot;,&#xa;    &quot;    system = (\n&quot;,&#xa;    &quot;        \&quot;Ты — классификатор обращений поддержки в банковском кредитном процессе. \&quot;\n&quot;,&#xa;    &quot;        \&quot;Отвечай строго по схеме JSON, без пояснений и без форматирования в код-блоках. \&quot;\n&quot;,&#xa;    &quot;        \&quot;Не раскрывай персональные данные, не цитируй длинные тексты пользователя.\&quot;\n&quot;,&#xa;    &quot;    )\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Компактно кодируем список категорий\n&quot;,&#xa;    &quot;    cats_json = json.dumps([\n&quot;,&#xa;    &quot;        {\n&quot;,&#xa;    &quot;            \&quot;id\&quot;: c.get(\&quot;id\&quot;),\n&quot;,&#xa;    &quot;            \&quot;name\&quot;: c.get(\&quot;name\&quot;),\n&quot;,&#xa;    &quot;            \&quot;description\&quot;: c.get(\&quot;description\&quot;),\n&quot;,&#xa;    &quot;            \&quot;keywords\&quot;: c.get(\&quot;keywords\&quot;, [])[:8],\n&quot;,&#xa;    &quot;        }\n&quot;,&#xa;    &quot;        for c in categories_payload\n&quot;,&#xa;    &quot;    ], ensure_ascii=False)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Инструкции SGR + строгие правила вывода\n&quot;,&#xa;    &quot;    user = f\&quot;\&quot;\&quot;\n&quot;,&#xa;    &quot;    Задача: Классифицировать обращение бизнес-пользователя.\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    \n&quot;,&#xa;    &quot;    {case_text}\n&quot;,&#xa;    &quot;    \n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    \n&quot;,&#xa;    &quot;    {cats_json}\n&quot;,&#xa;    &quot;    \n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    Требования (SGR):\n&quot;,&#xa;    &quot;    1) #Cascade — кратко нормализуй проблему (1–2 предложения).\n&quot;,&#xa;    &quot;    2) #Cycle — выдели 2–5 ключевых сигналов.\n&quot;,&#xa;    &quot;    3) Предложи 1–3 метки (name + rationale + confidence 0..100).\n&quot;,&#xa;    &quot;    4) #Routing — если одна из **существующих** категорий подходит, выбери её по `category_id`.\n&quot;,&#xa;    &quot;       Иначе создай новую категорию с кратким деловым названием (до 4 слов),\n&quot;,&#xa;    &quot;       чётким описанием (1–2 предложения) и 3–8 ключевыми словами.\n&quot;,&#xa;    &quot;    5) Проведи QA-проверку согласованности запроса и ответа: `qa_consistency` = \&quot;ok\&quot; или \&quot;mismatch\&quot;.\n&quot;,&#xa;    &quot;    6) Поставь итоговую уверенность по 10-балльной шкале (`final_confidence`).\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    Строгая схема JSON (верни ТОЛЬКО этот объект, без пояснений):\n&quot;,&#xa;    &quot;    {\n&quot;,&#xa;    &quot;      \&quot;normalized_problem\&quot;: string (10..300),\n&quot;,&#xa;    &quot;      \&quot;signals_detected\&quot;: [string, ...] (2..5 элементов),\n&quot;,&#xa;    &quot;      \&quot;proposed_labels\&quot;: [\n&quot;,&#xa;    &quot;        {\&quot;name\&quot;: string(2..50), \&quot;rationale\&quot;: string(5..300), \&quot;confidence\&quot;: int 0..100},\n&quot;,&#xa;    &quot;        ... 1..3 элемента\n&quot;,&#xa;    &quot;      ],\n&quot;,&#xa;    &quot;      \&quot;decision\&quot;: EITHER\n&quot;,&#xa;    &quot;        {\&quot;kind\&quot;:\&quot;existing\&quot;, \&quot;category_id\&quot;: string} OR\n&quot;,&#xa;    &quot;        {\&quot;kind\&quot;:\&quot;new\&quot;, \&quot;proposed_name\&quot;: string(&amp;lt;=4 слова), \&quot;description\&quot;: string(20..300),\n&quot;,&#xa;    &quot;         \&quot;keywords\&quot;: [string, ...] (3..8 элементов), \&quot;parent_hint\&quot;: string|null, \&quot;duplicates_of\&quot;: [string, ...]},\n&quot;,&#xa;    &quot;      \&quot;qa_consistency\&quot;: \&quot;ok\&quot; | \&quot;mismatch\&quot;,\n&quot;,&#xa;    &quot;      \&quot;final_confidence\&quot;: int 1..10\n&quot;,&#xa;    &quot;    }\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    Жёсткие правила вывода:\n&quot;,&#xa;    &quot;    - Верни ОДИН чистый JSON-объект. Без преамбулы, без комментариев, без ```json.\n&quot;,&#xa;    &quot;    - Используй только `category_id` из .\n&quot;,&#xa;    &quot;    - Не используй спецсимволы в названиях. Русский деловой стиль. Избегай ПДн.\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    return {\&quot;system\&quot;: system, \&quot;user\&quot;: user}\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;28c26547&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  Парсинг JSON без native structured output\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;def extract_json(text: str) -&amp;gt; Dict[str, Any]:\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;Извлекает первый корректный JSON-объект из ответа.\n&quot;,&#xa;    &quot;    Пытается убрать код-блоки и лишний текст.\n&quot;,&#xa;    &quot;    \&quot;\&quot;\&quot;\n&quot;,&#xa;    &quot;    if text is None:\n&quot;,&#xa;    &quot;        raise ValueError(\&quot;Пустой ответ модели\&quot;)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Удалим обёртки ```json ... ``` если вдруг есть\n&quot;,&#xa;    &quot;    fence = re.search(r\&quot;```(?:json)?\\s*([\\s\\S]*?)\\s*```\&quot;, text)\n&quot;,&#xa;    &quot;    if fence:\n&quot;,&#xa;    &quot;        candidate = fence.group(1)\n&quot;,&#xa;    &quot;        try:\n&quot;,&#xa;    &quot;            return json.loads(candidate)\n&quot;,&#xa;    &quot;        except Exception:\n&quot;,&#xa;    &quot;            pass\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Попробуем найти первый { ... } балансируя скобки\n&quot;,&#xa;    &quot;    idx = text.find(\&quot;{\&quot;)\n&quot;,&#xa;    &quot;    last = text.rfind(\&quot;}\&quot;)\n&quot;,&#xa;    &quot;    while idx != -1 and last != -1 and last &amp;gt;= idx:\n&quot;,&#xa;    &quot;        chunk = text[idx:last+1]\n&quot;,&#xa;    &quot;        try:\n&quot;,&#xa;    &quot;            return json.loads(chunk)\n&quot;,&#xa;    &quot;        except Exception:\n&quot;,&#xa;    &quot;            last = text.rfind(\&quot;}\&quot;, idx, last)\n&quot;,&#xa;    &quot;    # Последний шанс: удалить не-JSON мусор\n&quot;,&#xa;    &quot;    raise ValueError(\&quot;Не удалось извлечь корректный JSON из ответа модели\&quot;)\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;ad683d28&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  Утилиты\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;def new_category_id(existing_ids: List[str]) -&amp;gt; str:\n&quot;,&#xa;    &quot;    base = 1\n&quot;,&#xa;    &quot;    nums = []\n&quot;,&#xa;    &quot;    for cid in existing_ids:\n&quot;,&#xa;    &quot;        if cid.startswith(\&quot;C\&quot;):\n&quot;,&#xa;    &quot;            try:\n&quot;,&#xa;    &quot;                nums.append(int(cid[1:]))\n&quot;,&#xa;    &quot;            except Exception:\n&quot;,&#xa;    &quot;                pass\n&quot;,&#xa;    &quot;    if nums:\n&quot;,&#xa;    &quot;        base = max(nums) + 1\n&quot;,&#xa;    &quot;    else:\n&quot;,&#xa;    &quot;        base = len(existing_ids) + 1\n&quot;,&#xa;    &quot;    return f\&quot;C{base:04d}\&quot;\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;cd376e14&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;# ▶️ Основной цикл\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;def run_classification():\n&quot;,&#xa;    &quot;    if not os.path.exists(EXCEL_PATH):\n&quot;,&#xa;    &quot;        raise FileNotFoundError(f\&quot;Excel не найден: {EXCEL_PATH}\&quot;)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    df = pd.read_excel(EXCEL_PATH, sheet_name=SHEET_NAME)\n&quot;,&#xa;    &quot;    for col in [COL_ID, COL_REQ]:\n&quot;,&#xa;    &quot;        if col not in df.columns:\n&quot;,&#xa;    &quot;            raise KeyError(f\&quot;Колонка &#39;{col}&#39; отсутствует в Excel\&quot;)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Загрузим или создадим пустой реестр\n&quot;,&#xa;    &quot;    registry = CategoryRegistry(REGISTRY_JSON)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Загрузим текущие присвоения, если есть\n&quot;,&#xa;    &quot;    if os.path.exists(ASSIGNMENTS_CSV):\n&quot;,&#xa;    &quot;        assignments = pd.read_csv(ASSIGNMENTS_CSV)\n&quot;,&#xa;    &quot;    else:\n&quot;,&#xa;    &quot;        assignments = pd.DataFrame(columns=[\&quot;id\&quot;, \&quot;category_id\&quot;, \&quot;category_name\&quot;, \&quot;is_new_category\&quot;, \&quot;confidence_1_10\&quot;, \&quot;qa_consistency\&quot;])    \n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    it_df = df if BATCH_LIMIT is None else df.head(BATCH_LIMIT)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    for _, row in tqdm(it_df.iterrows(), total=len(it_df)):\n&quot;,&#xa;    &quot;        rid = str(row[COL_ID])\n&quot;,&#xa;    &quot;        if (assignments[\&quot;id\&quot;] == rid).any():\n&quot;,&#xa;    &quot;            continue\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;        request = str(row[COL_REQ]) if pd.notna(row[COL_REQ]) else \&quot;\&quot;\n&quot;,&#xa;    &quot;        response = str(row[COL_RES]) if (COL_RES in df.columns and pd.notna(row[COL_RES])) else \&quot;\&quot;\n&quot;,&#xa;    &quot;        case_text = (f\&quot;Запрос: {request}\\n\&quot; + (f\&quot;Ответ поддержки: {response}\&quot; if response else \&quot;\&quot;)).strip()\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;        # Подготовим список категорий, который уйдёт в промпт\n&quot;,&#xa;    &quot;        all_cats = registry.all()\n&quot;,&#xa;    &quot;        if CATEGORIES_IN_PROMPT_STRATEGY == \&quot;recent_n\&quot; and len(all_cats) &amp;gt; RECENT_N:\n&quot;,&#xa;    &quot;            cats_for_prompt = all_cats[-RECENT_N:]\n&quot;,&#xa;    &quot;        else:\n&quot;,&#xa;    &quot;            cats_for_prompt = all_cats\n&quot;,&#xa;    &quot;        cats_payload = [vars(c) for c in cats_for_prompt]\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;        # Построим промпт и вызовем LLM\n&quot;,&#xa;    &quot;        prompts = build_prompt(case_text, cats_payload)\n&quot;,&#xa;    &quot;        try:\n&quot;,&#xa;    &quot;            raw = call_llm(system=prompts[\&quot;system\&quot;], prompt=prompts[\&quot;user\&quot;], temperature=0.2, max_tokens=1500)\n&quot;,&#xa;    &quot;        except NotImplementedError as e:\n&quot;,&#xa;    &quot;            raise e\n&quot;,&#xa;    &quot;        except Exception as e:\n&quot;,&#xa;    &quot;            raise RuntimeError(f\&quot;Ошибка вызова LLM для id={rid}: {e}\&quot;)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;        # Парсинг + валидация\n&quot;,&#xa;    &quot;        try:\n&quot;,&#xa;    &quot;            data = extract_json(raw)\n&quot;,&#xa;    &quot;            job = TicketClassification(**data)\n&quot;,&#xa;    &quot;        except (ValueError, ValidationError) as e:\n&quot;,&#xa;    &quot;            raise RuntimeError(f\&quot;Невалидный JSON для id={rid}: {e}\\nОтвет модели: {raw[:500]}\&quot;)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;        # Применение решения\n&quot;,&#xa;    &quot;        if isinstance(job.decision, AssignExisting):\n&quot;,&#xa;    &quot;            cid = job.decision.category_id\n&quot;,&#xa;    &quot;            cat = registry.get_by_id(cid)\n&quot;,&#xa;    &quot;            if cat is None:\n&quot;,&#xa;    &quot;                # Если модель вернула несуществующий id — трактуем как новую категорию\n&quot;,&#xa;    &quot;                # Попробуем взять название из предложенных меток, иначе дефолт\n&quot;,&#xa;    &quot;                proposed_name = (job.proposed_labels[0].name if job.proposed_labels else \&quot;Новая категория\&quot;)\n&quot;,&#xa;    &quot;                cid = new_category_id(list(registry.categories.keys()))\n&quot;,&#xa;    &quot;                cat = Category(\n&quot;,&#xa;    &quot;                    id=cid,\n&quot;,&#xa;    &quot;                    name=proposed_name,\n&quot;,&#xa;    &quot;                    description=\&quot;Категория создана из-за неизвестного ID, возвращённого моделью.\&quot;,\n&quot;,&#xa;    &quot;                    keywords=[\&quot;авто\&quot;],\n&quot;,&#xa;    &quot;                    created_at=pd.Timestamp.utcnow().strftime(&#39;%Y-%m-%dT%H:%M:%SZ&#39;),\n&quot;,&#xa;    &quot;                )\n&quot;,&#xa;    &quot;                registry.upsert(cat)\n&quot;,&#xa;    &quot;            assignments.loc[len(assignments)] = [\n&quot;,&#xa;    &quot;                rid, cid, cat.name, False, job.final_confidence, job.qa_consistency\n&quot;,&#xa;    &quot;            ]\n&quot;,&#xa;    &quot;        else:  # CreateNew\n&quot;,&#xa;    &quot;            cid = new_category_id(list(registry.categories.keys()))\n&quot;,&#xa;    &quot;            cat = Category(\n&quot;,&#xa;    &quot;                id=cid,\n&quot;,&#xa;    &quot;                name=job.decision.proposed_name,\n&quot;,&#xa;    &quot;                description=job.decision.description,\n&quot;,&#xa;    &quot;                keywords=job.decision.keywords,\n&quot;,&#xa;    &quot;                created_at=pd.Timestamp.utcnow().strftime(&#39;%Y-%m-%dT%H:%M:%SZ&#39;),\n&quot;,&#xa;    &quot;            )\n&quot;,&#xa;    &quot;            registry.upsert(cat)\n&quot;,&#xa;    &quot;            assignments.loc[len(assignments)] = [\n&quot;,&#xa;    &quot;                rid, cid, cat.name, True, job.final_confidence, job.qa_consistency\n&quot;,&#xa;    &quot;            ]\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;        # Периодически сохраняем прогресс\n&quot;,&#xa;    &quot;        if len(assignments) % SAVE_EVERY == 0:\n&quot;,&#xa;    &quot;            assignments.to_csv(ASSIGNMENTS_CSV, index=False)\n&quot;,&#xa;    &quot;\n&quot;,&#xa;    &quot;    # Финальный сейв\n&quot;,&#xa;    &quot;    assignments.to_csv(ASSIGNMENTS_CSV, index=False)\n&quot;&#xa;   ]&#xa;  },&#xa;  {&#xa;   &quot;cell_type&quot;: &quot;code&quot;,&#xa;   &quot;execution_count&quot;: null,&#xa;   &quot;id&quot;: &quot;ebf406ab&quot;,&#xa;   &quot;metadata&quot;: {},&#xa;   &quot;outputs&quot;: [],&#xa;   &quot;source&quot;: [&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;#  Запуск\n&quot;,&#xa;    &quot;# =====================\n&quot;,&#xa;    &quot;if __name__ == \&quot;__main__\&quot;:\n&quot;,&#xa;    &quot;    print(\&quot;Starting classification…\&quot;)\n&quot;,&#xa;    &quot;    run_classification()\n&quot;,&#xa;    &quot;    print(\&quot;Готово. Проверьте файлы:\&quot;)\n&quot;,&#xa;    &quot;    print(f\&quot;  • Реестр категорий: {REGISTRY_JSON}\&quot;)\n&quot;,&#xa;    &quot;    print(f\&quot;  • Присвоения:       {ASSIGNMENTS_CSV}\&quot;)\n&quot;&#xa;   ]&#xa;  }&#xa; ],&#xa; &quot;metadata&quot;: {&#xa;  &quot;kernelspec&quot;: {&#xa;   &quot;display_name&quot;: &quot;venv&quot;,&#xa;   &quot;language&quot;: &quot;python&quot;,&#xa;   &quot;name&quot;: &quot;python3&quot;&#xa;  },&#xa;  &quot;language_info&quot;: {&#xa;   &quot;codemirror_mode&quot;: {&#xa;    &quot;name&quot;: &quot;ipython&quot;,&#xa;    &quot;version&quot;: 3&#xa;   },&#xa;   &quot;file_extension&quot;: &quot;.py&quot;,&#xa;   &quot;mimetype&quot;: &quot;text/x-python&quot;,&#xa;   &quot;name&quot;: &quot;python&quot;,&#xa;   &quot;nbconvert_exporter&quot;: &quot;python&quot;,&#xa;   &quot;pygments_lexer&quot;: &quot;ipython3&quot;,&#xa;   &quot;version&quot;: &quot;3.11.3&quot;&#xa;  }&#xa; },&#xa; &quot;nbformat&quot;: 4,&#xa; &quot;nbformat_minor&quot;: 5&#xa;}" id="ntieQa3HnKI0EJcjRLTN-3">
          <mxCell style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="630" y="20" width="560" height="7580" as="geometry" />
          </mxCell>
        </UserObject>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
